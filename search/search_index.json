{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"keras-vis: Keras Visualization Toolkit keras-vis\u306fKeras\u30e2\u30c7\u30eb\u306e\u53ef\u8996\u5316\u3068\u30c7\u30d0\u30c3\u30b0\u306e\u305f\u3081\u306e\u30cf\u30a4\u30ec\u30d9\u30eb\u30c4\u30fc\u30eb\u30ad\u30c3\u30c8\u3067\u3059\u3002 \u73fe\u5728\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u53ef\u8996\u5316: Activation maximization Saliency maps Class activation maps \u5168\u3066\u306e\u53ef\u8996\u5316\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067N\u6b21\u5143\u306e\u753b\u50cf\u5165\u529b\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002 \u3059\u306a\u308f\u3061\u3001\u30e2\u30c7\u30eb\u3078\u306eN\u6b21\u5143\u753b\u50cf\u5165\u529b\u3092\u4e00\u822c\u5316\u3057\u3066\u3044\u307e\u3059\u3002 keras-vis\u306f\u7c21\u6f54\u3067\u4f7f\u3044\u3084\u3059\u304f\u3001\u62e1\u5f35\u53ef\u80fd\u306a\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u5099\u3048\u3066\u3044\u307e\u3059\u3002 \u4e0a\u8a18\u306e\u53ef\u8996\u5316\u5168\u3066\u3092\u30a8\u30cd\u30eb\u30ae\u30fc\u6700\u5c0f\u5316\u554f\u984c\u3068\u3057\u3066\u4e00\u822c\u5316\u3057\u3066\u3044\u307e\u3059\u3002 theano\u3068tensorflow\u4e21\u65b9\u306e\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u4e92\u63db\u6027\u304c\u3042\u308a\u3001'channels_first'\u3068'channels_last'\u306e\u30c7\u30fc\u30bf\u5f62\u5f0f\u3092\u6271\u3048\u307e\u3059\u3002 \u30af\u30a4\u30c3\u30af\u30ea\u30f3\u30af https://keisen.github.io/keras-vis-docs-ja \u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u8aad\u3093\u3067\u304f\u3060\u3055\u3044\u3002 \u8cea\u554f\u3084\u8b70\u8ad6\u306e\u305f\u3081\u306bSlack\u306e \u30c1\u30e3\u30f3\u30cd\u30eb \u306b\u53c2\u52a0\u3057\u3066\u4e0b\u3055\u3044\u3002 \u79c1\u305f\u3061\u306f waffle.io \u3067\u65b0\u3057\u3044\u6a5f\u80fd\u3084\u30bf\u30b9\u30af\u3092\u8ffd\u8de1\u3057\u3066\u3044\u307e\u3059\u3002PullRequest\u3067\u624b\u52a9\u3051\u3057\u3066\u3082\u3089\u3048\u308b\u3068\u5b09\u3057\u3044\u3067\u3059\u3002 Getting Started \u753b\u50cf\u306e\u8aa4\u5dee\u9006\u4f1d\u642c\u554f\u984c\u3067\u306f\u3001\u305d\u306e\u30b4\u30fc\u30eb\u306f\u3044\u304f\u3064\u304b\u306e\u640d\u5931\u95a2\u6570\u3092\u6700\u5c0f\u306b\u3059\u308b\u5165\u529b\u753b\u50cf\u3092\u751f\u6210\u3059\u308b\u3053\u3068\u3067\u3059\u3002 \u753b\u50cf\u306e\u8aa4\u5dee\u9006\u4f1d\u642c\u554f\u984c\u3092\u8a2d\u5b9a\u3059\u308b\u306e\u306f\u7c21\u5358\u3067\u3059\u3002 \u91cd\u307f\u4ed8\u304d\u640d\u5931\u95a2\u6570\u3092\u5b9a\u7fa9 \u69d8\u3005\u306a\u6709\u7528\u306a\u640d\u5931\u95a2\u6570\u304c losses \u3067\u5b9a\u7fa9\u3055\u308c\u307e\u3059\u3002 \u30ab\u30b9\u30bf\u30e0\u306a\u640d\u5931\u95a2\u6570\u306f Loss.build_loss \u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3067\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002 from vis.losses import ActivationMaximization from vis.regularizers import TotalVariation, LPNorm filter_indices = [1, 2, 3] # \u30bf\u30d7\u30eb\u306f(\u640d\u5931\u95a2\u6570, \u91cd\u307f\u4fc2\u6570)\u3067\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002 # \u5fc5\u8981\u306b\u5fdc\u3058\u3066\u6b63\u5247\u5316(regularizers)\u3082\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002 losses = [ (ActivationMaximization(keras_layer, filter_indices), 1), (LPNorm(model.input), 10), (TotalVariation(model.input), 10) ] \u91cd\u307f\u4ed8\u304d\u640d\u5931\u3092\u6700\u5c0f\u5316\u3059\u308b\u305f\u3081\u306e\u6700\u9069\u5316\u8a2d\u5b9a \u81ea\u7136\u306a\u753b\u50cf\u3092\u751f\u6210\u3059\u308b\u305f\u3081\u3001\u753b\u50cf\u63a2\u7d22\u7a7a\u9593\u306f\u6b63\u5247\u5316\u30da\u30ca\u30eb\u30c6\u30a3\u3092\u7528\u3044\u3066\u5236\u9650\u3055\u308c\u307e\u3059\u3002 \u3044\u304f\u3064\u304b\u306e\u6c4e\u7528\u7684\u306a\u6b63\u5247\u5316\u306f regularizers \u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u640d\u5931\u95a2\u6570\u306e\u3088\u3046\u306b\u3001 Loss.build_loss \u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3067\u30ab\u30b9\u30bf\u30e0\u306a\u6b63\u5247\u5316\u3092\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002 from vis.optimizer import Optimizer optimizer = Optimizer(model.input, losses) opt_img, grads, _ = optimizer.minimize() \u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u53ef\u8996\u5316\u306e\u69d8\u3005\u306a\u5177\u4f53\u4f8b\u306f examples folder \u3067\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb Note \u73fe\u5728PyPI\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308bkeras-vis\u306f\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u305f\u3081\u3001\u591a\u304f\u306e\u4e0d\u5177\u5408\u3092\u542b\u307f\u307e\u3059\u3002 \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002 theano\u307e\u305f\u306ftensorflow\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u5171\u306b keras \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 Keras\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c2.0\u4ee5\u4e0a\u3067\u3042\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u4e0b\u3055\u3044\u3002 keras-vis\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb sudo python setup.py install PyPI\u30d1\u30c3\u30b1\u30fc\u30b8\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb sudo pip install keras-vis \u53ef\u8996\u5316\u3068\u306f Note \u73fe\u5728\u3001\u30ea\u30f3\u30af\u306f\u58ca\u308c\u3066\u304a\u308a\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u5168\u4f53\u3092\u4fee\u6b63\u4e2d\u3067\u3059\u3002 \u30b5\u30f3\u30d7\u30eb\u306f examples/ \u914d\u4e0b\u3092\u53c2\u7167\u3057\u3066\u4e0b\u3055\u3044\u3002 \u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u306f\u30d6\u30e9\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u3067\u3059\u3002 \u8fd1\u5e74\u3067\u306f\u3001\u7573\u307f\u8fbc\u307f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u7406\u89e3\u3057\u53ef\u8996\u5316\u3059\u308b\u305f\u3081\u306e\u3001\u3044\u304f\u3064\u304b\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u304c\u958b\u767a\u3055\u308c\u3001\u6587\u732e\u306b\u63b2\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u305d\u308c\u3089\u306f\u79c1\u9054\u306b\u30d6\u30e9\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u306b\u8033\u3092\u50be\u3051\u3001\u8aa4\u5206\u985e\u3092\u8a3a\u65ad\u3057\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304c\u904e\u5b66\u7fd2\uff08\u307e\u305f\u306f\u672a\u5b66\u7fd2\uff09\u304b\u3069\u3046\u304b\u3092\u8a55\u4fa1\u3059\u308b\u65b9\u6cd5\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002 Guided backprop can also be used to create trippy art , neural/texture style transfer among the list of other growing applications. \u3055\u307e\u3056\u307e\u306a\u8996\u899a\u5316\u304c\u305d\u308c\u305e\u308c\u306e\u30da\u30fc\u30b8\u3067\u6587\u66f8\u5316\u3055\u308c\u3001\u3053\u3053\u306b\u8981\u7d04\u3055\u308c\u3066\u3044\u307e\u3059\u3002 Conv filter visualization \u7573\u307f\u8fbc\u307f\u30d5\u30a3\u30eb\u30bf\u306f\u3001\u985e\u4f3c\u306e\u30d1\u30bf\u30fc\u30f3\u304c\u5165\u529b\u753b\u50cf\u5185\u306b\u898b\u3089\u308c\u308b\u3068\u304d\u51fa\u529b\u3092\u6700\u5927\u5316\u3059\u308b'\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30de\u30c3\u30c1\u30f3\u30b0'\u30d5\u30a3\u30eb\u30bf\u3092\u5b66\u7fd2\u3057\u307e\u3059\u3002 ActivationMaximization\u306b\u3088\u3063\u3066\u3053\u308c\u3089\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u8996\u899a\u5316\u3057\u307e\u3059\u3002 Dense layer visualization \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304c\u904e\u5b66\u7fd2\uff08\u307e\u305f\u306f\u672a\u5b66\u7fd2\uff09\u306a\u306e\u304b\u3001\u9069\u5207\u306b\u4e00\u822c\u5316\u3067\u304d\u3066\u3044\u308b\u306e\u304b\u3092\u3069\u306e\u3088\u3046\u306b\u8a55\u4fa1\u3067\u304d\u307e\u3059\u304b\uff1f Attention Maps \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304c\u305d\u306e\u51fa\u529b\u3092\u6c7a\u5b9a\u3059\u308b\u969b\u3001\u753b\u50cf\u306e\u6b63\u3057\u3044\u90e8\u5206\u3092\u6ce8\u8996\u3057\u3066\u3044\u308b\u306e\u304b\u3092\u3069\u306e\u3088\u3046\u306b\u8a55\u4fa1\u3067\u304d\u307e\u3059\u304b\uff1f \u6700\u9069\u5316\u306e\u9032\u6357\u3092GIF\u30a2\u30cb\u30e1\u3067\u51fa\u529b\u3059\u308b callbacks \u3092\u6d3b\u7528\u3057\u3066\u6700\u9069\u5316\u306e\u9032\u6357\u3092GIF\u30a2\u30cb\u30e1\u3068\u3057\u3066\u751f\u6210\u53ef\u80fd\u3067\u3059\u3002 \u6b21\u306e\u4f8b\u306f\u3001'\u30aa\u30bc\u30eb'\u30af\u30e9\u30b9\uff08output_index: 20\uff09\u306eActivationMaximization\u306b\u3088\u308b\u53ef\u8996\u5316\u3067\u3059\u3002 from vis.losses import ActivationMaximization from vis.regularizers import TotalVariation, LPNorm from vis.modifiers import Jitter from vis.optimizer import Optimizer from vis.callbacks import GifGenerator from vis.utils.vggnet import VGG16 # VGG16\u3092ImageNet\u306eWeights\u3067\u69cb\u7bc9\u3059\u308b model = VGG16(weights='imagenet', include_top=True) print('Model loaded.') # \u53ef\u8996\u5316\u3057\u305f\u3044\u30ec\u30a4\u30e4\u306e\u540d\u524d\uff08vggnet.py\u306e\u30e2\u30c7\u30eb\u5b9a\u7fa9\u3092\u53c2\u7167\u3057\u3066\u4e0b\u3055\u3044\uff09 layer_name = 'predictions' layer_dict = dict([(layer.name, layer) for layer in model.layers[1:]]) output_class = [20] losses = [ (ActivationMaximization(layer_dict[layer_name], output_class), 2), (LPNorm(model.input), 10), (TotalVariation(model.input), 10) ] opt = Optimizer(model.input, losses) opt.minimize(max_iter=500, verbose=True, image_modifiers=[Jitter()], callbacks=[GifGenerator('opt_progress')]) \u51fa\u529b\u306e\u632f\u52d5\u306b\u6ce8\u76ee\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u3053\u308c\u306f\u3001\u9bae\u660e\u306a\u6d3b\u6027\u5316\u6700\u5927\u5316\u753b\u50cf\u3092\u751f\u6210\u3059\u308b\u3053\u3068\u304c\u77e5\u3089\u308c\u3066\u3044\u308b[ImageModifier]\u306e\u4e00\u7a2e\u3067\u3042\u308b Jitter \u3092\u4f7f\u3063\u3066\u3044\u308b\u304b\u3089\u3067\u3059\u3002 \u30a8\u30af\u30b5\u30b5\u30a4\u30ba\u3068\u3057\u3066\u6b21\u306b\u6311\u6226\u3057\u3066\u307f\u3066\u4e0b\u3055\u3044\u3002 Jitter\u3092\u53d6\u308a\u9664\u304f \u640d\u5931\u306e\u91cd\u307f\u3092\u5909\u5316\u3055\u305b\u308b \u5f15\u7528 \u3082\u3057keras-vis\u304c\u3042\u306a\u305f\u306e\u7814\u7a76\u306e\u5f79\u7acb\u3063\u305f\u306e\u306a\u3089\u3001\u8cc7\u6599\u306b\u306f\u5f15\u7528\u3092\u304a\u9858\u3044\u3057\u307e\u3059\u3002 \u3053\u3053\u306bBibTeX\u30a8\u30f3\u30c8\u30ea\u306e\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002 @misc{raghakotkerasvis, title={keras-vis}, author={Kotikalapudi, Raghavendra and contributors}, year={2017}, publisher={GitHub}, howpublished={\\url{https://github.com/raghakot/keras-vis}}, }","title":"Home"},{"location":"#keras-vis-keras-visualization-toolkit","text":"keras-vis\u306fKeras\u30e2\u30c7\u30eb\u306e\u53ef\u8996\u5316\u3068\u30c7\u30d0\u30c3\u30b0\u306e\u305f\u3081\u306e\u30cf\u30a4\u30ec\u30d9\u30eb\u30c4\u30fc\u30eb\u30ad\u30c3\u30c8\u3067\u3059\u3002 \u73fe\u5728\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u53ef\u8996\u5316: Activation maximization Saliency maps Class activation maps \u5168\u3066\u306e\u53ef\u8996\u5316\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067N\u6b21\u5143\u306e\u753b\u50cf\u5165\u529b\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002 \u3059\u306a\u308f\u3061\u3001\u30e2\u30c7\u30eb\u3078\u306eN\u6b21\u5143\u753b\u50cf\u5165\u529b\u3092\u4e00\u822c\u5316\u3057\u3066\u3044\u307e\u3059\u3002 keras-vis\u306f\u7c21\u6f54\u3067\u4f7f\u3044\u3084\u3059\u304f\u3001\u62e1\u5f35\u53ef\u80fd\u306a\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u5099\u3048\u3066\u3044\u307e\u3059\u3002 \u4e0a\u8a18\u306e\u53ef\u8996\u5316\u5168\u3066\u3092\u30a8\u30cd\u30eb\u30ae\u30fc\u6700\u5c0f\u5316\u554f\u984c\u3068\u3057\u3066\u4e00\u822c\u5316\u3057\u3066\u3044\u307e\u3059\u3002 theano\u3068tensorflow\u4e21\u65b9\u306e\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u4e92\u63db\u6027\u304c\u3042\u308a\u3001'channels_first'\u3068'channels_last'\u306e\u30c7\u30fc\u30bf\u5f62\u5f0f\u3092\u6271\u3048\u307e\u3059\u3002","title":"keras-vis: Keras Visualization Toolkit"},{"location":"#_1","text":"https://keisen.github.io/keras-vis-docs-ja \u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u8aad\u3093\u3067\u304f\u3060\u3055\u3044\u3002 \u8cea\u554f\u3084\u8b70\u8ad6\u306e\u305f\u3081\u306bSlack\u306e \u30c1\u30e3\u30f3\u30cd\u30eb \u306b\u53c2\u52a0\u3057\u3066\u4e0b\u3055\u3044\u3002 \u79c1\u305f\u3061\u306f waffle.io \u3067\u65b0\u3057\u3044\u6a5f\u80fd\u3084\u30bf\u30b9\u30af\u3092\u8ffd\u8de1\u3057\u3066\u3044\u307e\u3059\u3002PullRequest\u3067\u624b\u52a9\u3051\u3057\u3066\u3082\u3089\u3048\u308b\u3068\u5b09\u3057\u3044\u3067\u3059\u3002","title":"\u30af\u30a4\u30c3\u30af\u30ea\u30f3\u30af"},{"location":"#getting-started","text":"\u753b\u50cf\u306e\u8aa4\u5dee\u9006\u4f1d\u642c\u554f\u984c\u3067\u306f\u3001\u305d\u306e\u30b4\u30fc\u30eb\u306f\u3044\u304f\u3064\u304b\u306e\u640d\u5931\u95a2\u6570\u3092\u6700\u5c0f\u306b\u3059\u308b\u5165\u529b\u753b\u50cf\u3092\u751f\u6210\u3059\u308b\u3053\u3068\u3067\u3059\u3002 \u753b\u50cf\u306e\u8aa4\u5dee\u9006\u4f1d\u642c\u554f\u984c\u3092\u8a2d\u5b9a\u3059\u308b\u306e\u306f\u7c21\u5358\u3067\u3059\u3002 \u91cd\u307f\u4ed8\u304d\u640d\u5931\u95a2\u6570\u3092\u5b9a\u7fa9 \u69d8\u3005\u306a\u6709\u7528\u306a\u640d\u5931\u95a2\u6570\u304c losses \u3067\u5b9a\u7fa9\u3055\u308c\u307e\u3059\u3002 \u30ab\u30b9\u30bf\u30e0\u306a\u640d\u5931\u95a2\u6570\u306f Loss.build_loss \u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3067\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002 from vis.losses import ActivationMaximization from vis.regularizers import TotalVariation, LPNorm filter_indices = [1, 2, 3] # \u30bf\u30d7\u30eb\u306f(\u640d\u5931\u95a2\u6570, \u91cd\u307f\u4fc2\u6570)\u3067\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002 # \u5fc5\u8981\u306b\u5fdc\u3058\u3066\u6b63\u5247\u5316(regularizers)\u3082\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002 losses = [ (ActivationMaximization(keras_layer, filter_indices), 1), (LPNorm(model.input), 10), (TotalVariation(model.input), 10) ] \u91cd\u307f\u4ed8\u304d\u640d\u5931\u3092\u6700\u5c0f\u5316\u3059\u308b\u305f\u3081\u306e\u6700\u9069\u5316\u8a2d\u5b9a \u81ea\u7136\u306a\u753b\u50cf\u3092\u751f\u6210\u3059\u308b\u305f\u3081\u3001\u753b\u50cf\u63a2\u7d22\u7a7a\u9593\u306f\u6b63\u5247\u5316\u30da\u30ca\u30eb\u30c6\u30a3\u3092\u7528\u3044\u3066\u5236\u9650\u3055\u308c\u307e\u3059\u3002 \u3044\u304f\u3064\u304b\u306e\u6c4e\u7528\u7684\u306a\u6b63\u5247\u5316\u306f regularizers \u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u640d\u5931\u95a2\u6570\u306e\u3088\u3046\u306b\u3001 Loss.build_loss \u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3067\u30ab\u30b9\u30bf\u30e0\u306a\u6b63\u5247\u5316\u3092\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002 from vis.optimizer import Optimizer optimizer = Optimizer(model.input, losses) opt_img, grads, _ = optimizer.minimize() \u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u53ef\u8996\u5316\u306e\u69d8\u3005\u306a\u5177\u4f53\u4f8b\u306f examples folder \u3067\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002","title":"Getting Started"},{"location":"#_2","text":"Note \u73fe\u5728PyPI\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308bkeras-vis\u306f\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u305f\u3081\u3001\u591a\u304f\u306e\u4e0d\u5177\u5408\u3092\u542b\u307f\u307e\u3059\u3002 \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002 theano\u307e\u305f\u306ftensorflow\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u5171\u306b keras \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 Keras\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c2.0\u4ee5\u4e0a\u3067\u3042\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u4e0b\u3055\u3044\u3002 keras-vis\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 \u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb sudo python setup.py install PyPI\u30d1\u30c3\u30b1\u30fc\u30b8\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb sudo pip install keras-vis","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"#_3","text":"Note \u73fe\u5728\u3001\u30ea\u30f3\u30af\u306f\u58ca\u308c\u3066\u304a\u308a\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u5168\u4f53\u3092\u4fee\u6b63\u4e2d\u3067\u3059\u3002 \u30b5\u30f3\u30d7\u30eb\u306f examples/ \u914d\u4e0b\u3092\u53c2\u7167\u3057\u3066\u4e0b\u3055\u3044\u3002 \u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u306f\u30d6\u30e9\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u3067\u3059\u3002 \u8fd1\u5e74\u3067\u306f\u3001\u7573\u307f\u8fbc\u307f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u7406\u89e3\u3057\u53ef\u8996\u5316\u3059\u308b\u305f\u3081\u306e\u3001\u3044\u304f\u3064\u304b\u306e\u30a2\u30d7\u30ed\u30fc\u30c1\u304c\u958b\u767a\u3055\u308c\u3001\u6587\u732e\u306b\u63b2\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u305d\u308c\u3089\u306f\u79c1\u9054\u306b\u30d6\u30e9\u30c3\u30af\u30dc\u30c3\u30af\u30b9\u306b\u8033\u3092\u50be\u3051\u3001\u8aa4\u5206\u985e\u3092\u8a3a\u65ad\u3057\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304c\u904e\u5b66\u7fd2\uff08\u307e\u305f\u306f\u672a\u5b66\u7fd2\uff09\u304b\u3069\u3046\u304b\u3092\u8a55\u4fa1\u3059\u308b\u65b9\u6cd5\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002 Guided backprop can also be used to create trippy art , neural/texture style transfer among the list of other growing applications. \u3055\u307e\u3056\u307e\u306a\u8996\u899a\u5316\u304c\u305d\u308c\u305e\u308c\u306e\u30da\u30fc\u30b8\u3067\u6587\u66f8\u5316\u3055\u308c\u3001\u3053\u3053\u306b\u8981\u7d04\u3055\u308c\u3066\u3044\u307e\u3059\u3002","title":"\u53ef\u8996\u5316\u3068\u306f"},{"location":"#conv-filter-visualization","text":"\u7573\u307f\u8fbc\u307f\u30d5\u30a3\u30eb\u30bf\u306f\u3001\u985e\u4f3c\u306e\u30d1\u30bf\u30fc\u30f3\u304c\u5165\u529b\u753b\u50cf\u5185\u306b\u898b\u3089\u308c\u308b\u3068\u304d\u51fa\u529b\u3092\u6700\u5927\u5316\u3059\u308b'\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30de\u30c3\u30c1\u30f3\u30b0'\u30d5\u30a3\u30eb\u30bf\u3092\u5b66\u7fd2\u3057\u307e\u3059\u3002 ActivationMaximization\u306b\u3088\u3063\u3066\u3053\u308c\u3089\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u8996\u899a\u5316\u3057\u307e\u3059\u3002","title":"Conv filter visualization"},{"location":"#dense-layer-visualization","text":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304c\u904e\u5b66\u7fd2\uff08\u307e\u305f\u306f\u672a\u5b66\u7fd2\uff09\u306a\u306e\u304b\u3001\u9069\u5207\u306b\u4e00\u822c\u5316\u3067\u304d\u3066\u3044\u308b\u306e\u304b\u3092\u3069\u306e\u3088\u3046\u306b\u8a55\u4fa1\u3067\u304d\u307e\u3059\u304b\uff1f","title":"Dense layer visualization"},{"location":"#attention-maps","text":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304c\u305d\u306e\u51fa\u529b\u3092\u6c7a\u5b9a\u3059\u308b\u969b\u3001\u753b\u50cf\u306e\u6b63\u3057\u3044\u90e8\u5206\u3092\u6ce8\u8996\u3057\u3066\u3044\u308b\u306e\u304b\u3092\u3069\u306e\u3088\u3046\u306b\u8a55\u4fa1\u3067\u304d\u307e\u3059\u304b\uff1f","title":"Attention Maps"},{"location":"#gif","text":"callbacks \u3092\u6d3b\u7528\u3057\u3066\u6700\u9069\u5316\u306e\u9032\u6357\u3092GIF\u30a2\u30cb\u30e1\u3068\u3057\u3066\u751f\u6210\u53ef\u80fd\u3067\u3059\u3002 \u6b21\u306e\u4f8b\u306f\u3001'\u30aa\u30bc\u30eb'\u30af\u30e9\u30b9\uff08output_index: 20\uff09\u306eActivationMaximization\u306b\u3088\u308b\u53ef\u8996\u5316\u3067\u3059\u3002 from vis.losses import ActivationMaximization from vis.regularizers import TotalVariation, LPNorm from vis.modifiers import Jitter from vis.optimizer import Optimizer from vis.callbacks import GifGenerator from vis.utils.vggnet import VGG16 # VGG16\u3092ImageNet\u306eWeights\u3067\u69cb\u7bc9\u3059\u308b model = VGG16(weights='imagenet', include_top=True) print('Model loaded.') # \u53ef\u8996\u5316\u3057\u305f\u3044\u30ec\u30a4\u30e4\u306e\u540d\u524d\uff08vggnet.py\u306e\u30e2\u30c7\u30eb\u5b9a\u7fa9\u3092\u53c2\u7167\u3057\u3066\u4e0b\u3055\u3044\uff09 layer_name = 'predictions' layer_dict = dict([(layer.name, layer) for layer in model.layers[1:]]) output_class = [20] losses = [ (ActivationMaximization(layer_dict[layer_name], output_class), 2), (LPNorm(model.input), 10), (TotalVariation(model.input), 10) ] opt = Optimizer(model.input, losses) opt.minimize(max_iter=500, verbose=True, image_modifiers=[Jitter()], callbacks=[GifGenerator('opt_progress')]) \u51fa\u529b\u306e\u632f\u52d5\u306b\u6ce8\u76ee\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u3053\u308c\u306f\u3001\u9bae\u660e\u306a\u6d3b\u6027\u5316\u6700\u5927\u5316\u753b\u50cf\u3092\u751f\u6210\u3059\u308b\u3053\u3068\u304c\u77e5\u3089\u308c\u3066\u3044\u308b[ImageModifier]\u306e\u4e00\u7a2e\u3067\u3042\u308b Jitter \u3092\u4f7f\u3063\u3066\u3044\u308b\u304b\u3089\u3067\u3059\u3002 \u30a8\u30af\u30b5\u30b5\u30a4\u30ba\u3068\u3057\u3066\u6b21\u306b\u6311\u6226\u3057\u3066\u307f\u3066\u4e0b\u3055\u3044\u3002 Jitter\u3092\u53d6\u308a\u9664\u304f \u640d\u5931\u306e\u91cd\u307f\u3092\u5909\u5316\u3055\u305b\u308b","title":"\u6700\u9069\u5316\u306e\u9032\u6357\u3092GIF\u30a2\u30cb\u30e1\u3067\u51fa\u529b\u3059\u308b"},{"location":"#_4","text":"\u3082\u3057keras-vis\u304c\u3042\u306a\u305f\u306e\u7814\u7a76\u306e\u5f79\u7acb\u3063\u305f\u306e\u306a\u3089\u3001\u8cc7\u6599\u306b\u306f\u5f15\u7528\u3092\u304a\u9858\u3044\u3057\u307e\u3059\u3002 \u3053\u3053\u306bBibTeX\u30a8\u30f3\u30c8\u30ea\u306e\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002 @misc{raghakotkerasvis, title={keras-vis}, author={Kotikalapudi, Raghavendra and contributors}, year={2017}, publisher={GitHub}, howpublished={\\url{https://github.com/raghakot/keras-vis}}, }","title":"\u5f15\u7528"},{"location":"vis.backend/","text":"Source: vis/backend/ init .py#L0 modify_model_backprop modify_model_backprop(model, backprop_modifier) \u30ab\u30b9\u30bf\u30e0OP\u3092\u4f7f\u7528\u3057\u3001\u8aa4\u5dee\u9006\u4f1d\u64ad\u306e\u52d5\u4f5c\u3092\u5909\u66f4\u3059\u308b\u305f\u3081\u306b\u5168\u3066\u306e\u6d3b\u6027\u5316\u95a2\u6570\u3092\u5909\u66f4\u3057\u3066\u30e2\u30c7\u30eb\u306e\u30b3\u30d4\u30fc\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 \u5f15\u6570: model : keras.models.Model \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9 backprop_modifier : {'guided', 'rectified'} \u306e\u3044\u305a\u308c\u304b\uff11\u3064 \u623b\u308a\u5024: \u6d3b\u6027\u5316\u95a2\u6570\u306e\u9006\u4f1d\u64ad\u6642\u306e\u8a08\u7b97\u306b\u5909\u66f4\u3092\u52a0\u3048\u305f\u30e2\u30c7\u30eb\u306e\u30b3\u30d4\u30fc set_random_seed set_random_seed(seed_value=1337) \u518d\u73fe\u306e\u305f\u3081\u30e9\u30f3\u30c0\u30e0\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002 \u5f15\u6570: seed_value : \u30b7\u30fc\u30c9\u5024\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024=\u60aa\u540d\u9ad8\u30441337\uff09","title":"\u30d0\u30c3\u30af\u30a8\u30f3\u30c9"},{"location":"vis.backend/#modify_model_backprop","text":"modify_model_backprop(model, backprop_modifier) \u30ab\u30b9\u30bf\u30e0OP\u3092\u4f7f\u7528\u3057\u3001\u8aa4\u5dee\u9006\u4f1d\u64ad\u306e\u52d5\u4f5c\u3092\u5909\u66f4\u3059\u308b\u305f\u3081\u306b\u5168\u3066\u306e\u6d3b\u6027\u5316\u95a2\u6570\u3092\u5909\u66f4\u3057\u3066\u30e2\u30c7\u30eb\u306e\u30b3\u30d4\u30fc\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 \u5f15\u6570: model : keras.models.Model \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9 backprop_modifier : {'guided', 'rectified'} \u306e\u3044\u305a\u308c\u304b\uff11\u3064 \u623b\u308a\u5024: \u6d3b\u6027\u5316\u95a2\u6570\u306e\u9006\u4f1d\u64ad\u6642\u306e\u8a08\u7b97\u306b\u5909\u66f4\u3092\u52a0\u3048\u305f\u30e2\u30c7\u30eb\u306e\u30b3\u30d4\u30fc","title":"modify_model_backprop"},{"location":"vis.backend/#set_random_seed","text":"set_random_seed(seed_value=1337) \u518d\u73fe\u306e\u305f\u3081\u30e9\u30f3\u30c0\u30e0\u30b7\u30fc\u30c9\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002 \u5f15\u6570: seed_value : \u30b7\u30fc\u30c9\u5024\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024=\u60aa\u540d\u9ad8\u30441337\uff09","title":"set_random_seed"},{"location":"vis.backprop_modifiers/","text":"Source: vis/backprop_modifiers.py#L0 guided guided(model) \u6b63\u306e\u6d3b\u6027\u5316\u306e\u6b63\u306e\u52fe\u914d\u3060\u3051\u4f1d\u64ad\u3059\u308b\u3088\u3046\u8aa4\u5dee\u9006\u4f1d\u64ad\u3092\u5909\u66f4\u3057\u307e\u3059\u3002 \u5f15\u6570: model : \u52fe\u914d\u8a08\u7b97\u306e\u4e0a\u66f8\u304d\u304c\u5fc5\u8981\u306a keras.models.Model \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9 \u53c2\u7167: Guided back propagaton\u306e\u8a73\u7d30\u306f\u8ad6\u6587\u3067\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a String For Simplicity: The All Convolutional Net deconv, rectified, relu deconv, rectified, relu(model) \u6b63\u306e\u52fe\u914d\u306e\u307f\u3092\u4f1d\u642c\u3059\u308b\u3088\u3046\u8aa4\u5dee\u9006\u4f1d\u64ad\u3092\u5909\u66f4\u3057\u307e\u3059\u3002 \u5f15\u6570: model : \u52fe\u914d\u8a08\u7b97\u306e\u4e0a\u66f8\u304d\u304c\u5fc5\u8981\u306a keras.models.Model \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9 \u53c2\u7167: \u8a73\u7d30\u306f\u8ad6\u6587\u3067\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a Visualizing and Understanding Convolutional Networks get get(identifier)","title":"\u8aa4\u5dee\u9006\u4f1d\u64ad\u4fee\u98fe\u5b50"},{"location":"vis.backprop_modifiers/#guided","text":"guided(model) \u6b63\u306e\u6d3b\u6027\u5316\u306e\u6b63\u306e\u52fe\u914d\u3060\u3051\u4f1d\u64ad\u3059\u308b\u3088\u3046\u8aa4\u5dee\u9006\u4f1d\u64ad\u3092\u5909\u66f4\u3057\u307e\u3059\u3002 \u5f15\u6570: model : \u52fe\u914d\u8a08\u7b97\u306e\u4e0a\u66f8\u304d\u304c\u5fc5\u8981\u306a keras.models.Model \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9 \u53c2\u7167: Guided back propagaton\u306e\u8a73\u7d30\u306f\u8ad6\u6587\u3067\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a String For Simplicity: The All Convolutional Net","title":"guided"},{"location":"vis.backprop_modifiers/#deconv-rectified-relu","text":"deconv, rectified, relu(model) \u6b63\u306e\u52fe\u914d\u306e\u307f\u3092\u4f1d\u642c\u3059\u308b\u3088\u3046\u8aa4\u5dee\u9006\u4f1d\u64ad\u3092\u5909\u66f4\u3057\u307e\u3059\u3002 \u5f15\u6570: model : \u52fe\u914d\u8a08\u7b97\u306e\u4e0a\u66f8\u304d\u304c\u5fc5\u8981\u306a keras.models.Model \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9 \u53c2\u7167: \u8a73\u7d30\u306f\u8ad6\u6587\u3067\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a Visualizing and Understanding Convolutional Networks","title":"deconv, rectified, relu"},{"location":"vis.backprop_modifiers/#get","text":"get(identifier)","title":"get"},{"location":"vis.callbacks/","text":"Source: vis/callbacks.py#L0 OptimizerCallback Optimizer.minimize \u3067\u4f7f\u7528\u3059\u308b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u306e\u62bd\u8c61\u30af\u30e9\u30b9\u3067\u3059\u3002 OptimizerCallback.callback callback(self, i, named_losses, overall_loss, grads, wrt_value) \u3053\u306e\u95a2\u6570\u306f optimizer.minimize \u306e\u4e2d\u3067\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002 \u5f15\u6570: i : \u6700\u9069\u5316\u306e\u53cd\u5fa9\u6570 named_losses : (\u640d\u5931\u540d, \u640d\u5931\u5024) \u306e\u30bf\u30d7\u30eb\u306e\u30ea\u30b9\u30c8 overall_loss : \u5168\u3066\u306e\u91cd\u307f\u4ed8\u304d\u640d\u5931 grads : wrt_value \u306b\u95a2\u3059\u308b\u5165\u529b\u753b\u50cf\u306e\u52fe\u914d wrt_value : \u73fe\u6642\u70b9\u306e wrt_value OptimizerCallback.on_end on_end(self) \u6700\u9069\u5316\u30d7\u30ed\u30bb\u30b9\u306e\u6700\u5f8c\u306b\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002 \u3053\u306e\u95a2\u6570\u306f\u901a\u5e38\u3001\u6700\u9069\u5316\u306e\u6700\u5f8c\u306b\u4f7f\u7528\u3057\u3066\u3044\u305f\u30ea\u30bd\u30fc\u30b9\u306e\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7\u3084\u30af\u30ed\u30fc\u30ba\u306b\u4f7f\u308f\u308c\u307e\u3059\u3002 Print \u6700\u9069\u5316\u4e2d\u306e\u5024\u3092\u30d7\u30ea\u30f3\u30c8\u3059\u308b\u305f\u3081\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067\u3059\u3002 Print.callback callback(self, i, named_losses, overall_loss, grads, wrt_value) Print.on_end on_end(self) GifGenerator \u6700\u9069\u5316\u753b\u50cf\u306eGIF\u3092\u69cb\u7bc9\u3059\u308b\u305f\u3081\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067\u3059\u3002 GifGenerator. __init__ __init__(self, path) \u5f15\u6570: path : \u4fdd\u5b58\u3059\u308bGIF\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u3002 GifGenerator.callback callback(self, i, named_losses, overall_loss, grads, wrt_value) GifGenerator.on_end on_end(self)","title":"\u30b3\u30fc\u30eb\u30d0\u30c3\u30af"},{"location":"vis.callbacks/#optimizercallback","text":"Optimizer.minimize \u3067\u4f7f\u7528\u3059\u308b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u306e\u62bd\u8c61\u30af\u30e9\u30b9\u3067\u3059\u3002","title":"OptimizerCallback"},{"location":"vis.callbacks/#optimizercallbackcallback","text":"callback(self, i, named_losses, overall_loss, grads, wrt_value) \u3053\u306e\u95a2\u6570\u306f optimizer.minimize \u306e\u4e2d\u3067\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002 \u5f15\u6570: i : \u6700\u9069\u5316\u306e\u53cd\u5fa9\u6570 named_losses : (\u640d\u5931\u540d, \u640d\u5931\u5024) \u306e\u30bf\u30d7\u30eb\u306e\u30ea\u30b9\u30c8 overall_loss : \u5168\u3066\u306e\u91cd\u307f\u4ed8\u304d\u640d\u5931 grads : wrt_value \u306b\u95a2\u3059\u308b\u5165\u529b\u753b\u50cf\u306e\u52fe\u914d wrt_value : \u73fe\u6642\u70b9\u306e wrt_value","title":"OptimizerCallback.callback"},{"location":"vis.callbacks/#optimizercallbackon_end","text":"on_end(self) \u6700\u9069\u5316\u30d7\u30ed\u30bb\u30b9\u306e\u6700\u5f8c\u306b\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002 \u3053\u306e\u95a2\u6570\u306f\u901a\u5e38\u3001\u6700\u9069\u5316\u306e\u6700\u5f8c\u306b\u4f7f\u7528\u3057\u3066\u3044\u305f\u30ea\u30bd\u30fc\u30b9\u306e\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7\u3084\u30af\u30ed\u30fc\u30ba\u306b\u4f7f\u308f\u308c\u307e\u3059\u3002","title":"OptimizerCallback.on_end"},{"location":"vis.callbacks/#print","text":"\u6700\u9069\u5316\u4e2d\u306e\u5024\u3092\u30d7\u30ea\u30f3\u30c8\u3059\u308b\u305f\u3081\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067\u3059\u3002","title":"Print"},{"location":"vis.callbacks/#printcallback","text":"callback(self, i, named_losses, overall_loss, grads, wrt_value)","title":"Print.callback"},{"location":"vis.callbacks/#printon_end","text":"on_end(self)","title":"Print.on_end"},{"location":"vis.callbacks/#gifgenerator","text":"\u6700\u9069\u5316\u753b\u50cf\u306eGIF\u3092\u69cb\u7bc9\u3059\u308b\u305f\u3081\u306e\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3067\u3059\u3002","title":"GifGenerator"},{"location":"vis.callbacks/#gifgenerator__init__","text":"__init__(self, path) \u5f15\u6570: path : \u4fdd\u5b58\u3059\u308bGIF\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u3002","title":"GifGenerator.__init__"},{"location":"vis.callbacks/#gifgeneratorcallback","text":"callback(self, i, named_losses, overall_loss, grads, wrt_value)","title":"GifGenerator.callback"},{"location":"vis.callbacks/#gifgeneratoron_end","text":"on_end(self)","title":"GifGenerator.on_end"},{"location":"vis.grad_modifiers/","text":"Source: vis/grad_modifiers.py#L0 negate negate(grads) \u52fe\u914d\u306e\u7b26\u53f7\u3092\u53cd\u8ee2\u3057\u307e\u3059\u3002\u3059\u306a\u308f\u3061-1\u3068\u306e\u7a4d\u3002 \u5f15\u6570: grads : \u52fe\u914d\u3092\u3042\u3089\u308f\u3059Numpy array\u3002 \u623b\u308a\u5024: \u7b26\u53f7\u53cd\u8ee2\u3057\u305f\u52fe\u914d\u3002 absolute absolute(grads) \u52fe\u914d\u306e\u7d76\u5bfe\u5024\u3092\u8a08\u7b97\u3057\u307e\u3059\u3002 \u5f15\u6570: grads : \u52fe\u914d\u3092\u3042\u3089\u308f\u3059Numpy array\u3002 \u623b\u308a\u5024: \u52fe\u914d\u306e\u7d76\u5bfe\u5024\u3002 invert invert(grads) \u52fe\u914d\u306e\u9006\u6570\u3092\u7b97\u51fa\u3057\u307e\u3059\u3002 \u5f15\u6570: grads : \u52fe\u914d\u3092\u3042\u3089\u308f\u3059Numpy array\u3002 \u623b\u308a\u5024: \u52fe\u914d\u306e\u9006\u6570 relu relu(grads) \u8ca0\u306e\u52fe\u914d\u306e\u5024\u3092\u5207\u308a\u6368\u3066\u307e\u3059\u3002\u3059\u306a\u308f\u3061max(0, grads)\u3002 \u5f15\u6570: grads : \u52fe\u914d\u3092\u3042\u3089\u308f\u3059Numpy array\u3002 \u623b\u308a\u5024: \u6574\u6d41\u3055\u308c\u305f\u52fe\u914d small_values small_values(grads) \u5c0f\u3055\u306a\u52fe\u914d\u306e\u5024\u307b\u3069\u5f37\u8abf\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3059\u306a\u308f\u3061absolute(invert(grads))\u3002 \u5f15\u6570: grads : \u52fe\u914d\u3092\u3042\u3089\u308f\u3059Numpy array\u3002 \u623b\u308a\u5024: \u5c0f\u3055\u306a\u5024\u3092\u5f37\u8abf\u3059\u308b\u3088\u3046\u5909\u66f4\u3055\u308c\u305f\u52fe\u914d get get(identifier)","title":"\u52fe\u914d\u4fee\u98fe\u5b50"},{"location":"vis.grad_modifiers/#negate","text":"negate(grads) \u52fe\u914d\u306e\u7b26\u53f7\u3092\u53cd\u8ee2\u3057\u307e\u3059\u3002\u3059\u306a\u308f\u3061-1\u3068\u306e\u7a4d\u3002 \u5f15\u6570: grads : \u52fe\u914d\u3092\u3042\u3089\u308f\u3059Numpy array\u3002 \u623b\u308a\u5024: \u7b26\u53f7\u53cd\u8ee2\u3057\u305f\u52fe\u914d\u3002","title":"negate"},{"location":"vis.grad_modifiers/#absolute","text":"absolute(grads) \u52fe\u914d\u306e\u7d76\u5bfe\u5024\u3092\u8a08\u7b97\u3057\u307e\u3059\u3002 \u5f15\u6570: grads : \u52fe\u914d\u3092\u3042\u3089\u308f\u3059Numpy array\u3002 \u623b\u308a\u5024: \u52fe\u914d\u306e\u7d76\u5bfe\u5024\u3002","title":"absolute"},{"location":"vis.grad_modifiers/#invert","text":"invert(grads) \u52fe\u914d\u306e\u9006\u6570\u3092\u7b97\u51fa\u3057\u307e\u3059\u3002 \u5f15\u6570: grads : \u52fe\u914d\u3092\u3042\u3089\u308f\u3059Numpy array\u3002 \u623b\u308a\u5024: \u52fe\u914d\u306e\u9006\u6570","title":"invert"},{"location":"vis.grad_modifiers/#relu","text":"relu(grads) \u8ca0\u306e\u52fe\u914d\u306e\u5024\u3092\u5207\u308a\u6368\u3066\u307e\u3059\u3002\u3059\u306a\u308f\u3061max(0, grads)\u3002 \u5f15\u6570: grads : \u52fe\u914d\u3092\u3042\u3089\u308f\u3059Numpy array\u3002 \u623b\u308a\u5024: \u6574\u6d41\u3055\u308c\u305f\u52fe\u914d","title":"relu"},{"location":"vis.grad_modifiers/#small_values","text":"small_values(grads) \u5c0f\u3055\u306a\u52fe\u914d\u306e\u5024\u307b\u3069\u5f37\u8abf\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3059\u306a\u308f\u3061absolute(invert(grads))\u3002 \u5f15\u6570: grads : \u52fe\u914d\u3092\u3042\u3089\u308f\u3059Numpy array\u3002 \u623b\u308a\u5024: \u5c0f\u3055\u306a\u5024\u3092\u5f37\u8abf\u3059\u308b\u3088\u3046\u5909\u66f4\u3055\u308c\u305f\u52fe\u914d","title":"small_values"},{"location":"vis.grad_modifiers/#get","text":"get(identifier)","title":"get"},{"location":"vis.input_modifiers/","text":"Source: vis/input_modifiers.py#L0 InputModifier input modifier\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u306e\u62bd\u8c61\u30af\u30e9\u30b9\u3067\u3059\u3002 Optimizer.minimize \u3067input modifier\u3092\u4f7f\u7528\u3059\u308b\u3068\u6700\u9069\u5316\u51e6\u7406\u4e2d\u3001\u6700\u9069\u5316\u3055\u308c\u308b\u5165\u529b\u5024\u306b\u5bfe\u3057\u3066\u3001\u66f4\u65b0\u524d\u5f8c\uff08 pre , post \uff09\u306b\u5909\u66f4\u3092\u52a0\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 modifier.pre(seed_input) # gradient descent update to img modifier.post(seed_input) InputModifier.post post(self, inp) \u52fe\u914d\u964d\u4e0b\u66f4\u65b0\u5f8c\u306e\u5165\u529b\u3078\u306e\u5909\u66f4\u3092\u5b9f\u88c5\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u3082\u3057\u5f8c\u51e6\u7406\u3092\u3057\u306a\u3044\u5834\u5408\u3001\u5358\u306b\u3053\u306e\u5b9f\u88c5\u3092\u7121\u8996\u3057\u3066\u4e0b\u3055\u3044\uff08i.e., \u5b9f\u88c5\u3057\u306a\u3044\uff09\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u5f15\u6570 inp \u3092\u305d\u306e\u307e\u307e\u8fd4\u3057\u307e\u3059\u3002 \u5f15\u6570: inp : N\u6b21\u5143\u306enumpy array\u3002\u5f62\u72b6\u306f\u3001 channels_first \u306e\u5834\u5408\u306f (samples, channels, image_dims...) \u3001 channels_last \u306e\u5834\u5408\u306f (samples, image_dims..., channels) \u3002 \u623b\u308a\u5024: \u7de8\u96c6\u3055\u308c\u305f\u5165\u529b InputModifier.pre pre(self, inp) \u52fe\u914d\u964d\u4e0b\u66f4\u65b0\u524d\u306e\u5165\u529b\u3078\u306e\u5909\u66f4\u3092\u5b9f\u88c5\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u3082\u3057\u5f8c\u51e6\u7406\u3092\u3057\u306a\u3044\u5834\u5408\u3001\u5358\u306b\u3053\u306e\u5b9f\u88c5\u3092\u7121\u8996\u3057\u3066\u4e0b\u3055\u3044\uff08i.e., \u5b9f\u88c5\u3057\u306a\u3044\uff09\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u5f15\u6570 inp \u3092\u305d\u306e\u307e\u307e\u8fd4\u3057\u307e\u3059\u3002 \u5f15\u6570: inp : N\u6b21\u5143\u306enumpy array\u3002\u5f62\u72b6\u306f\u3001 channels_first \u306e\u5834\u5408\u306f (samples, channels, image_dims...) \u3001 channels_last \u306e\u5834\u5408\u306f (samples, image_dims..., channels) \u3002 \u623b\u308a\u5024: \u7de8\u96c6\u3055\u308c\u305f\u5165\u529b Jitter Jitter. __init__ __init__(self, jitter=0.05) \u5165\u529b\u5024\u306e\u66f4\u65b0\u524d\u306b\u3001\u30e9\u30f3\u30c0\u30e0Jitter\u3092\u5c0e\u5165\u3059\u308b\u305f\u3081\u306einput modifier\u5b9f\u88c5\u3067\u3059\u3002 Jitter\u306f\u9bae\u660e\u306aActivationMaximization\u753b\u50cf\u3092\u751f\u6210\u3059\u308b\u3053\u3068\u304c\u308f\u304b\u3063\u3066\u3044\u307e\u3059\u3002 \u5f15\u6570: jitter : \u9069\u7528\u3055\u308c\u308bjitter\u91cf\u3092\u3042\u3089\u308f\u3059\u30b9\u30ab\u30e9\u5024\u3001\u307e\u305f\u306f\u30b7\u30fc\u30b1\u30f3\u30b9\u3002 \u30b9\u30ab\u30e9\u5024\u306e\u5834\u5408, \u540c\u3058jitter\u304c\u753b\u50cf\u306e\u5168\u3066\u306e\u6b21\u5143\u306b\u9069\u7528\u3055\u308c\u307e\u3059\u3002\u30b7\u30fc\u30b1\u30f3\u30b9\u306e\u5834\u5408\u3001 jitter \u306f\u753b\u50cf\u306e\u6b21\u5143\u3054\u3068\u306e\u5024\u3092\u542b\u3080\u3079\u304d\u3067\u3059\u3002 [0., 1.] \u306e\u9593\u306e\u5024\u306f\u753b\u50cf\u306e\u5bf8\u6cd5\u306b\u5bfe\u3059\u308b\u6bd4\u7387\u3068\u3057\u3066\u89e3\u91c8\u3055\u308c\u307e\u3059\u3002\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a0.05\uff09 Jitter.post post(self, inp) Jitter.pre pre(self, img)","title":"\u5165\u529b\u4fee\u98fe\u5b50"},{"location":"vis.input_modifiers/#inputmodifier","text":"input modifier\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u306e\u62bd\u8c61\u30af\u30e9\u30b9\u3067\u3059\u3002 Optimizer.minimize \u3067input modifier\u3092\u4f7f\u7528\u3059\u308b\u3068\u6700\u9069\u5316\u51e6\u7406\u4e2d\u3001\u6700\u9069\u5316\u3055\u308c\u308b\u5165\u529b\u5024\u306b\u5bfe\u3057\u3066\u3001\u66f4\u65b0\u524d\u5f8c\uff08 pre , post \uff09\u306b\u5909\u66f4\u3092\u52a0\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 modifier.pre(seed_input) # gradient descent update to img modifier.post(seed_input)","title":"InputModifier"},{"location":"vis.input_modifiers/#inputmodifierpost","text":"post(self, inp) \u52fe\u914d\u964d\u4e0b\u66f4\u65b0\u5f8c\u306e\u5165\u529b\u3078\u306e\u5909\u66f4\u3092\u5b9f\u88c5\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u3082\u3057\u5f8c\u51e6\u7406\u3092\u3057\u306a\u3044\u5834\u5408\u3001\u5358\u306b\u3053\u306e\u5b9f\u88c5\u3092\u7121\u8996\u3057\u3066\u4e0b\u3055\u3044\uff08i.e., \u5b9f\u88c5\u3057\u306a\u3044\uff09\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u5f15\u6570 inp \u3092\u305d\u306e\u307e\u307e\u8fd4\u3057\u307e\u3059\u3002 \u5f15\u6570: inp : N\u6b21\u5143\u306enumpy array\u3002\u5f62\u72b6\u306f\u3001 channels_first \u306e\u5834\u5408\u306f (samples, channels, image_dims...) \u3001 channels_last \u306e\u5834\u5408\u306f (samples, image_dims..., channels) \u3002 \u623b\u308a\u5024: \u7de8\u96c6\u3055\u308c\u305f\u5165\u529b","title":"InputModifier.post"},{"location":"vis.input_modifiers/#inputmodifierpre","text":"pre(self, inp) \u52fe\u914d\u964d\u4e0b\u66f4\u65b0\u524d\u306e\u5165\u529b\u3078\u306e\u5909\u66f4\u3092\u5b9f\u88c5\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u3082\u3057\u5f8c\u51e6\u7406\u3092\u3057\u306a\u3044\u5834\u5408\u3001\u5358\u306b\u3053\u306e\u5b9f\u88c5\u3092\u7121\u8996\u3057\u3066\u4e0b\u3055\u3044\uff08i.e., \u5b9f\u88c5\u3057\u306a\u3044\uff09\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u5f15\u6570 inp \u3092\u305d\u306e\u307e\u307e\u8fd4\u3057\u307e\u3059\u3002 \u5f15\u6570: inp : N\u6b21\u5143\u306enumpy array\u3002\u5f62\u72b6\u306f\u3001 channels_first \u306e\u5834\u5408\u306f (samples, channels, image_dims...) \u3001 channels_last \u306e\u5834\u5408\u306f (samples, image_dims..., channels) \u3002 \u623b\u308a\u5024: \u7de8\u96c6\u3055\u308c\u305f\u5165\u529b","title":"InputModifier.pre"},{"location":"vis.input_modifiers/#jitter","text":"","title":"Jitter"},{"location":"vis.input_modifiers/#jitter__init__","text":"__init__(self, jitter=0.05) \u5165\u529b\u5024\u306e\u66f4\u65b0\u524d\u306b\u3001\u30e9\u30f3\u30c0\u30e0Jitter\u3092\u5c0e\u5165\u3059\u308b\u305f\u3081\u306einput modifier\u5b9f\u88c5\u3067\u3059\u3002 Jitter\u306f\u9bae\u660e\u306aActivationMaximization\u753b\u50cf\u3092\u751f\u6210\u3059\u308b\u3053\u3068\u304c\u308f\u304b\u3063\u3066\u3044\u307e\u3059\u3002 \u5f15\u6570: jitter : \u9069\u7528\u3055\u308c\u308bjitter\u91cf\u3092\u3042\u3089\u308f\u3059\u30b9\u30ab\u30e9\u5024\u3001\u307e\u305f\u306f\u30b7\u30fc\u30b1\u30f3\u30b9\u3002 \u30b9\u30ab\u30e9\u5024\u306e\u5834\u5408, \u540c\u3058jitter\u304c\u753b\u50cf\u306e\u5168\u3066\u306e\u6b21\u5143\u306b\u9069\u7528\u3055\u308c\u307e\u3059\u3002\u30b7\u30fc\u30b1\u30f3\u30b9\u306e\u5834\u5408\u3001 jitter \u306f\u753b\u50cf\u306e\u6b21\u5143\u3054\u3068\u306e\u5024\u3092\u542b\u3080\u3079\u304d\u3067\u3059\u3002 [0., 1.] \u306e\u9593\u306e\u5024\u306f\u753b\u50cf\u306e\u5bf8\u6cd5\u306b\u5bfe\u3059\u308b\u6bd4\u7387\u3068\u3057\u3066\u89e3\u91c8\u3055\u308c\u307e\u3059\u3002\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a0.05\uff09","title":"Jitter.__init__"},{"location":"vis.input_modifiers/#jitterpost","text":"post(self, inp)","title":"Jitter.post"},{"location":"vis.input_modifiers/#jitterpre","text":"pre(self, img)","title":"Jitter.pre"},{"location":"vis.losses/","text":"Source: vis/losses.py#L0 Loss \u6700\u5c0f\u5316\u3055\u308c\u308b\u640d\u5931\u95a2\u6570\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u306e\u62bd\u8c61\u30af\u30e9\u30b9\u3067\u3059\u3002 \u640d\u5931\u95a2\u6570\u306f build_loss \u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u3066\u69cb\u7bc9\u3055\u308c\u308b\u3079\u304d\u3067\u3059\u3002 name \u5c5e\u6027\u306f\u5197\u9577\u306a\u51fa\u529b\u3092\u4f34\u3046\u640d\u5931\u95a2\u6570\u3092\u8b58\u5225\u3059\u308b\u305f\u3081\u306b\u5b9a\u7fa9\u3055\u308c\u308b\u3079\u304d\u3067\u3059\u3002 \u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3057\u306a\u3044\u5834\u5408\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f'Unnamed Loss'\u306b\u306a\u308a\u307e\u3059\u3002 Loss. __init__ __init__(self) \u81ea\u8eab\u3092\u521d\u671f\u5316\u3057\u307e\u3059\u3002\u6b63\u78ba\u306a\u30b7\u30b0\u30cd\u30c1\u30e3\u306b\u3064\u3044\u3066\u306f help(type(self)) \u3067\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 Loss.build_loss build_loss(self) \u640d\u5931\u95a2\u6570\u5f0f\u3092\u69cb\u7bc9\u3059\u308b\u305f\u3081\u306b\u3001\u3053\u306e\u95a2\u6570\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002 \u3053\u306e\u640d\u5931\u95a2\u6570\u3092\u69cb\u7bc9\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u8ffd\u52a0\u306e\u5f15\u6570\u306f __init__ \u7d4c\u7531\u3067\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u7406\u60f3\u7684\u306b\u306f\u3001\u3053\u306e\u95a2\u6570\u5f0f\u306f\u5168\u3066\u306eKeras\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u3001 channels_first \u3084 channels_last \u306e\u753b\u50cf\u30c7\u30fc\u30bf\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3068\u4e92\u63db\u6027\u3092\u6301\u3064\u3079\u304d\u3067\u3059\u3002 utils.slicer \u3092\u4f7f\u3048\u3070\u3001\u30c7\u30fc\u30bf\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u6c17\u306b\u305b\u305a\u30b9\u30e9\u30a4\u30b9\u3092\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002 \uff08 channels_first \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u5b9a\u7fa9\u3059\u308b\u3068\u3001 channels_last \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u4f7f\u3046Tensorflow\u7528\u306b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u81ea\u52d5\u7684\u306b\u30b7\u30e3\u30c3\u30d5\u30eb\u3057\u307e\u3059\u3002 \uff09 # theano slice conv_layer[:, filter_idx, ...] # TF slice conv_layer[..., filter_idx] # Backend agnostic slice conv_layer[utils.slicer[:, filter_idx, ...]] utils.get_img_shape \u306f\u3053\u308c\u3092\u7c21\u5358\u306b\u3059\u308b\u3082\u3046\u4e00\u3064\u306e\u30aa\u30d7\u30b7\u30e7\u30ca\u30eb\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u3067\u3059\u3002 \u623b\u308a\u5024: \u640d\u5931\u5f0f ActivationMaximization \u7279\u5b9a\u30ec\u30a4\u30e4\u5185\u306e\u30d5\u30a3\u30eb\u30bf\u30bb\u30c3\u30c8\u306e\u6d3b\u6027\u5316\u3092\u6700\u5927\u5316\u3059\u308b\u640d\u5931\u95a2\u6570\u3067\u3059\u3002 \u3053\u306e\u640d\u5931\u306f\u901a\u5e38\u3068\u306f\u53cd\u5bfe\u306e\u554f\u3044\u639b\u3051\u306e\u305f\u3081\u306b\u4f7f\u308f\u308c\u307e\u3059\u30fc\u3069\u306e\u3088\u3046\u306a\u7a2e\u985e\u306e\u5165\u529b\u753b\u50cf\u3067\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u78ba\u4fe1\u5ea6\u304c\u5897\u52a0\u3059\u308b\u304b\u3001\u4f8b\u3048\u3070\u72ac\u30af\u30e9\u30b9\u3067\u3002 \u3053\u308c\u306f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u5185\u5728\u5316\u3057\u3066\u3044\u308b\u3082\u306e\u304c'\u72ac'\u306e\u753b\u50cf\u7a7a\u9593\u3067\u3042\u308b\u3068\u5224\u65ad\u3059\u308b\u52a9\u3051\u306b\u306a\u308a\u307e\u3059\u3002 \u3053\u308c\u3092\u6700\u5f8c\u306e keras.layers.Dense \u30ec\u30a4\u30e4\u3067\u3001'\u72ac'\u3068'\u4eba'\u306e\u51fa\u529b\u4e21\u65b9\u3092\u6700\u5927\u5316\u3059\u308b\u5165\u529b\u753b\u50cf\u306e\u751f\u6210\u306b\u4f7f\u3046\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 ActivationMaximization. __init__ __init__(self, layer, filter_indices) \u5f15\u6570: layer : \u6700\u5927\u5316\u3059\u308b\u30d5\u30a3\u30eb\u30bf\u306eKeras\u30ec\u30a4\u30e4\u3002\u3053\u308c\u306fconv\u5c64\u304bdense\u5c64\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002 filter_indices : \u6700\u5927\u5316\u3059\u308b\u30d5\u30a3\u30eb\u30bf\u306eindices\u3002 keras.layers.Dense \u30ec\u30a4\u30e4\u3067\u3042\u308c\u3070\u3001 filter_idx \u306f\u51fa\u529b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3068\u3057\u3066\u89e3\u91c8\u3055\u308c\u307e\u3059\u3002 \u3082\u3057\u8cb4\u65b9\u304c\u30af\u30e9\u30b9\u51fa\u529b\u3092\u6700\u5927\u5316\u3059\u308b\u305f\u3081\u306b\u6700\u5f8c\u306e keras.layers.Dense \u30ec\u30a4\u30e4\u3092\u6700\u9069\u5316\u3059\u308b\u5834\u5408\u3001'softmax'\u3068\u306f\u5bfe\u7167\u7684\u306a\u6d3b\u6027\u5316\u3067\u3042\u308b'linear'\u306e\u65b9\u304c\u3088\u308a\u826f\u3044\u7d50\u679c\u3092\u5f97\u308b\u50be\u5411\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f softmax \u51fa\u529b\u304c\u4ed6\u306e\u30af\u30e9\u30b9\u3092\u6700\u5c0f\u9650\u306b\u3059\u308b\u3053\u3068\u3067\u6700\u5927\u5316\u3055\u308c\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u305f\u3081\u3067\u3059\u3002 ActivationMaximization.build_loss build_loss(self)","title":"\u640d\u5931\u95a2\u6570"},{"location":"vis.losses/#loss","text":"\u6700\u5c0f\u5316\u3055\u308c\u308b\u640d\u5931\u95a2\u6570\u3092\u5b9a\u7fa9\u3059\u308b\u305f\u3081\u306e\u62bd\u8c61\u30af\u30e9\u30b9\u3067\u3059\u3002 \u640d\u5931\u95a2\u6570\u306f build_loss \u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u3066\u69cb\u7bc9\u3055\u308c\u308b\u3079\u304d\u3067\u3059\u3002 name \u5c5e\u6027\u306f\u5197\u9577\u306a\u51fa\u529b\u3092\u4f34\u3046\u640d\u5931\u95a2\u6570\u3092\u8b58\u5225\u3059\u308b\u305f\u3081\u306b\u5b9a\u7fa9\u3055\u308c\u308b\u3079\u304d\u3067\u3059\u3002 \u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3057\u306a\u3044\u5834\u5408\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f'Unnamed Loss'\u306b\u306a\u308a\u307e\u3059\u3002","title":"Loss"},{"location":"vis.losses/#loss__init__","text":"__init__(self) \u81ea\u8eab\u3092\u521d\u671f\u5316\u3057\u307e\u3059\u3002\u6b63\u78ba\u306a\u30b7\u30b0\u30cd\u30c1\u30e3\u306b\u3064\u3044\u3066\u306f help(type(self)) \u3067\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002","title":"Loss.__init__"},{"location":"vis.losses/#lossbuild_loss","text":"build_loss(self) \u640d\u5931\u95a2\u6570\u5f0f\u3092\u69cb\u7bc9\u3059\u308b\u305f\u3081\u306b\u3001\u3053\u306e\u95a2\u6570\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002 \u3053\u306e\u640d\u5931\u95a2\u6570\u3092\u69cb\u7bc9\u3059\u308b\u305f\u3081\u306b\u5fc5\u8981\u306a\u8ffd\u52a0\u306e\u5f15\u6570\u306f __init__ \u7d4c\u7531\u3067\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u7406\u60f3\u7684\u306b\u306f\u3001\u3053\u306e\u95a2\u6570\u5f0f\u306f\u5168\u3066\u306eKeras\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u3001 channels_first \u3084 channels_last \u306e\u753b\u50cf\u30c7\u30fc\u30bf\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3068\u4e92\u63db\u6027\u3092\u6301\u3064\u3079\u304d\u3067\u3059\u3002 utils.slicer \u3092\u4f7f\u3048\u3070\u3001\u30c7\u30fc\u30bf\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u6c17\u306b\u305b\u305a\u30b9\u30e9\u30a4\u30b9\u3092\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002 \uff08 channels_first \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u5b9a\u7fa9\u3059\u308b\u3068\u3001 channels_last \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u4f7f\u3046Tensorflow\u7528\u306b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u81ea\u52d5\u7684\u306b\u30b7\u30e3\u30c3\u30d5\u30eb\u3057\u307e\u3059\u3002 \uff09 # theano slice conv_layer[:, filter_idx, ...] # TF slice conv_layer[..., filter_idx] # Backend agnostic slice conv_layer[utils.slicer[:, filter_idx, ...]] utils.get_img_shape \u306f\u3053\u308c\u3092\u7c21\u5358\u306b\u3059\u308b\u3082\u3046\u4e00\u3064\u306e\u30aa\u30d7\u30b7\u30e7\u30ca\u30eb\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u3067\u3059\u3002 \u623b\u308a\u5024: \u640d\u5931\u5f0f","title":"Loss.build_loss"},{"location":"vis.losses/#activationmaximization","text":"\u7279\u5b9a\u30ec\u30a4\u30e4\u5185\u306e\u30d5\u30a3\u30eb\u30bf\u30bb\u30c3\u30c8\u306e\u6d3b\u6027\u5316\u3092\u6700\u5927\u5316\u3059\u308b\u640d\u5931\u95a2\u6570\u3067\u3059\u3002 \u3053\u306e\u640d\u5931\u306f\u901a\u5e38\u3068\u306f\u53cd\u5bfe\u306e\u554f\u3044\u639b\u3051\u306e\u305f\u3081\u306b\u4f7f\u308f\u308c\u307e\u3059\u30fc\u3069\u306e\u3088\u3046\u306a\u7a2e\u985e\u306e\u5165\u529b\u753b\u50cf\u3067\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u78ba\u4fe1\u5ea6\u304c\u5897\u52a0\u3059\u308b\u304b\u3001\u4f8b\u3048\u3070\u72ac\u30af\u30e9\u30b9\u3067\u3002 \u3053\u308c\u306f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u5185\u5728\u5316\u3057\u3066\u3044\u308b\u3082\u306e\u304c'\u72ac'\u306e\u753b\u50cf\u7a7a\u9593\u3067\u3042\u308b\u3068\u5224\u65ad\u3059\u308b\u52a9\u3051\u306b\u306a\u308a\u307e\u3059\u3002 \u3053\u308c\u3092\u6700\u5f8c\u306e keras.layers.Dense \u30ec\u30a4\u30e4\u3067\u3001'\u72ac'\u3068'\u4eba'\u306e\u51fa\u529b\u4e21\u65b9\u3092\u6700\u5927\u5316\u3059\u308b\u5165\u529b\u753b\u50cf\u306e\u751f\u6210\u306b\u4f7f\u3046\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002","title":"ActivationMaximization"},{"location":"vis.losses/#activationmaximization__init__","text":"__init__(self, layer, filter_indices) \u5f15\u6570: layer : \u6700\u5927\u5316\u3059\u308b\u30d5\u30a3\u30eb\u30bf\u306eKeras\u30ec\u30a4\u30e4\u3002\u3053\u308c\u306fconv\u5c64\u304bdense\u5c64\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002 filter_indices : \u6700\u5927\u5316\u3059\u308b\u30d5\u30a3\u30eb\u30bf\u306eindices\u3002 keras.layers.Dense \u30ec\u30a4\u30e4\u3067\u3042\u308c\u3070\u3001 filter_idx \u306f\u51fa\u529b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3068\u3057\u3066\u89e3\u91c8\u3055\u308c\u307e\u3059\u3002 \u3082\u3057\u8cb4\u65b9\u304c\u30af\u30e9\u30b9\u51fa\u529b\u3092\u6700\u5927\u5316\u3059\u308b\u305f\u3081\u306b\u6700\u5f8c\u306e keras.layers.Dense \u30ec\u30a4\u30e4\u3092\u6700\u9069\u5316\u3059\u308b\u5834\u5408\u3001'softmax'\u3068\u306f\u5bfe\u7167\u7684\u306a\u6d3b\u6027\u5316\u3067\u3042\u308b'linear'\u306e\u65b9\u304c\u3088\u308a\u826f\u3044\u7d50\u679c\u3092\u5f97\u308b\u50be\u5411\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f softmax \u51fa\u529b\u304c\u4ed6\u306e\u30af\u30e9\u30b9\u3092\u6700\u5c0f\u9650\u306b\u3059\u308b\u3053\u3068\u3067\u6700\u5927\u5316\u3055\u308c\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u305f\u3081\u3067\u3059\u3002","title":"ActivationMaximization.__init__"},{"location":"vis.losses/#activationmaximizationbuild_loss","text":"build_loss(self)","title":"ActivationMaximization.build_loss"},{"location":"vis.optimizer/","text":"Source: vis/optimizer.py#L0 Optimizer Optimizer. __init__ __init__(self, input_tensor, losses, input_range=(0, 255), wrt_tensor=None, norm_grads=True) \u91cd\u307f\u4ed8\u304d\u640d\u5931\u95a2\u6570\u3092\u6700\u5c0f\u5316\u3059\u308b\u30aa\u30d7\u30c6\u30a3\u30de\u30a4\u30b6\u3092\u751f\u6210\u3057\u307e\u3059\u3002 \u5f15\u6570: input_tensor : \u5165\u529b\u30c6\u30f3\u30bd\u30eb\u3002\u5f62\u72b6\u306f\u3001 channels_first \u306e\u5834\u5408\u306f (samples, channels, image_dims...) \u3001 channels_last \u306e\u5834\u5408\u306f (samples, image_dims..., channels) \u3002 losses : ( Loss , weight)\u306e\u30bf\u30d7\u30eb\u306e\u30ea\u30b9\u30c8. input_range : \u5165\u529b\u5024\u306e\u7bc4\u56f2\u3092 (min, max) \u306e\u30bf\u30d7\u30eb\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 \u3053\u308c\u306f\u6700\u7d42\u7684\u306b\u6700\u9069\u5316\u3055\u308c\u305f\u5165\u529b\u3092\u3001\u6307\u5b9a\u3055\u308c\u305f\u306e\u7bc4\u56f2\u306b\u30b9\u30b1\u30fc\u30eb\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a(0, 255)\uff09\u3002 wrt_tensor : losses \u304b\u3089\u96c6\u8a08\u3057\u305f\u640d\u5931\u3092 wtr_tensor \u306b\u95a2\u3057\u3066\u6700\u5c0f\u5316\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3053\u3068\u3092\u30aa\u30d7\u30c6\u30a3\u30de\u30a4\u30b6\u306b\u6307\u793a\u3057\u307e\u3059\u3002 wrt_tensor \u306b\u306f\u30e2\u30c7\u30eb\u30b0\u30e9\u30d5\u306e\u3044\u305a\u308c\u304b\u306e\u30c6\u30f3\u30bd\u30eb\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306fNone\u3067\u3001\u3053\u308c\u306f\u5358\u306b\u640d\u5931\u3092 input_tensor \u306b\u95a2\u3057\u3066\u6700\u5c0f\u5316\u3059\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002 norm_grads : \u52fe\u914d\u3092\u6b63\u898f\u5316\u3059\u308b\u5834\u5408\u306fTrue\u3002 \u6b63\u898f\u5316\u306f\u5c0f\u3055\u3059\u304e\u308b\u307e\u305f\u306f\u5927\u304d\u3059\u304e\u308b\u52fe\u914d\u3092\u56de\u907f\u3057\u3001\u6ed1\u3089\u304b\u306a\u52fe\u914d\u964d\u4e0b\u30d7\u30ed\u30bb\u30b9\u3092\u78ba\u4fdd\u3057\u307e\u3059\u3002 \u5b9f\u969b\u306e\u52fe\u914d\u3092\u6271\u3046\u5834\u5408\u306f\uff08\u4f8b\u3048\u3070\u3001\u6ce8\u76ee\u9818\u57df\u306e\u53ef\u8996\u5316\uff09\u3001False\u3092\u30bb\u30c3\u30c8\u3057\u3066\u304f\u3060\u3055\u3044\u3002 Optimizer.minimize minimize(self, seed_input=None, max_iter=200, input_modifiers=None, grad_modifier=None, \\ callbacks=None, verbose=True) \u5b9a\u7fa9\u3055\u308c\u305f\u640d\u5931\u306b\u95a2\u3057\u3066\u3001\u5165\u529b\u753b\u50cf\u306e\u52fe\u914d\u964d\u4e0b\u3092\u304a\u3053\u306a\u3046\u3002 \u5f15\u6570: seed_input : N\u6b21\u5143\u306enumpy array\u3002\u5f62\u72b6\u306f\u3001 channels_first \u306e\u5834\u5408\u306f (samples, channels, image_dims...) \u3001 channels_last \u306e\u5834\u5408\u306f (samples, image_dims..., channels) \u3002 None\u304c\u8a2d\u5b9a\u3055\u308c\u305f\u5834\u5408\u3001\u30e9\u30f3\u30c0\u30e0\u306a\u30ce\u30a4\u30ba\u3067\u30b7\u30fc\u30c9\u3055\u308c\u308b\u3002\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1aNone\uff09 max_iter : \u52fe\u914d\u964d\u4e0b\u3092\u7e70\u308a\u8fd4\u3059\u6700\u5927\u6570\u3002\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a\uff12\uff10\uff10\uff09 input_modifiers : \u6700\u9069\u5316\u30d7\u30ed\u30bb\u30b9\u4e2d\u3001\u6700\u9069\u5316\u3055\u308c\u308b\u5165\u529b\u3092\u3069\u306e\u3088\u3046\u306b\u5909\u66f4\u3059\u308b\u304b\u3001 pre \u3068 post \u3067\u6307\u5b9a\u3055\u308c\u305f InputModifier \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30ea\u30b9\u30c8\u3002 pre \u306f\u30ea\u30b9\u30c8\u306e\u4e26\u3073\u9806\u306b\u9069\u7528\u3055\u308c\u3001 post \u306f\u9006\u9806\u306b\u9069\u7528\u3055\u308c\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001 input_modifiers = [f, g] \u306f pre_input = g(f(inp)) \u3068 post_input = f(g(inp)) \u3092\u610f\u5473\u3057\u307e\u3059\u3002 grad_modifier : \u4f7f\u7528\u3059\u308bgradient modifier\u306b\u3064\u3044\u3066\u306f grad_modifiers \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u3000\u3000\u4f55\u3082\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u3001\u52fe\u914d\u306f\u5909\u66f4\u3055\u308c\u307e\u305b\u3093\u3002\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1aNone\uff09 callbacks : \u30c8\u30ea\u30ac\u30fc\u3059\u308b OptimizerCallback \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30ea\u30b9\u30c8\u3002 verbose : \u5404\u52fe\u914d\u964d\u4e0b\u53cd\u5fa9\u306e\u6700\u5f8c\u306b\u3001\u5404\u640d\u5931\u306e\u30ed\u30b0\u3092\u51fa\u529b\u3059\u308b\u3002\u640d\u5931\u4fc2\u6570\u3092\u898b\u7a4d\u3082\u308b\u306e\u306b\u3068\u3066\u3082\u6709\u7528\u3067\u3059\u3002\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1aTrue\uff09 \u623b\u308a\u5024: \u52fe\u914d\u964d\u4e0b\u5f8c\u306e (optimized input, grads with respect to wrt, wrt_value) \u306e\u30bf\u30d7\u30eb","title":"\u30aa\u30d7\u30c6\u30a3\u30de\u30a4\u30b6"},{"location":"vis.optimizer/#optimizer","text":"","title":"Optimizer"},{"location":"vis.optimizer/#optimizer__init__","text":"__init__(self, input_tensor, losses, input_range=(0, 255), wrt_tensor=None, norm_grads=True) \u91cd\u307f\u4ed8\u304d\u640d\u5931\u95a2\u6570\u3092\u6700\u5c0f\u5316\u3059\u308b\u30aa\u30d7\u30c6\u30a3\u30de\u30a4\u30b6\u3092\u751f\u6210\u3057\u307e\u3059\u3002 \u5f15\u6570: input_tensor : \u5165\u529b\u30c6\u30f3\u30bd\u30eb\u3002\u5f62\u72b6\u306f\u3001 channels_first \u306e\u5834\u5408\u306f (samples, channels, image_dims...) \u3001 channels_last \u306e\u5834\u5408\u306f (samples, image_dims..., channels) \u3002 losses : ( Loss , weight)\u306e\u30bf\u30d7\u30eb\u306e\u30ea\u30b9\u30c8. input_range : \u5165\u529b\u5024\u306e\u7bc4\u56f2\u3092 (min, max) \u306e\u30bf\u30d7\u30eb\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 \u3053\u308c\u306f\u6700\u7d42\u7684\u306b\u6700\u9069\u5316\u3055\u308c\u305f\u5165\u529b\u3092\u3001\u6307\u5b9a\u3055\u308c\u305f\u306e\u7bc4\u56f2\u306b\u30b9\u30b1\u30fc\u30eb\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a(0, 255)\uff09\u3002 wrt_tensor : losses \u304b\u3089\u96c6\u8a08\u3057\u305f\u640d\u5931\u3092 wtr_tensor \u306b\u95a2\u3057\u3066\u6700\u5c0f\u5316\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3053\u3068\u3092\u30aa\u30d7\u30c6\u30a3\u30de\u30a4\u30b6\u306b\u6307\u793a\u3057\u307e\u3059\u3002 wrt_tensor \u306b\u306f\u30e2\u30c7\u30eb\u30b0\u30e9\u30d5\u306e\u3044\u305a\u308c\u304b\u306e\u30c6\u30f3\u30bd\u30eb\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306fNone\u3067\u3001\u3053\u308c\u306f\u5358\u306b\u640d\u5931\u3092 input_tensor \u306b\u95a2\u3057\u3066\u6700\u5c0f\u5316\u3059\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002 norm_grads : \u52fe\u914d\u3092\u6b63\u898f\u5316\u3059\u308b\u5834\u5408\u306fTrue\u3002 \u6b63\u898f\u5316\u306f\u5c0f\u3055\u3059\u304e\u308b\u307e\u305f\u306f\u5927\u304d\u3059\u304e\u308b\u52fe\u914d\u3092\u56de\u907f\u3057\u3001\u6ed1\u3089\u304b\u306a\u52fe\u914d\u964d\u4e0b\u30d7\u30ed\u30bb\u30b9\u3092\u78ba\u4fdd\u3057\u307e\u3059\u3002 \u5b9f\u969b\u306e\u52fe\u914d\u3092\u6271\u3046\u5834\u5408\u306f\uff08\u4f8b\u3048\u3070\u3001\u6ce8\u76ee\u9818\u57df\u306e\u53ef\u8996\u5316\uff09\u3001False\u3092\u30bb\u30c3\u30c8\u3057\u3066\u304f\u3060\u3055\u3044\u3002","title":"Optimizer.__init__"},{"location":"vis.optimizer/#optimizerminimize","text":"minimize(self, seed_input=None, max_iter=200, input_modifiers=None, grad_modifier=None, \\ callbacks=None, verbose=True) \u5b9a\u7fa9\u3055\u308c\u305f\u640d\u5931\u306b\u95a2\u3057\u3066\u3001\u5165\u529b\u753b\u50cf\u306e\u52fe\u914d\u964d\u4e0b\u3092\u304a\u3053\u306a\u3046\u3002 \u5f15\u6570: seed_input : N\u6b21\u5143\u306enumpy array\u3002\u5f62\u72b6\u306f\u3001 channels_first \u306e\u5834\u5408\u306f (samples, channels, image_dims...) \u3001 channels_last \u306e\u5834\u5408\u306f (samples, image_dims..., channels) \u3002 None\u304c\u8a2d\u5b9a\u3055\u308c\u305f\u5834\u5408\u3001\u30e9\u30f3\u30c0\u30e0\u306a\u30ce\u30a4\u30ba\u3067\u30b7\u30fc\u30c9\u3055\u308c\u308b\u3002\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1aNone\uff09 max_iter : \u52fe\u914d\u964d\u4e0b\u3092\u7e70\u308a\u8fd4\u3059\u6700\u5927\u6570\u3002\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a\uff12\uff10\uff10\uff09 input_modifiers : \u6700\u9069\u5316\u30d7\u30ed\u30bb\u30b9\u4e2d\u3001\u6700\u9069\u5316\u3055\u308c\u308b\u5165\u529b\u3092\u3069\u306e\u3088\u3046\u306b\u5909\u66f4\u3059\u308b\u304b\u3001 pre \u3068 post \u3067\u6307\u5b9a\u3055\u308c\u305f InputModifier \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30ea\u30b9\u30c8\u3002 pre \u306f\u30ea\u30b9\u30c8\u306e\u4e26\u3073\u9806\u306b\u9069\u7528\u3055\u308c\u3001 post \u306f\u9006\u9806\u306b\u9069\u7528\u3055\u308c\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001 input_modifiers = [f, g] \u306f pre_input = g(f(inp)) \u3068 post_input = f(g(inp)) \u3092\u610f\u5473\u3057\u307e\u3059\u3002 grad_modifier : \u4f7f\u7528\u3059\u308bgradient modifier\u306b\u3064\u3044\u3066\u306f grad_modifiers \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u3000\u3000\u4f55\u3082\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u3001\u52fe\u914d\u306f\u5909\u66f4\u3055\u308c\u307e\u305b\u3093\u3002\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1aNone\uff09 callbacks : \u30c8\u30ea\u30ac\u30fc\u3059\u308b OptimizerCallback \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30ea\u30b9\u30c8\u3002 verbose : \u5404\u52fe\u914d\u964d\u4e0b\u53cd\u5fa9\u306e\u6700\u5f8c\u306b\u3001\u5404\u640d\u5931\u306e\u30ed\u30b0\u3092\u51fa\u529b\u3059\u308b\u3002\u640d\u5931\u4fc2\u6570\u3092\u898b\u7a4d\u3082\u308b\u306e\u306b\u3068\u3066\u3082\u6709\u7528\u3067\u3059\u3002\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1aTrue\uff09 \u623b\u308a\u5024: \u52fe\u914d\u964d\u4e0b\u5f8c\u306e (optimized input, grads with respect to wrt, wrt_value) \u306e\u30bf\u30d7\u30eb","title":"Optimizer.minimize"},{"location":"vis.regularizers/","text":"Source: vis/regularizers.py#L0 normalize normalize(input_tensor, output_tensor) input_tensor \u306e\u6b21\u5143\u306b\u5bfe\u3057\u3066 output_tensor \u3092\u6b63\u898f\u5316\u3057\u307e\u3059\u3002 \u3053\u308c\u306f\u69d8\u3005\u306a\u5165\u529b\u753b\u50cf\u306e\u6b21\u5143\u306b\u308f\u305f\u3063\u3066\u591a\u304b\u308c\u5c11\u306a\u304b\u308c\u5747\u4e00\u306a\u6b63\u5247\u5316\u91cd\u307f\u3092\u751f\u6210\u3057\u307e\u3059\u3002 \u5f15\u6570: input_tensor : \u30c6\u30f3\u30bd\u30eb\u3002\u5f62\u72b6\u306f\u3001 channels_first \u306e\u5834\u5408\u306f (samples, channels, image_dims...) \u3001 channels_last \u306e\u5834\u5408\u306f (samples, image_dims..., channels) \u3002 output_tensor : \u6b63\u898f\u5316\u3059\u308b\u30c6\u30f3\u30bd\u30eb \u623b\u308a\u5024: \u6b63\u898f\u5316\u3055\u308c\u305f\u30c6\u30f3\u30bd\u30eb TotalVariation TotalVariation. __init__ __init__(self, img_input, beta=2.0) TV\u6b63\u5247\u5316\u306f\u81ea\u7136\u753b\u50cf\u306b\u4f3c\u305f\u3001\u3088\u308a\u5927\u80c6\u3067\u4e00\u8cab\u3057\u305f\u753b\u50cf\u69cb\u9020\u3092\u4fc3\u9032\u3057\u307e\u3059\u3002 \u8a73\u7d30\u306f Visualizing deep convolutional neural networks using natural pre-images \u306e section 3.2.2 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u5f15\u6570: img_input : \u753b\u50cf\u30c6\u30f3\u30bd\u30eb\u3002\u5f62\u72b6\u306f\u3001 channels_first \u306e\u5834\u5408\u306f (samples, channels, image_dims...) \u3001 channels_last \u306e\u5834\u5408\u306f (samples, image_dims..., channels) \u3002 beta : \u5c0f\u3055\u3044\u5024\u307b\u3069\u30b7\u30e3\u30fc\u30d7\u3067\u3042\u308b\u304c\u3001\u3088\u308a\u5c16\u3063\u305f\u753b\u50cf\u304c\u5f97\u3089\u308c\u307e\u3059\u3002 Values \\in [1.5, 3.0] \u306f\u5408\u7406\u7684\u3067\u59a5\u5f53\u306a\u5024\u3068\u3057\u3066\u63a8\u5968\u3055\u308c\u307e\u3059\u3002\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a2.0\uff09 TotalVariation.build_loss build_loss(self) \u30d0\u30c3\u30c1\u5185\u306e\u5168\u3066\u306e\u753b\u50cf\u306b\u3064\u3044\u3066TV\u3092\u5f97\u308b\u305f\u3081\u306b\u3001\u4e0b\u8a18\u306e\u95a2\u6570\u306eN\u6b21\u5143\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002 TV^{\\beta}(x) = \\sum_{whc} \\left ( \\left ( x(h, w+1, c) - x(h, w, c) \\right )^{2} + \\left ( x(h+1, w, c) - x(h, w, c) \\right )^{2} \\right )^{\\frac{\\beta}{2}} LPNorm LPNorm. __init__ __init__(self, img_input, p=6.0) Lp\u30ce\u30eb\u30e0\u95a2\u6570\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\u3053\u306e\u6b63\u5247\u5316\u306f\u30d4\u30af\u30bb\u30eb\u306e\u8f1d\u5ea6\u306e\u5236\u9650\u3092\u4fc3\u9032\u3057\u307e\u3059\u3002 \u3064\u307e\u308a\u30d4\u30af\u30bb\u30eb\u304c\u3042\u307e\u308a\u306b\u5927\u304d\u306a\u5024\u306b\u306a\u3089\u306a\u3044\u3088\u3046\u306b\u3057\u307e\u3059\u3002 \u5f15\u6570: img_input : \u30e2\u30c7\u30eb\u3078\u306e\uff14\u6b21\u5143\u306e\u753b\u50cf\u5165\u529b\u30c6\u30f3\u30bd\u30eb\u3002\u5f62\u72b6\u306f\u3001 channels_first \u306e\u5834\u5408\u306f (samples, channels, rows, cols) \u3001 channels_last \u306e\u5834\u5408\u306f (samples, rows, cols, channels) \u3002 p : p\u756a\u76ee\u306e\u30ce\u30eb\u30e0\u3092\u6307\u5b9a LPNorm.build_loss build_loss(self)","title":"\u6b63\u5247\u5316"},{"location":"vis.regularizers/#normalize","text":"normalize(input_tensor, output_tensor) input_tensor \u306e\u6b21\u5143\u306b\u5bfe\u3057\u3066 output_tensor \u3092\u6b63\u898f\u5316\u3057\u307e\u3059\u3002 \u3053\u308c\u306f\u69d8\u3005\u306a\u5165\u529b\u753b\u50cf\u306e\u6b21\u5143\u306b\u308f\u305f\u3063\u3066\u591a\u304b\u308c\u5c11\u306a\u304b\u308c\u5747\u4e00\u306a\u6b63\u5247\u5316\u91cd\u307f\u3092\u751f\u6210\u3057\u307e\u3059\u3002 \u5f15\u6570: input_tensor : \u30c6\u30f3\u30bd\u30eb\u3002\u5f62\u72b6\u306f\u3001 channels_first \u306e\u5834\u5408\u306f (samples, channels, image_dims...) \u3001 channels_last \u306e\u5834\u5408\u306f (samples, image_dims..., channels) \u3002 output_tensor : \u6b63\u898f\u5316\u3059\u308b\u30c6\u30f3\u30bd\u30eb \u623b\u308a\u5024: \u6b63\u898f\u5316\u3055\u308c\u305f\u30c6\u30f3\u30bd\u30eb","title":"normalize"},{"location":"vis.regularizers/#totalvariation","text":"","title":"TotalVariation"},{"location":"vis.regularizers/#totalvariation__init__","text":"__init__(self, img_input, beta=2.0) TV\u6b63\u5247\u5316\u306f\u81ea\u7136\u753b\u50cf\u306b\u4f3c\u305f\u3001\u3088\u308a\u5927\u80c6\u3067\u4e00\u8cab\u3057\u305f\u753b\u50cf\u69cb\u9020\u3092\u4fc3\u9032\u3057\u307e\u3059\u3002 \u8a73\u7d30\u306f Visualizing deep convolutional neural networks using natural pre-images \u306e section 3.2.2 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u5f15\u6570: img_input : \u753b\u50cf\u30c6\u30f3\u30bd\u30eb\u3002\u5f62\u72b6\u306f\u3001 channels_first \u306e\u5834\u5408\u306f (samples, channels, image_dims...) \u3001 channels_last \u306e\u5834\u5408\u306f (samples, image_dims..., channels) \u3002 beta : \u5c0f\u3055\u3044\u5024\u307b\u3069\u30b7\u30e3\u30fc\u30d7\u3067\u3042\u308b\u304c\u3001\u3088\u308a\u5c16\u3063\u305f\u753b\u50cf\u304c\u5f97\u3089\u308c\u307e\u3059\u3002 Values \\in [1.5, 3.0] \u306f\u5408\u7406\u7684\u3067\u59a5\u5f53\u306a\u5024\u3068\u3057\u3066\u63a8\u5968\u3055\u308c\u307e\u3059\u3002\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a2.0\uff09","title":"TotalVariation.__init__"},{"location":"vis.regularizers/#totalvariationbuild_loss","text":"build_loss(self) \u30d0\u30c3\u30c1\u5185\u306e\u5168\u3066\u306e\u753b\u50cf\u306b\u3064\u3044\u3066TV\u3092\u5f97\u308b\u305f\u3081\u306b\u3001\u4e0b\u8a18\u306e\u95a2\u6570\u306eN\u6b21\u5143\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002 TV^{\\beta}(x) = \\sum_{whc} \\left ( \\left ( x(h, w+1, c) - x(h, w, c) \\right )^{2} + \\left ( x(h+1, w, c) - x(h, w, c) \\right )^{2} \\right )^{\\frac{\\beta}{2}}","title":"TotalVariation.build_loss"},{"location":"vis.regularizers/#lpnorm","text":"","title":"LPNorm"},{"location":"vis.regularizers/#lpnorm__init__","text":"__init__(self, img_input, p=6.0) Lp\u30ce\u30eb\u30e0\u95a2\u6570\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\u3053\u306e\u6b63\u5247\u5316\u306f\u30d4\u30af\u30bb\u30eb\u306e\u8f1d\u5ea6\u306e\u5236\u9650\u3092\u4fc3\u9032\u3057\u307e\u3059\u3002 \u3064\u307e\u308a\u30d4\u30af\u30bb\u30eb\u304c\u3042\u307e\u308a\u306b\u5927\u304d\u306a\u5024\u306b\u306a\u3089\u306a\u3044\u3088\u3046\u306b\u3057\u307e\u3059\u3002 \u5f15\u6570: img_input : \u30e2\u30c7\u30eb\u3078\u306e\uff14\u6b21\u5143\u306e\u753b\u50cf\u5165\u529b\u30c6\u30f3\u30bd\u30eb\u3002\u5f62\u72b6\u306f\u3001 channels_first \u306e\u5834\u5408\u306f (samples, channels, rows, cols) \u3001 channels_last \u306e\u5834\u5408\u306f (samples, rows, cols, channels) \u3002 p : p\u756a\u76ee\u306e\u30ce\u30eb\u30e0\u3092\u6307\u5b9a","title":"LPNorm.__init__"},{"location":"vis.regularizers/#lpnormbuild_loss","text":"build_loss(self)","title":"LPNorm.build_loss"},{"location":"vis.utils.utils/","text":"Source: vis/utils/utils.py#L0 \u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570 slicer \u69d8\u3005\u306a image_data_format \u306e\u753b\u50cf\u306e\u30b9\u30e9\u30a4\u30b9\u3092\u7d71\u4e00\u3059\u308b\u305f\u3081\u306e\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u3002 reverse_enumerate reverse_enumerate(iterable) \u30b3\u30d4\u30fc\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u306a\u304f\u3001\u9069\u5207\u306a\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4fdd\u6301\u3057\u305f\u307e\u307e\u9006\u9806\u306b\u4e26\u3079\u305f\u30a4\u30c6\u30ec\u30fc\u30bf\u306e\u5217\u6319\u3092\u8fd4\u3057\u307e\u3059\u3002 listify listify(value) \u30ea\u30b9\u30c8\u3067\u3042\u308b\u3053\u3068\u3092\u4fdd\u969c\u3057\u307e\u3059\u3002 \u5f15\u6570\u304c\u30ea\u30b9\u30c8\u3067\u306a\u304b\u3063\u305f\u5834\u5408\u3001\u5f15\u6570\u3092\u8ffd\u52a0\u3057\u305f\u30ea\u30b9\u30c8\u8fd4\u3057\u307e\u3059\u3002 add_defaults_to_kwargs add_defaults_to_kwargs(defaults, **kwargs) kwargs \u3092 defaults \u306e\u30c7\u30a3\u30af\u30b7\u30e7\u30ca\u30ea\u3067\u66f4\u65b0\u3057\u307e\u3059\u3002 \u5f15\u6570: defaults : \u30c7\u30a3\u30af\u30b7\u30e7\u30ca\u30ea **kwargs : \u66f4\u65b0\u5bfe\u8c61\u306e kwargs \u623b\u308a\u5024: \u66f4\u65b0\u5f8c\u306e\u30c7\u30a3\u30af\u30b7\u30e7\u30ca\u30ea get_identifier get_identifier(identifier, module_globals, module_name) \u6587\u5b57\u5217\u3067\u6307\u5b9a\u3055\u308c\u305f\u547c\u3073\u51fa\u3057\u53ef\u80fd\u306a\u95a2\u6570\u3092\u63a2\u7d22\u3059\u308b\u305f\u3081\u306e\u30d8\u30eb\u30d1\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u3067\u3059\u3002 \u5f15\u6570: identifier : \u8b58\u5225\u5b50\u3002\u6587\u5b57\u5217\u304b\u95a2\u6570\u304c\u6307\u5b9a\u3067\u304d\u308b\u3002 module_globals : \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30b0\u30ed\u30fc\u30d0\u30eb\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 module_name : \u30e2\u30b8\u30e5\u30fc\u30eb\u540d \u623b\u308a\u5024: \u6307\u5b9a\u3055\u308c\u305f\u547c\u3073\u51fa\u3057\u53ef\u80fd\u306a\u95a2\u6570 apply_modifications apply_modifications(model, custom_objects=None) \u65b0\u3057\u3044\u30b0\u30e9\u30d5\u3092\u4f5c\u308b\u3053\u3068\u3067\u30e2\u30c7\u30eb\u30ec\u30a4\u30e4\u306b\u5909\u66f4\u3092\u9069\u7528\u3057\u307e\u3059\u3002 \u4f8b\u3048\u3070\u3001\u5358\u306b model.layers[idx].activation = new activation \u3068\u3044\u3063\u305f\u5909\u66f4\u3092\u3057\u3066\u3082\u30b0\u30e9\u30d5\u306f\u5909\u5316\u3057\u307e\u305b\u3093\u3002 \u30ec\u30a4\u30e4\u3092\u69cb\u7bc9\u3059\u308b\u95a2\u6570\u304c\u5909\u66f4\u3055\u308c\u305f\u305f\u3081\u3001\u30b0\u30e9\u30d5\u5168\u4f53\u3092\u5909\u66f4\u3055\u308c\u305f\u30a4\u30f3\u30d0\u30a6\u30f3\u30c9\u3068\u30a2\u30a6\u30c8\u30d0\u30a6\u30f3\u30c9\u306e\u30c6\u30f3\u30bd\u30eb\u3068\u3068\u3082\u306b\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u5f15\u6570: model : keras.models.Model \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9 \u623b\u308a\u5024: \u5909\u66f4\u3092\u9069\u7528\u6e08\u307f\u306e\u30e2\u30c7\u30eb\u3002\u30aa\u30ea\u30b8\u30ca\u30eb\u306e model \u306f\u5909\u66f4\u3057\u307e\u305b\u3093\u3002 random_array random_array(shape, mean=128.0, std=20.0) \u4e0e\u3048\u3089\u308c\u305f mean \u3068 std \u304b\u3089\u4e00\u69d8\u5206\u5e03\u3092\u751f\u6210\u3057\u307e\u3059\u3002 \u5f15\u6570: shape : \u5f62\u72b6 mean : \u3000\u5e73\u5747 (\u30c7\u30d5\u30a9\u30eb\u30c8\u5024 = 128) std : \u5206\u6563 (\u30c7\u30d5\u30a9\u30eb\u30c8\u5024 = 20) *\u623b\u308a\u5024: \u4e0e\u3048\u3089\u308c\u305f mean \u3068 std \u304b\u3089\u751f\u6210\u3057\u305f\u4e00\u69d8\u5206\u5e03 find_layer_idx find_layer_idx(model, layer_name) model \u304b\u3089 layer_name \u306b\u5bfe\u5fdc\u3059\u308b\u30ec\u30a4\u30e4\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u8abf\u3079\u307e\u3059\u3002 \u5f15\u6570: model : keras.models.Model \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9 layer_name : \u8abf\u3079\u305f\u3044\u30ec\u30a4\u30e4\u540d \u623b\u308a\u5024: \u898b\u3064\u304b\u3063\u305f\u30ec\u30a4\u30e4\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3002\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u5834\u5408\u306f\u4f8b\u5916(ValueError)\u304c\u767a\u751f\u3059\u308b\u3002 deprocess_input deprocess_input(input_array, input_range=(0, 255)) Utility function to scale the input_array to input_range throwing away high frequency artifacts. \u5f15\u6570: input_array : N\u6b21\u5143\u306enumpy array input_range : input_array \u3092\u30ea\u30b9\u30b1\u30fc\u30eb\u3059\u308b\u305f\u3081\u3001\u5165\u529b\u306e\u7bc4\u56f2\u3092 (min, max) \u306e\u30bf\u30d7\u30eb\u3067\u6307\u5b9a\u3059\u308b \u623b\u308a\u5024: \u30ea\u30b9\u30b1\u30fc\u30eb\u3055\u308c\u305f input_array stitch_images stitch_images(images, margin=5, cols=5) margin \u3092\u3068\u308a\u306a\u304c\u3089\u753b\u50cf\u3092\u3064\u306a\u304e\u5408\u308f\u305b\u308b\u305f\u3081\u306e\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u95a2\u6570\u3067\u3059\u3002 \u5f15\u6570: images : \u3064\u306a\u304e\u5408\u308f\u305b\u308b\uff12\u6b21\u5143\u753b\u50cf margin : \u753b\u50cf\u9593\u306e\u9ed2\u3044\u30dc\u30fc\u30c0\u30fc\u306e\u5e45 (\u30c7\u30d5\u30a9\u30eb\u30c8\u5024 = 5) cols : \u753b\u50cf\u306e\u6700\u5927\u5217\u6570\u3002\u753b\u50cf\u306e\u6570\u304c\u5217\u6570\u3092\u8d85\u3048\u305f\u5834\u5408\u3001\u65b0\u305f\u306b\u884c\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024 = 5) \u623b\u308a\u5024: \u5165\u529b\u753b\u50cf\u3092\u3064\u306a\u304e\u5408\u308f\u305b\u305f\uff11\u3064\u306enumpy array get_img_shape get_img_shape(img) \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306b\u4f9d\u5b58\u305b\u305a\u306b\u3001\u753b\u50cf\u306e\u5f62\u72b6\u3092\u8fd4\u3057\u307e\u3059\u3002 \u5f15\u6570: img : \u753b\u50cf\u30c6\u30f3\u30bd\u30eb\u3002\u5f62\u72b6\u306f\u3001 channels_first \u306e\u5834\u5408\u306f (samples, channels, image_dims...) \u3001 channels_last \u306e\u5834\u5408\u306f (samples, image_dims..., channels) \u3002 \u623b\u308a\u5024: (samples, channels, image_dims...) \u3067\u753b\u50cf\u306e\u5f62\u72b6\u60c5\u5831\u3092\u6301\u3064\u30bf\u30d7\u30eb load_img load_img(path, grayscale=False, target_size=None) \u30c7\u30a3\u30b9\u30af\u304b\u3089\u753b\u50cf\u3092\u30ed\u30fc\u30c9\u3059\u308b\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u95a2\u6570\u3067\u3059\u3002 \u5f15\u6570: path : \u753b\u50cf\u306e\u30d1\u30b9 grayscale : True\u306a\u3089\u30b0\u30ec\u30fc\u30b9\u30b1\u30fc\u30b9\u306b\u5909\u63db\u3057\u307e\u3059(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024 = False) target_size : (w, h)\u306b\u30ea\u30b5\u30a4\u30ba\u3057\u307e\u3059(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024 = None) \u623b\u308a\u5024: \u30ed\u30fc\u30c9\u3057\u305fnumpy\u753b\u50cf lookup_imagenet_labels lookup_imagenet_labels(indices) \u6700\u7d42\u5168\u7d50\u5408\u5c64\u306e\u51fa\u529b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304b\u3089\u3001ImageNet\u30e9\u30d9\u30eb\u3092\u3067\u8fd4\u3059\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u95a2\u6570\u3067\u3059\u3002 \u5f15\u6570: indices : \u63a2\u7d22\u3059\u308b\u30e9\u30d9\u30eb\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\uff11\u3064\u307e\u305f\u306f\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u914d\u5217\u3067\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002 \u623b\u308a\u5024: \u30ab\u30c6\u30b4\u30ea\u306b\u95a2\u9023\u3059\u308bImageNet\u30e9\u30d9\u30eb draw_text draw_text(img, text, position=(10, 10), font=\"FreeSans.ttf\", font_size=14, color=(0, 0, 0)) \u753b\u50cf\u4e0a\u306b\u30c6\u30ad\u30b9\u30c8\u3092\u63cf\u753b\u3057\u307e\u3059\u3002Pillow\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u5fc5\u8981\u3068\u3057\u307e\u3059\u3002 \u5f15\u6570: img : \u753b\u50cf text : \u63cf\u753b\u3059\u308b\u6587\u5b57\u5217 position : \u30c6\u30ad\u30b9\u30c8\u4f4d\u7f6e(x, y)(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024 = (10, 10)) font : TTF\u307e\u305f\u306fOpenType\u30d5\u30a9\u30f3\u30c8(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024 = 'FreeSans.ttf') font_size : \u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024= 12) color : \u30c6\u30ad\u30b9\u30c8\u306e\u8272(r, g, b) (\u30c7\u30d5\u30a9\u30eb\u30c8\u5024 = (0, 0, 0)) Returns: \u30c6\u30ad\u30b9\u30c8\u3092\u63cf\u753b\u3057\u305f\u753b\u50cf bgr2rgb bgr2rgb(img) Converts an RGB image to BGR and vice versa RGB\u753b\u50cf\u3092BGR\u753b\u50cf\u306b\uff08\u307e\u305f\u306f\u9006\u5411\u304d\u306b\uff09\u5909\u63db\u3057\u307e\u3059\u3002 \u5f15\u6570: img : RGB\u307e\u305f\u306fBGR\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306enumpy array Returns: \u5909\u63db\u3057\u305f\u753b\u50cf normalize normalize(array, min_value=0.0, max_value=1.0) numpy array\u3092(min_value, max_value)\u306b\u6b63\u898f\u5316\u3057\u307e\u3059\u3002 \u5f15\u6570: array : numpy array min_value : \u6b63\u898f\u5316\u3057\u305f\u753b\u50cf\u306e\u6700\u5c0f\u5024 (\u30c7\u30d5\u30a9\u30eb\u30c8\u5024 = 0) max_value : \u6b63\u898f\u5316\u3057\u305f\u753b\u50cf\u306e\u6700\u5927\u5024 (\u30c7\u30d5\u30a9\u30eb\u30c8\u5024 = 1) \u623b\u308a\u5024: (min_value, max_value)\u306e\u7bc4\u56f2\u306b\u6b63\u898f\u5316\u3057\u305farray","title":"\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3"},{"location":"vis.utils.utils/#_1","text":"slicer \u69d8\u3005\u306a image_data_format \u306e\u753b\u50cf\u306e\u30b9\u30e9\u30a4\u30b9\u3092\u7d71\u4e00\u3059\u308b\u305f\u3081\u306e\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u3002","title":"\u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570"},{"location":"vis.utils.utils/#reverse_enumerate","text":"reverse_enumerate(iterable) \u30b3\u30d4\u30fc\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u306a\u304f\u3001\u9069\u5207\u306a\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u4fdd\u6301\u3057\u305f\u307e\u307e\u9006\u9806\u306b\u4e26\u3079\u305f\u30a4\u30c6\u30ec\u30fc\u30bf\u306e\u5217\u6319\u3092\u8fd4\u3057\u307e\u3059\u3002","title":"reverse_enumerate"},{"location":"vis.utils.utils/#listify","text":"listify(value) \u30ea\u30b9\u30c8\u3067\u3042\u308b\u3053\u3068\u3092\u4fdd\u969c\u3057\u307e\u3059\u3002 \u5f15\u6570\u304c\u30ea\u30b9\u30c8\u3067\u306a\u304b\u3063\u305f\u5834\u5408\u3001\u5f15\u6570\u3092\u8ffd\u52a0\u3057\u305f\u30ea\u30b9\u30c8\u8fd4\u3057\u307e\u3059\u3002","title":"listify"},{"location":"vis.utils.utils/#add_defaults_to_kwargs","text":"add_defaults_to_kwargs(defaults, **kwargs) kwargs \u3092 defaults \u306e\u30c7\u30a3\u30af\u30b7\u30e7\u30ca\u30ea\u3067\u66f4\u65b0\u3057\u307e\u3059\u3002 \u5f15\u6570: defaults : \u30c7\u30a3\u30af\u30b7\u30e7\u30ca\u30ea **kwargs : \u66f4\u65b0\u5bfe\u8c61\u306e kwargs \u623b\u308a\u5024: \u66f4\u65b0\u5f8c\u306e\u30c7\u30a3\u30af\u30b7\u30e7\u30ca\u30ea","title":"add_defaults_to_kwargs"},{"location":"vis.utils.utils/#get_identifier","text":"get_identifier(identifier, module_globals, module_name) \u6587\u5b57\u5217\u3067\u6307\u5b9a\u3055\u308c\u305f\u547c\u3073\u51fa\u3057\u53ef\u80fd\u306a\u95a2\u6570\u3092\u63a2\u7d22\u3059\u308b\u305f\u3081\u306e\u30d8\u30eb\u30d1\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u3067\u3059\u3002 \u5f15\u6570: identifier : \u8b58\u5225\u5b50\u3002\u6587\u5b57\u5217\u304b\u95a2\u6570\u304c\u6307\u5b9a\u3067\u304d\u308b\u3002 module_globals : \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30b0\u30ed\u30fc\u30d0\u30eb\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 module_name : \u30e2\u30b8\u30e5\u30fc\u30eb\u540d \u623b\u308a\u5024: \u6307\u5b9a\u3055\u308c\u305f\u547c\u3073\u51fa\u3057\u53ef\u80fd\u306a\u95a2\u6570","title":"get_identifier"},{"location":"vis.utils.utils/#apply_modifications","text":"apply_modifications(model, custom_objects=None) \u65b0\u3057\u3044\u30b0\u30e9\u30d5\u3092\u4f5c\u308b\u3053\u3068\u3067\u30e2\u30c7\u30eb\u30ec\u30a4\u30e4\u306b\u5909\u66f4\u3092\u9069\u7528\u3057\u307e\u3059\u3002 \u4f8b\u3048\u3070\u3001\u5358\u306b model.layers[idx].activation = new activation \u3068\u3044\u3063\u305f\u5909\u66f4\u3092\u3057\u3066\u3082\u30b0\u30e9\u30d5\u306f\u5909\u5316\u3057\u307e\u305b\u3093\u3002 \u30ec\u30a4\u30e4\u3092\u69cb\u7bc9\u3059\u308b\u95a2\u6570\u304c\u5909\u66f4\u3055\u308c\u305f\u305f\u3081\u3001\u30b0\u30e9\u30d5\u5168\u4f53\u3092\u5909\u66f4\u3055\u308c\u305f\u30a4\u30f3\u30d0\u30a6\u30f3\u30c9\u3068\u30a2\u30a6\u30c8\u30d0\u30a6\u30f3\u30c9\u306e\u30c6\u30f3\u30bd\u30eb\u3068\u3068\u3082\u306b\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u5f15\u6570: model : keras.models.Model \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9 \u623b\u308a\u5024: \u5909\u66f4\u3092\u9069\u7528\u6e08\u307f\u306e\u30e2\u30c7\u30eb\u3002\u30aa\u30ea\u30b8\u30ca\u30eb\u306e model \u306f\u5909\u66f4\u3057\u307e\u305b\u3093\u3002","title":"apply_modifications"},{"location":"vis.utils.utils/#random_array","text":"random_array(shape, mean=128.0, std=20.0) \u4e0e\u3048\u3089\u308c\u305f mean \u3068 std \u304b\u3089\u4e00\u69d8\u5206\u5e03\u3092\u751f\u6210\u3057\u307e\u3059\u3002 \u5f15\u6570: shape : \u5f62\u72b6 mean : \u3000\u5e73\u5747 (\u30c7\u30d5\u30a9\u30eb\u30c8\u5024 = 128) std : \u5206\u6563 (\u30c7\u30d5\u30a9\u30eb\u30c8\u5024 = 20) *\u623b\u308a\u5024: \u4e0e\u3048\u3089\u308c\u305f mean \u3068 std \u304b\u3089\u751f\u6210\u3057\u305f\u4e00\u69d8\u5206\u5e03","title":"random_array"},{"location":"vis.utils.utils/#find_layer_idx","text":"find_layer_idx(model, layer_name) model \u304b\u3089 layer_name \u306b\u5bfe\u5fdc\u3059\u308b\u30ec\u30a4\u30e4\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u8abf\u3079\u307e\u3059\u3002 \u5f15\u6570: model : keras.models.Model \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9 layer_name : \u8abf\u3079\u305f\u3044\u30ec\u30a4\u30e4\u540d \u623b\u308a\u5024: \u898b\u3064\u304b\u3063\u305f\u30ec\u30a4\u30e4\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3002\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u5834\u5408\u306f\u4f8b\u5916(ValueError)\u304c\u767a\u751f\u3059\u308b\u3002","title":"find_layer_idx"},{"location":"vis.utils.utils/#deprocess_input","text":"deprocess_input(input_array, input_range=(0, 255)) Utility function to scale the input_array to input_range throwing away high frequency artifacts. \u5f15\u6570: input_array : N\u6b21\u5143\u306enumpy array input_range : input_array \u3092\u30ea\u30b9\u30b1\u30fc\u30eb\u3059\u308b\u305f\u3081\u3001\u5165\u529b\u306e\u7bc4\u56f2\u3092 (min, max) \u306e\u30bf\u30d7\u30eb\u3067\u6307\u5b9a\u3059\u308b \u623b\u308a\u5024: \u30ea\u30b9\u30b1\u30fc\u30eb\u3055\u308c\u305f input_array","title":"deprocess_input"},{"location":"vis.utils.utils/#stitch_images","text":"stitch_images(images, margin=5, cols=5) margin \u3092\u3068\u308a\u306a\u304c\u3089\u753b\u50cf\u3092\u3064\u306a\u304e\u5408\u308f\u305b\u308b\u305f\u3081\u306e\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u95a2\u6570\u3067\u3059\u3002 \u5f15\u6570: images : \u3064\u306a\u304e\u5408\u308f\u305b\u308b\uff12\u6b21\u5143\u753b\u50cf margin : \u753b\u50cf\u9593\u306e\u9ed2\u3044\u30dc\u30fc\u30c0\u30fc\u306e\u5e45 (\u30c7\u30d5\u30a9\u30eb\u30c8\u5024 = 5) cols : \u753b\u50cf\u306e\u6700\u5927\u5217\u6570\u3002\u753b\u50cf\u306e\u6570\u304c\u5217\u6570\u3092\u8d85\u3048\u305f\u5834\u5408\u3001\u65b0\u305f\u306b\u884c\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024 = 5) \u623b\u308a\u5024: \u5165\u529b\u753b\u50cf\u3092\u3064\u306a\u304e\u5408\u308f\u305b\u305f\uff11\u3064\u306enumpy array","title":"stitch_images"},{"location":"vis.utils.utils/#get_img_shape","text":"get_img_shape(img) \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306b\u4f9d\u5b58\u305b\u305a\u306b\u3001\u753b\u50cf\u306e\u5f62\u72b6\u3092\u8fd4\u3057\u307e\u3059\u3002 \u5f15\u6570: img : \u753b\u50cf\u30c6\u30f3\u30bd\u30eb\u3002\u5f62\u72b6\u306f\u3001 channels_first \u306e\u5834\u5408\u306f (samples, channels, image_dims...) \u3001 channels_last \u306e\u5834\u5408\u306f (samples, image_dims..., channels) \u3002 \u623b\u308a\u5024: (samples, channels, image_dims...) \u3067\u753b\u50cf\u306e\u5f62\u72b6\u60c5\u5831\u3092\u6301\u3064\u30bf\u30d7\u30eb","title":"get_img_shape"},{"location":"vis.utils.utils/#load_img","text":"load_img(path, grayscale=False, target_size=None) \u30c7\u30a3\u30b9\u30af\u304b\u3089\u753b\u50cf\u3092\u30ed\u30fc\u30c9\u3059\u308b\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u95a2\u6570\u3067\u3059\u3002 \u5f15\u6570: path : \u753b\u50cf\u306e\u30d1\u30b9 grayscale : True\u306a\u3089\u30b0\u30ec\u30fc\u30b9\u30b1\u30fc\u30b9\u306b\u5909\u63db\u3057\u307e\u3059(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024 = False) target_size : (w, h)\u306b\u30ea\u30b5\u30a4\u30ba\u3057\u307e\u3059(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024 = None) \u623b\u308a\u5024: \u30ed\u30fc\u30c9\u3057\u305fnumpy\u753b\u50cf","title":"load_img"},{"location":"vis.utils.utils/#lookup_imagenet_labels","text":"lookup_imagenet_labels(indices) \u6700\u7d42\u5168\u7d50\u5408\u5c64\u306e\u51fa\u529b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304b\u3089\u3001ImageNet\u30e9\u30d9\u30eb\u3092\u3067\u8fd4\u3059\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u95a2\u6570\u3067\u3059\u3002 \u5f15\u6570: indices : \u63a2\u7d22\u3059\u308b\u30e9\u30d9\u30eb\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\uff11\u3064\u307e\u305f\u306f\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u914d\u5217\u3067\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002 \u623b\u308a\u5024: \u30ab\u30c6\u30b4\u30ea\u306b\u95a2\u9023\u3059\u308bImageNet\u30e9\u30d9\u30eb","title":"lookup_imagenet_labels"},{"location":"vis.utils.utils/#draw_text","text":"draw_text(img, text, position=(10, 10), font=\"FreeSans.ttf\", font_size=14, color=(0, 0, 0)) \u753b\u50cf\u4e0a\u306b\u30c6\u30ad\u30b9\u30c8\u3092\u63cf\u753b\u3057\u307e\u3059\u3002Pillow\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u5fc5\u8981\u3068\u3057\u307e\u3059\u3002 \u5f15\u6570: img : \u753b\u50cf text : \u63cf\u753b\u3059\u308b\u6587\u5b57\u5217 position : \u30c6\u30ad\u30b9\u30c8\u4f4d\u7f6e(x, y)(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024 = (10, 10)) font : TTF\u307e\u305f\u306fOpenType\u30d5\u30a9\u30f3\u30c8(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024 = 'FreeSans.ttf') font_size : \u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024= 12) color : \u30c6\u30ad\u30b9\u30c8\u306e\u8272(r, g, b) (\u30c7\u30d5\u30a9\u30eb\u30c8\u5024 = (0, 0, 0)) Returns: \u30c6\u30ad\u30b9\u30c8\u3092\u63cf\u753b\u3057\u305f\u753b\u50cf","title":"draw_text"},{"location":"vis.utils.utils/#bgr2rgb","text":"bgr2rgb(img) Converts an RGB image to BGR and vice versa RGB\u753b\u50cf\u3092BGR\u753b\u50cf\u306b\uff08\u307e\u305f\u306f\u9006\u5411\u304d\u306b\uff09\u5909\u63db\u3057\u307e\u3059\u3002 \u5f15\u6570: img : RGB\u307e\u305f\u306fBGR\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306enumpy array Returns: \u5909\u63db\u3057\u305f\u753b\u50cf","title":"bgr2rgb"},{"location":"vis.utils.utils/#normalize","text":"normalize(array, min_value=0.0, max_value=1.0) numpy array\u3092(min_value, max_value)\u306b\u6b63\u898f\u5316\u3057\u307e\u3059\u3002 \u5f15\u6570: array : numpy array min_value : \u6b63\u898f\u5316\u3057\u305f\u753b\u50cf\u306e\u6700\u5c0f\u5024 (\u30c7\u30d5\u30a9\u30eb\u30c8\u5024 = 0) max_value : \u6b63\u898f\u5316\u3057\u305f\u753b\u50cf\u306e\u6700\u5927\u5024 (\u30c7\u30d5\u30a9\u30eb\u30c8\u5024 = 1) \u623b\u308a\u5024: (min_value, max_value)\u306e\u7bc4\u56f2\u306b\u6b63\u898f\u5316\u3057\u305farray","title":"normalize"},{"location":"vis.visualization/","text":"Source: vis/visualization/ init .py#L0 visualize_activation_with_losses visualize_activation_with_losses(input_tensor, losses, wrt_tensor=None, seed_input=None, \\ input_range=(0, 255), **optimizer_params) \u91cd\u307f\u4ed8\u304d losses \u3092\u6700\u5c0f\u306b\u3059\u308b input_tensor \u3092\u751f\u6210\u3057\u307e\u3059\u3002 \u3053\u306e\u95a2\u6570\u306f\u30ab\u30b9\u30bf\u30e0\u640d\u5931\u3092\u5fc5\u8981\u3068\u3059\u308b\u9ad8\u5ea6\u306a\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3092\u5bfe\u8c61\u306b\u3057\u3066\u3044\u307e\u3059\u3002 \u5f15\u6570: input_tensor : \u5165\u529b\u30c6\u30f3\u30bd\u30eb\u3002\u5f62\u72b6\u306f\u3001 channels_first \u306e\u5834\u5408\u306f (samples, channels, image_dims...) \u3001 channels_last \u306e\u5834\u5408\u306f (samples, image_dims..., channels) \u3002 wrt_tensor : \u640d\u5931\u306e\u52fe\u914d\u306f\u3001\u3053\u306e\u30c6\u30f3\u30bd\u30eb\u306b\u95a2\u3057\u3066\u8a08\u7b97\u3055\u308c\u307e\u3059\u3002 None\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001\u3053\u308c\u306f input_tensor \u3068\u540c\u3058\u3067\u3042\u308b\u3068\u60f3\u5b9a\u3055\u308c\u308b\u3002\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a None\uff09 losses : ( Loss , weight)\u306e\u30bf\u30d7\u30eb\u306e\u30ea\u30b9\u30c8\u3002 seed_input : \u6700\u9069\u5316\u306e\u958b\u59cb\u753b\u50cf\u306b\u30b7\u30fc\u30c9\u3057\u307e\u3059\u3002None\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001\u30e9\u30f3\u30c0\u30e0\u5024\u3067\u521d\u671f\u5316\u3055\u308c\u307e\u3059\u3002\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1aNone\uff09 input_range : \u5165\u529b\u5024\u306e\u7bc4\u56f2\u3092 (min, max) \u306e\u30bf\u30d7\u30eb\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 \u3053\u308c\u306f\u6700\u7d42\u7684\u306b\u6700\u9069\u5316\u3055\u308c\u305f\u5165\u529b\u3092\u3001\u6307\u5b9a\u3055\u308c\u305f\u306e\u7bc4\u56f2\u306b\u30b9\u30b1\u30fc\u30eb\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a(0, 255)\uff09\u3002 optimizer_params : \u30aa\u30d7\u30c6\u30a3\u30de\u30a4\u30b6\u306e**kwargs\u5f15\u6570 . \u30aa\u30d7\u30c6\u30a3\u30de\u30a4\u30b6\u306e\u5fc5\u9808\u5f15\u6570\u304c\u306a\u3044\u5834\u5408\u3001\u9069\u5207\u306a\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u304c\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002 \u623b\u308a\u5024: \u91cd\u307f\u4ed8\u304d losses \u3092\u6700\u5c0f\u306b\u3059\u308b\u30e2\u30c7\u30eb\u5165\u529b get_num_filters get_num_filters(layer) \u6307\u5b9a\u3055\u308c\u305f\u30ec\u30a4\u30e4\u306e\u30d5\u30a3\u30eb\u30bf\u6570\u3092\u8abf\u3079\u307e\u3059\u3002 \u5f15\u6570: layer : Keras\u30ec\u30a4\u30e4 \u623b\u308a\u5024: \u30ec\u30a4\u30e4\u5185\u306e\u30d5\u30a3\u30eb\u30bf\u6570\u3002 keras.layers.Dense \u30ec\u30a4\u30e4\u306e\u5834\u5408\u3001\u3053\u308c\u306f\u51fa\u529b\u6570\u306b\u306a\u308a\u307e\u3059\u3002 overlay overlay(array1, array2, alpha=0.5) array1 \u3092 alpha \u306e\u900f\u660e\u5ea6\u3067 array2 \u306e\u4e0a\u306b\u91cd\u306d\u307e\u3059\u3002 Args: array1 : numpy array. array2 : numpy array. alpha : \u900f\u660e\u5ea6\u3002 \u3053\u306e\u5024\u306f[0, 1]\u306e\u9593\u3067\u3042\u308b\u3053\u3068\u3002 0\u3092\u4e0e\u3048\u308b\u3068 array2 \u306e\u307f\u304c\u30011\u3092\u4e0e\u3048\u308b\u3068 array1 \u306e\u307f\u304c\u63cf\u753b\u3055\u308c\u307e\u3059(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024 = 0.5). \u623b\u308a\u5024: array1 \u3092 alpha \u306e\u900f\u660e\u5ea6\u3067 array2 \u306e\u4e0a\u306b\u91cd\u306d\u305f\u753b\u50cf visualize_saliency_with_losses visualize_saliency_with_losses(input_tensor, losses, seed_input, wrt_tensor=None, \\ grad_modifier=\"absolute\") \u91cd\u307f\u4ed8\u304d\u640d\u5931\u306b\u95a2\u3059\u308b input_tensor \u306e\u6b63\u306e\u52fe\u914d\u3067\u3001 seed_input \u306e\u6ce8\u76ee\u30d2\u30fc\u30c8\u30de\u30c3\u30d7\u3092\u751f\u6210\u3057\u307e\u3059\u3002 \u3053\u306e\u95a2\u6570\u306f\u30ab\u30b9\u30bf\u30e0\u640d\u5931\u3092\u5fc5\u8981\u3068\u3059\u308b\u9ad8\u5ea6\u306a\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3092\u5bfe\u8c61\u306b\u3057\u3066\u3044\u307e\u3059\u3002 \u6c4e\u7528\u7684\u306a\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306f visualize_saliency \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 Saliency\u306e\u5b8c\u5168\u306a\u8aac\u660e\u306f\u6b21\u306e\u8ad6\u6587\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\uff1a Deep Inside Convolutional Networks: Visualising Image Classification Models and Saliency Maps \u5f15\u6570: input_tensor : \u5165\u529b\u30c6\u30f3\u30bd\u30eb\u3002\u5f62\u72b6\u306f\u3001 channels_first \u306e\u5834\u5408\u306f (samples, channels, image_dims...) \u3001 channels_last \u306e\u5834\u5408\u306f (samples, image_dims..., channels) \u3002 losses : ( Loss , weight)\u306e\u30bf\u30d7\u30eb\u306e\u30ea\u30b9\u30c8\u3002 seed_input : \u6ce8\u76ee\u30de\u30c3\u30d7\u304c\u53ef\u8996\u5316\u3055\u308c\u308b\u306e\u306b\u5fc5\u8981\u306a\u30e2\u30c7\u30eb\u3078\u306e\u5165\u529b wrt_tensor : \u640d\u5931\u306e\u52fe\u914d\u306f\u3001\u3053\u306e\u30c6\u30f3\u30bd\u30eb\u306b\u95a2\u3057\u3066\u8a08\u7b97\u3055\u308c\u307e\u3059\u3002 None\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001\u3053\u308c\u306f input_tensor \u3068\u540c\u3058\u3067\u3042\u308b\u3068\u60f3\u5b9a\u3055\u308c\u308b\u3002\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a None\uff09 grad_modifier : \u52fe\u914d\u4fee\u98fe\u5b50\u3002 grad_modifiers \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u7d76\u5bfe\u5024\uff08 absolute \uff09\u306e\u52fe\u914d\u304c\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002 \u6b63\u307e\u305f\u306f\u8ca0\u306e\u52fe\u914d\u3092\u53ef\u8996\u5316\u3059\u308b\u306b\u306f\u3001\u305d\u308c\u305e\u308c relu \u304a\u3088\u3073 negate \u3092\u4f7f\u7528\u3057\u3066\u4e0b\u3055\u3044\u3002 \u623b\u308a\u5024: \u91cd\u307f\u4ed8\u304d\u640d\u5931\u306b\u95a2\u3059\u308b seed_input \u306e\u6b63\u898f\u5316\u3055\u308c\u305f\u52fe\u914d visualize_activation visualize_activation(model, layer_idx, filter_indices=None, wrt_tensor=None, seed_input=None, \\ input_range=(0, 255), backprop_modifier=None, grad_modifier=None, act_max_weight=1, \\ lp_norm_weight=10, tv_weight=10, **optimizer_params) \u6307\u5b9a\u3055\u308c\u305f layer_idx \u306e\u5168\u3066\u306e filter_indices \u306e\u51fa\u529b\u3092\u6700\u5927\u5316\u3059\u308b\u30e2\u30c7\u30eb\u5165\u529b\u3092\u751f\u6210\u3057\u307e\u3059\u3002 \u5f15\u6570: model : keras.models.Model \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3002\u30e2\u30c7\u30eb\u5165\u529b\u306e\u5f62\u72b6\u306f\u3001 channels_first \u306e\u5834\u5408\u306f (samples, channels, image_dims...) \u3001 channels_last \u306e\u5834\u5408\u306f (samples, image_dims..., channels) \u3067\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002 layer_idx : \u53ef\u8996\u5316\u3055\u308c\u308b\u30d5\u30a3\u30eb\u30bf\u3092\u542b\u3080 model.layers \u5185\u306e\u30ec\u30a4\u30e4\u30a4\u30f3\u30c7\u30c3\u30af\u30b9 filter_indices : \u6700\u5927\u5316\u3055\u308c\u308b\u30ec\u30a4\u30e4\u5185\u306e\u30d5\u30a3\u30eb\u30bf\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3002 None\u304c\u6307\u5b9a\u3055\u308c\u305f\u5834\u5408\u3001\u5168\u3066\u306e\u30d5\u30a3\u30eb\u30bf\u304c\u53ef\u8996\u5316\u3055\u308c\u307e\u3059\u3002(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a None)\u3002 keras.layers.Dense \u306e\u5834\u5408\u3001 filter_idx \u306f\u51fa\u529b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3068\u3057\u3066\u89e3\u91c8\u3055\u308c\u307e\u3059\u3002 \u3082\u3057\u6700\u7d42\u5c64\u306e keras.layers.Dense \u3092\u53ef\u8996\u5316\u3059\u308b\u306a\u3089\u3001\u3088\u308a\u826f\u3044\u7d50\u679c\u3092\u5f97\u308b\u305f\u3081\u306b\u3001 utils.apply_modifications \u3092\u4f7f\u3063\u3066\u3001'softmax'\u6d3b\u6027\u5316\u3092'linear'\u306b\u5909\u66f4\u3059\u308b\u3053\u3068\u3092\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002 wrt_tensor : \u640d\u5931\u306e\u52fe\u914d\u306f\u3001\u3053\u306e\u30c6\u30f3\u30bd\u30eb\u306b\u95a2\u3057\u3066\u8a08\u7b97\u3055\u308c\u307e\u3059\u3002 None\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001\u3053\u308c\u306f input_tensor \u3068\u540c\u3058\u3067\u3042\u308b\u3068\u60f3\u5b9a\u3055\u308c\u308b\u3002\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a None\uff09 seed_input : \u6700\u9069\u5316\u306e\u958b\u59cb\u753b\u50cf\u306b\u30b7\u30fc\u30c9\u3057\u307e\u3059\u3002None\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001\u30e9\u30f3\u30c0\u30e0\u5024\u3067\u521d\u671f\u5316\u3055\u308c\u307e\u3059\u3002\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1aNone\uff09 input_range : \u5165\u529b\u5024\u306e\u7bc4\u56f2\u3092 (min, max) \u306e\u30bf\u30d7\u30eb\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 \u3053\u308c\u306f\u6700\u7d42\u7684\u306b\u6700\u9069\u5316\u3055\u308c\u305f\u5165\u529b\u3092\u3001\u6307\u5b9a\u3055\u308c\u305f\u306e\u7bc4\u56f2\u306b\u30b9\u30b1\u30fc\u30eb\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a(0, 255)\uff09\u3002 backprop_modifier : \u8aa4\u5dee\u9006\u4f1d\u64ad\u4fee\u98fe\u5b50. backprop_modifiers \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3082\u3057\u4f55\u3082\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u3001\u8aa4\u5dee\u9006\u4f1d\u64ad\u4fee\u98fe\u306f\u4f55\u3082\u9069\u7528\u3055\u308c\u307e\u305b\u3093\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1aNone\uff09 grad_modifier : \u52fe\u914d\u4fee\u98fe\u5b50\u3002 grad_modifiers \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3082\u3057\u4f55\u3082\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u3001\u52fe\u914d\u306f\u7de8\u96c6\u3055\u308c\u307e\u305b\u3093(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1aNone) act_max_weight : ActivationMaximization \u640d\u5931\u306e\u91cd\u307f\u4fc2\u6570\u3002\u30bc\u30ed\u307e\u305f\u306fNone\u3092\u6307\u5b9a\u3059\u308b\u3068\u3053\u306e\u30ed\u30b9\u306f\u4f7f\u308f\u308c\u307e\u305b\u3093\u3002(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a1) lp_norm_weight : LPNorm \u6b63\u898f\u5316\u640d\u5931\u306e\u91cd\u307f\u4fc2\u6570\u3002\u30bc\u30ed\u307e\u305f\u306fNone\u3092\u6307\u5b9a\u3059\u308b\u3068\u3053\u306e\u30ed\u30b9\u306f\u4f7f\u308f\u308c\u307e\u305b\u3093\u3002(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a10) tv_weight : TotalVariation \u6b63\u898f\u5316\u640d\u5931\u306e\u91cd\u307f\u4fc2\u6570\u3002\u30bc\u30ed\u307e\u305f\u306fNone\u3092\u6307\u5b9a\u3059\u308b\u3068\u3053\u306e\u30ed\u30b9\u306f\u4f7f\u308f\u308c\u307e\u305b\u3093\u3002(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a10) optimizer_params : \u30aa\u30d7\u30c6\u30a3\u30de\u30a4\u30b6\u306e**kwargs\u5f15\u6570 . \u30aa\u30d7\u30c6\u30a3\u30de\u30a4\u30b6\u306e\u5fc5\u9808\u5f15\u6570\u304c\u306a\u3044\u5834\u5408\u3001\u9069\u5207\u306a\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u304c\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002 \u4f8b: \u6700\u7d42\u5c64\u304c keras.layers.Dense \u3067\u3001\u51fa\u529b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\uff12\uff12\u3092\u6700\u5927\u5316\u3059\u308b\u5165\u529b\u753b\u50cf\u3092\u53ef\u8996\u5316\u3057\u305f\u3044\u306e\u3067\u3042\u308c\u3070\u3001 filter_indices = [22] \u304b\u3064 layer_idx = dense_layer_idx \u3068\u306a\u308a\u307e\u3059\u3002 filter_indices = [22, 23] \u306b\u3059\u308b\u3068\u3001\u4e21\u65b9\u306e\u30af\u30e9\u30b9\u306e\u7279\u5fb4\u3092\u793a\u3059\u5165\u529b\u753b\u50cf\u304c\u751f\u6210\u3055\u308c\u308b\u306f\u305a\u3067\u3059\u3002 \u623b\u308a\u5024: \u4e0e\u3048\u3089\u308c\u305f layer_idx \u5185\u306e filter_indices \u306e\u51fa\u529b\u3092\u6700\u5927\u5316\u3059\u308b\u30e2\u30c7\u30eb\u5165\u529b visualize_saliency visualize_saliency(model, layer_idx, filter_indices, seed_input, wrt_tensor=None, \\ backprop_modifier=None, grad_modifier=\"absolute\") \u6307\u5b9a\u3055\u308c\u305f layer_idx \u306e filter_indices \u306e\u51fa\u529b\u3092\u6700\u5927\u5316\u3059\u308b\u305f\u3081\u306e seed_input \u306b\u3001\u6ce8\u76ee\u30d2\u30fc\u30c8\u30de\u30c3\u30d7\u3092\u751f\u6210\u3057\u307e\u3059\u3002 \u5f15\u6570: model : keras.models.Model \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3002\u30e2\u30c7\u30eb\u5165\u529b\u306e\u5f62\u72b6\u306f\u3001 channels_first \u306e\u5834\u5408\u306f (samples, channels, image_dims...) \u3001 channels_last \u306e\u5834\u5408\u306f (samples, image_dims..., channels) \u3067\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002 layer_idx : \u53ef\u8996\u5316\u3055\u308c\u308b\u30d5\u30a3\u30eb\u30bf\u3092\u542b\u3080 model.layers \u5185\u306e\u30ec\u30a4\u30e4\u30a4\u30f3\u30c7\u30c3\u30af\u30b9 filter_indices : \u6700\u5927\u5316\u3055\u308c\u308b\u30ec\u30a4\u30e4\u5185\u306e\u30d5\u30a3\u30eb\u30bf\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3002 None\u304c\u6307\u5b9a\u3055\u308c\u305f\u5834\u5408\u3001\u5168\u3066\u306e\u30d5\u30a3\u30eb\u30bf\u304c\u53ef\u8996\u5316\u3055\u308c\u307e\u3059\u3002(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a None)\u3002 keras.layers.Dense \u306e\u5834\u5408\u3001 filter_idx \u306f\u51fa\u529b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3068\u3057\u3066\u89e3\u91c8\u3055\u308c\u307e\u3059\u3002 \u3082\u3057\u6700\u7d42\u5c64\u306e keras.layers.Dense \u3092\u53ef\u8996\u5316\u3059\u308b\u306a\u3089\u3001\u3088\u308a\u826f\u3044\u7d50\u679c\u3092\u5f97\u308b\u305f\u3081\u306b\u3001 utils.apply_modifications \u3092\u4f7f\u3063\u3066\u3001'softmax'\u6d3b\u6027\u5316\u3092'linear'\u306b\u5909\u66f4\u3059\u308b\u3053\u3068\u3092\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002 seed_input : \u6ce8\u76ee\u30de\u30c3\u30d7\u304c\u53ef\u8996\u5316\u3055\u308c\u308b\u306e\u306b\u5fc5\u8981\u306a\u30e2\u30c7\u30eb\u3078\u306e\u5165\u529b wrt_tensor : \u640d\u5931\u306e\u52fe\u914d\u306f\u3001\u3053\u306e\u30c6\u30f3\u30bd\u30eb\u306b\u95a2\u3057\u3066\u8a08\u7b97\u3055\u308c\u307e\u3059\u3002 None\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001\u3053\u308c\u306f input_tensor \u3068\u540c\u3058\u3067\u3042\u308b\u3068\u60f3\u5b9a\u3055\u308c\u308b\u3002\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a None\uff09 backprop_modifier : \u8aa4\u5dee\u9006\u4f1d\u64ad\u4fee\u98fe\u5b50. backprop_modifiers \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3082\u3057\u4f55\u3082\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u3001\u8aa4\u5dee\u9006\u4f1d\u64ad\u4fee\u98fe\u306f\u4f55\u3082\u9069\u7528\u3055\u308c\u307e\u305b\u3093\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1aNone\uff09 grad_modifier : \u52fe\u914d\u4fee\u98fe\u5b50\u3002 grad_modifiers \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3082\u3057\u4f55\u3082\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u3001\u52fe\u914d\u306f\u7de8\u96c6\u3055\u308c\u307e\u305b\u3093(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a'absolute') \u4f8b: \u3082\u3057'\u9ce5'\u30ab\u30c6\u30b4\u30ea\u3078\u306e\u6ce8\u76ee\u3092\u53ef\u8996\u5316\u3057\u305f\u3044\u306a\u3089\u3001\u6700\u7d42\u5c64\u306e keras.layers.Dense \u306e\u51fa\u529b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306f\uff12\uff12\u306a\u306e\u3067\u3001 filter_indices = [22] \u304b\u3064 layer = dense_layer \u3068\u306a\u308a\u307e\u3059\u3002 \u307e\u305f\u8907\u6570\u306e\u5024\u3092\u30d5\u30a3\u30eb\u30bf\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001 filter_indices = [22, 23] \u306f\uff08\u4e0a\u624b\u304f\u3044\u3051\u3070\uff09 \uff12\uff12\u3068\uff12\uff13\u306e\u30ab\u30c6\u30b4\u30ea\u4e21\u65b9\u306b\u95a2\u9023\u3059\u308b\u6ce8\u76ee\u30de\u30c3\u30d7\u3092\u5f97\u3089\u308c\u308b\u306f\u305a\u3067\u3059\u3002 \u623b\u308a\u5024: filter_indices \u306e\u51fa\u529b\u306e\u6700\u5927\u5316\u306b\u6700\u3082\u8ca2\u732e\u3059\u308b seed_input \u306e\u9818\u57df\u3092\u793a\u3057\u305f\u30d2\u30fc\u30c8\u30de\u30c3\u30d7\u753b\u50cf visualize_cam_with_losses visualize_cam_with_losses(input_tensor, losses, seed_input, penultimate_layer, grad_modifier=None) \u91cd\u307f\u4ed8\u304d\u640d\u5931\u306b\u95a2\u3059\u308b input_tensor \u306e\u6b63\u306e\u52fe\u914d\u3092\u4f7f\u3063\u3066\u3001CAM\u30d9\u30fc\u30b9\u306e\u52fe\u914d(grad-CAM)\u3092\u751f\u6210\u3057\u307e\u3059\u3002 grad-CAM\u306e\u8a73\u7d30\u306f\u8ad6\u6587\u3092\u53c2\u7167\u3057\u3066\u4e0b\u3055\u3044\uff1a Grad-CAM: Why did you say that? Visual Explanations from Deep Networks via Gradient-based Localization \u3044\u304f\u3064\u304b\u306e\u4f8b\u3067\u306f\u308f\u305a\u304b\u306a\u304c\u3089\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u69cb\u9020\u306b\u5909\u66f4\u304c\u5fc5\u8981\u3068\u306a\u308bCAM\u3068\u306f\u7570\u306a\u308a\u3001grad-CAM\u306f\u3088\u308a\u9069\u7528\u7bc4\u56f2\u304c\u5e83\u3044\u3067\u3059\u3002 Saliancy\u3068\u6bd4\u8f03\u3059\u308b\u3068\u3001grad-CAM\u306f\u30af\u30e9\u30b9\u3092\u533a\u5225\u3067\u304d\u307e\u3059\uff1b\u3000\u3059\u306a\u308f\u3061 \u732b \u306e\u8aac\u660e\u306b\u306f\u732b\u306e\u9818\u57df\u306e\u307f\u3092\u5f37\u8abf\u3057\u3001\u72ac\u306e\u9818\u57df\u306f\u5f37\u8abf\u3057\u307e\u305b\u3093\u3002\u305d\u3057\u3066\u305d\u306e\u9006\u3082\u307e\u305f\u540c\u69d8\u3067\u3059\u3002 \u5f15\u6570: input_tensor : \u5165\u529b\u30c6\u30f3\u30bd\u30eb\u3002\u5f62\u72b6\u306f\u3001 channels_first \u306e\u5834\u5408\u306f (samples, channels, image_dims...) \u3001 channels_last \u306e\u5834\u5408\u306f (samples, image_dims..., channels) \u3002 losses : ( Loss , weight)\u306e\u30bf\u30d7\u30eb\u306e\u30ea\u30b9\u30c8\u3002 seed_input : \u6ce8\u76ee\u30de\u30c3\u30d7\u304c\u53ef\u8996\u5316\u3055\u308c\u308b\u306e\u306b\u5fc5\u8981\u306a\u30e2\u30c7\u30eb\u3078\u306e\u5165\u529b penultimate_layer : \u30d5\u30a3\u30eb\u30bf\u51fa\u529b\u306b\u95a2\u3059\u308b\u52fe\u914d\u3092\u8a08\u7b97\u3059\u308b\u305f\u3081\u306b\u4f7f\u308f\u308c\u308b\u3079\u304d\u7279\u5fb4\u30de\u30c3\u30d7\u3092\u5f97\u308b\u305f\u3081\u306e layer_idx \u306e\uff11\u3064\u524d\u306e\u30ec\u30a4\u30e4\u3002 grad_modifier : \u52fe\u914d\u4fee\u98fe\u5b50\u3002 grad_modifiers \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u4f55\u3082\u6307\u5b9a\u3057\u306a\u3051\u308c\u3070\u52fe\u914d\u306f\u5909\u66f4\u3055\u308c\u307e\u305b\u3093\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a None\uff09 \u623b\u308a\u5024: \u91cd\u307f\u4ed8\u304d\u640d\u5931\u306b\u95a2\u3059\u308b seed_input \u306e\u6b63\u898f\u5316\u6e08\u307f\u52fe\u914d visualize_cam visualize_cam(model, layer_idx, filter_indices, seed_input, penultimate_layer_idx=None, \\ backprop_modifier=None, grad_modifier=None) \u6307\u5b9a\u3055\u308c\u305f layer_idx \u306e filter_indices \u306e\u51fa\u529b\u3092\u6700\u5927\u5316\u3059\u308b\u3001CAM\u30d9\u30fc\u30b9\u306e\u52fe\u914d\uff08grad-CAM\uff09\u3092\u751f\u6210\u3057\u307e\u3059\u3002 \u5f15\u6570: model : keras.models.Model \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3002\u30e2\u30c7\u30eb\u5165\u529b\u306e\u5f62\u72b6\u306f\u3001 channels_first \u306e\u5834\u5408\u306f (samples, channels, image_dims...) \u3001 channels_last \u306e\u5834\u5408\u306f (samples, image_dims..., channels) \u3067\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002 layer_idx : \u53ef\u8996\u5316\u3055\u308c\u308b\u30d5\u30a3\u30eb\u30bf\u3092\u542b\u3080 model.layers \u5185\u306e\u30ec\u30a4\u30e4\u30a4\u30f3\u30c7\u30c3\u30af\u30b9 filter_indices : \u6700\u5927\u5316\u3055\u308c\u308b\u30ec\u30a4\u30e4\u5185\u306e\u30d5\u30a3\u30eb\u30bf\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3002 None\u304c\u6307\u5b9a\u3055\u308c\u305f\u5834\u5408\u3001\u5168\u3066\u306e\u30d5\u30a3\u30eb\u30bf\u304c\u53ef\u8996\u5316\u3055\u308c\u307e\u3059\u3002(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a None)\u3002 keras.layers.Dense \u306e\u5834\u5408\u3001 filter_idx \u306f\u51fa\u529b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3068\u3057\u3066\u89e3\u91c8\u3055\u308c\u307e\u3059\u3002 \u3082\u3057\u6700\u7d42\u5c64\u306e keras.layers.Dense \u3092\u53ef\u8996\u5316\u3059\u308b\u306a\u3089\u3001\u3088\u308a\u826f\u3044\u7d50\u679c\u3092\u5f97\u308b\u305f\u3081\u306b\u3001 utils.apply_modifications \u3092\u4f7f\u3063\u3066\u3001'softmax'\u6d3b\u6027\u5316\u3092'linear'\u306b\u5909\u66f4\u3059\u308b\u3053\u3068\u3092\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002 seed_input : \u6ce8\u76ee\u30de\u30c3\u30d7\u304c\u53ef\u8996\u5316\u3055\u308c\u308b\u306e\u306b\u5fc5\u8981\u306a\u30e2\u30c7\u30eb\u3078\u306e\u5165\u529b penultimate_layer_idx : \u30d5\u30a3\u30eb\u30bf\u51fa\u529b\u306b\u95a2\u3059\u308b\u52fe\u914d\u3092\u8a08\u7b97\u3059\u308b\u305f\u3081\u306b\u4f7f\u308f\u308c\u308b\u3079\u304d\u7279\u5fb4\u30de\u30c3\u30d7\u3092\u5f97\u308b\u305f\u3081\u306e layer_idx \u306e\uff11\u3064\u524d\u306e\u30ec\u30a4\u30e4\u3002\u3000\u4f55\u3082\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u3001 layer_idx \u306b\u6700\u3082\u8fd1\u3044 \u7573\u307f\u8fbc\u307f \u307e\u305f\u306f \u30d7\u30fc\u30ea\u30f3\u30b0 \u30ec\u30a4\u30e4\u304c\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002 backprop_modifier : \u8aa4\u5dee\u9006\u4f1d\u64ad\u4fee\u98fe\u5b50. backprop_modifiers \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3082\u3057\u4f55\u3082\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u3001\u8aa4\u5dee\u9006\u4f1d\u64ad\u4fee\u98fe\u306f\u4f55\u3082\u9069\u7528\u3055\u308c\u307e\u305b\u3093\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1aNone\uff09 grad_modifier : \u52fe\u914d\u4fee\u98fe\u5b50\u3002 grad_modifiers \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3082\u3057\u4f55\u3082\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u3001\u52fe\u914d\u306f\u7de8\u96c6\u3055\u308c\u307e\u305b\u3093(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1aNone \u4f8b: \u3082\u3057 \u9ce5 \u30ab\u30c6\u30b4\u30ea\u3078\u306e\u6ce8\u76ee\u3092\u53ef\u8996\u5316\u3057\u305f\u3044\u306a\u3089\u3001\u6700\u7d42\u5c64\u306e keras.layers.Dense \u306e\u51fa\u529b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306f\uff12\uff12\u306a\u306e\u3067\u3001 filter_indices = [22] \u304b\u3064 layer = dense_layer \u3068\u306a\u308a\u307e\u3059\u3002 \u307e\u305f\u8907\u6570\u306e\u5024\u3092\u30d5\u30a3\u30eb\u30bf\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001 filter_indices = [22, 23] \u306f\uff08\u4e0a\u624b\u304f\u3044\u3051\u3070\uff09 \uff12\uff12\u3068\uff12\uff13\u306e\u30ab\u30c6\u30b4\u30ea\u4e21\u65b9\u306b\u95a2\u9023\u3059\u308b\u6ce8\u76ee\u30de\u30c3\u30d7\u3092\u5f97\u3089\u308c\u308b\u306f\u305a\u3067\u3059\u3002 \u623b\u308a\u5024: filter_indices \u306e\u51fa\u529b\u306e\u6700\u5927\u5316\u306b\u6700\u3082\u8ca2\u732e\u3059\u308b\u5165\u529b\u306e\u9818\u57df\u3092\u793a\u3059\u30d2\u30fc\u30c8\u30de\u30c3\u30d7\u753b\u50cf","title":"\u53ef\u8996\u5316"},{"location":"vis.visualization/#visualize_activation_with_losses","text":"visualize_activation_with_losses(input_tensor, losses, wrt_tensor=None, seed_input=None, \\ input_range=(0, 255), **optimizer_params) \u91cd\u307f\u4ed8\u304d losses \u3092\u6700\u5c0f\u306b\u3059\u308b input_tensor \u3092\u751f\u6210\u3057\u307e\u3059\u3002 \u3053\u306e\u95a2\u6570\u306f\u30ab\u30b9\u30bf\u30e0\u640d\u5931\u3092\u5fc5\u8981\u3068\u3059\u308b\u9ad8\u5ea6\u306a\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3092\u5bfe\u8c61\u306b\u3057\u3066\u3044\u307e\u3059\u3002 \u5f15\u6570: input_tensor : \u5165\u529b\u30c6\u30f3\u30bd\u30eb\u3002\u5f62\u72b6\u306f\u3001 channels_first \u306e\u5834\u5408\u306f (samples, channels, image_dims...) \u3001 channels_last \u306e\u5834\u5408\u306f (samples, image_dims..., channels) \u3002 wrt_tensor : \u640d\u5931\u306e\u52fe\u914d\u306f\u3001\u3053\u306e\u30c6\u30f3\u30bd\u30eb\u306b\u95a2\u3057\u3066\u8a08\u7b97\u3055\u308c\u307e\u3059\u3002 None\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001\u3053\u308c\u306f input_tensor \u3068\u540c\u3058\u3067\u3042\u308b\u3068\u60f3\u5b9a\u3055\u308c\u308b\u3002\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a None\uff09 losses : ( Loss , weight)\u306e\u30bf\u30d7\u30eb\u306e\u30ea\u30b9\u30c8\u3002 seed_input : \u6700\u9069\u5316\u306e\u958b\u59cb\u753b\u50cf\u306b\u30b7\u30fc\u30c9\u3057\u307e\u3059\u3002None\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001\u30e9\u30f3\u30c0\u30e0\u5024\u3067\u521d\u671f\u5316\u3055\u308c\u307e\u3059\u3002\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1aNone\uff09 input_range : \u5165\u529b\u5024\u306e\u7bc4\u56f2\u3092 (min, max) \u306e\u30bf\u30d7\u30eb\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 \u3053\u308c\u306f\u6700\u7d42\u7684\u306b\u6700\u9069\u5316\u3055\u308c\u305f\u5165\u529b\u3092\u3001\u6307\u5b9a\u3055\u308c\u305f\u306e\u7bc4\u56f2\u306b\u30b9\u30b1\u30fc\u30eb\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a(0, 255)\uff09\u3002 optimizer_params : \u30aa\u30d7\u30c6\u30a3\u30de\u30a4\u30b6\u306e**kwargs\u5f15\u6570 . \u30aa\u30d7\u30c6\u30a3\u30de\u30a4\u30b6\u306e\u5fc5\u9808\u5f15\u6570\u304c\u306a\u3044\u5834\u5408\u3001\u9069\u5207\u306a\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u304c\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002 \u623b\u308a\u5024: \u91cd\u307f\u4ed8\u304d losses \u3092\u6700\u5c0f\u306b\u3059\u308b\u30e2\u30c7\u30eb\u5165\u529b","title":"visualize_activation_with_losses"},{"location":"vis.visualization/#get_num_filters","text":"get_num_filters(layer) \u6307\u5b9a\u3055\u308c\u305f\u30ec\u30a4\u30e4\u306e\u30d5\u30a3\u30eb\u30bf\u6570\u3092\u8abf\u3079\u307e\u3059\u3002 \u5f15\u6570: layer : Keras\u30ec\u30a4\u30e4 \u623b\u308a\u5024: \u30ec\u30a4\u30e4\u5185\u306e\u30d5\u30a3\u30eb\u30bf\u6570\u3002 keras.layers.Dense \u30ec\u30a4\u30e4\u306e\u5834\u5408\u3001\u3053\u308c\u306f\u51fa\u529b\u6570\u306b\u306a\u308a\u307e\u3059\u3002","title":"get_num_filters"},{"location":"vis.visualization/#overlay","text":"overlay(array1, array2, alpha=0.5) array1 \u3092 alpha \u306e\u900f\u660e\u5ea6\u3067 array2 \u306e\u4e0a\u306b\u91cd\u306d\u307e\u3059\u3002 Args: array1 : numpy array. array2 : numpy array. alpha : \u900f\u660e\u5ea6\u3002 \u3053\u306e\u5024\u306f[0, 1]\u306e\u9593\u3067\u3042\u308b\u3053\u3068\u3002 0\u3092\u4e0e\u3048\u308b\u3068 array2 \u306e\u307f\u304c\u30011\u3092\u4e0e\u3048\u308b\u3068 array1 \u306e\u307f\u304c\u63cf\u753b\u3055\u308c\u307e\u3059(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024 = 0.5). \u623b\u308a\u5024: array1 \u3092 alpha \u306e\u900f\u660e\u5ea6\u3067 array2 \u306e\u4e0a\u306b\u91cd\u306d\u305f\u753b\u50cf","title":"overlay"},{"location":"vis.visualization/#visualize_saliency_with_losses","text":"visualize_saliency_with_losses(input_tensor, losses, seed_input, wrt_tensor=None, \\ grad_modifier=\"absolute\") \u91cd\u307f\u4ed8\u304d\u640d\u5931\u306b\u95a2\u3059\u308b input_tensor \u306e\u6b63\u306e\u52fe\u914d\u3067\u3001 seed_input \u306e\u6ce8\u76ee\u30d2\u30fc\u30c8\u30de\u30c3\u30d7\u3092\u751f\u6210\u3057\u307e\u3059\u3002 \u3053\u306e\u95a2\u6570\u306f\u30ab\u30b9\u30bf\u30e0\u640d\u5931\u3092\u5fc5\u8981\u3068\u3059\u308b\u9ad8\u5ea6\u306a\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3092\u5bfe\u8c61\u306b\u3057\u3066\u3044\u307e\u3059\u3002 \u6c4e\u7528\u7684\u306a\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306f visualize_saliency \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 Saliency\u306e\u5b8c\u5168\u306a\u8aac\u660e\u306f\u6b21\u306e\u8ad6\u6587\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\uff1a Deep Inside Convolutional Networks: Visualising Image Classification Models and Saliency Maps \u5f15\u6570: input_tensor : \u5165\u529b\u30c6\u30f3\u30bd\u30eb\u3002\u5f62\u72b6\u306f\u3001 channels_first \u306e\u5834\u5408\u306f (samples, channels, image_dims...) \u3001 channels_last \u306e\u5834\u5408\u306f (samples, image_dims..., channels) \u3002 losses : ( Loss , weight)\u306e\u30bf\u30d7\u30eb\u306e\u30ea\u30b9\u30c8\u3002 seed_input : \u6ce8\u76ee\u30de\u30c3\u30d7\u304c\u53ef\u8996\u5316\u3055\u308c\u308b\u306e\u306b\u5fc5\u8981\u306a\u30e2\u30c7\u30eb\u3078\u306e\u5165\u529b wrt_tensor : \u640d\u5931\u306e\u52fe\u914d\u306f\u3001\u3053\u306e\u30c6\u30f3\u30bd\u30eb\u306b\u95a2\u3057\u3066\u8a08\u7b97\u3055\u308c\u307e\u3059\u3002 None\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001\u3053\u308c\u306f input_tensor \u3068\u540c\u3058\u3067\u3042\u308b\u3068\u60f3\u5b9a\u3055\u308c\u308b\u3002\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a None\uff09 grad_modifier : \u52fe\u914d\u4fee\u98fe\u5b50\u3002 grad_modifiers \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u7d76\u5bfe\u5024\uff08 absolute \uff09\u306e\u52fe\u914d\u304c\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002 \u6b63\u307e\u305f\u306f\u8ca0\u306e\u52fe\u914d\u3092\u53ef\u8996\u5316\u3059\u308b\u306b\u306f\u3001\u305d\u308c\u305e\u308c relu \u304a\u3088\u3073 negate \u3092\u4f7f\u7528\u3057\u3066\u4e0b\u3055\u3044\u3002 \u623b\u308a\u5024: \u91cd\u307f\u4ed8\u304d\u640d\u5931\u306b\u95a2\u3059\u308b seed_input \u306e\u6b63\u898f\u5316\u3055\u308c\u305f\u52fe\u914d","title":"visualize_saliency_with_losses"},{"location":"vis.visualization/#visualize_activation","text":"visualize_activation(model, layer_idx, filter_indices=None, wrt_tensor=None, seed_input=None, \\ input_range=(0, 255), backprop_modifier=None, grad_modifier=None, act_max_weight=1, \\ lp_norm_weight=10, tv_weight=10, **optimizer_params) \u6307\u5b9a\u3055\u308c\u305f layer_idx \u306e\u5168\u3066\u306e filter_indices \u306e\u51fa\u529b\u3092\u6700\u5927\u5316\u3059\u308b\u30e2\u30c7\u30eb\u5165\u529b\u3092\u751f\u6210\u3057\u307e\u3059\u3002 \u5f15\u6570: model : keras.models.Model \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3002\u30e2\u30c7\u30eb\u5165\u529b\u306e\u5f62\u72b6\u306f\u3001 channels_first \u306e\u5834\u5408\u306f (samples, channels, image_dims...) \u3001 channels_last \u306e\u5834\u5408\u306f (samples, image_dims..., channels) \u3067\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002 layer_idx : \u53ef\u8996\u5316\u3055\u308c\u308b\u30d5\u30a3\u30eb\u30bf\u3092\u542b\u3080 model.layers \u5185\u306e\u30ec\u30a4\u30e4\u30a4\u30f3\u30c7\u30c3\u30af\u30b9 filter_indices : \u6700\u5927\u5316\u3055\u308c\u308b\u30ec\u30a4\u30e4\u5185\u306e\u30d5\u30a3\u30eb\u30bf\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3002 None\u304c\u6307\u5b9a\u3055\u308c\u305f\u5834\u5408\u3001\u5168\u3066\u306e\u30d5\u30a3\u30eb\u30bf\u304c\u53ef\u8996\u5316\u3055\u308c\u307e\u3059\u3002(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a None)\u3002 keras.layers.Dense \u306e\u5834\u5408\u3001 filter_idx \u306f\u51fa\u529b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3068\u3057\u3066\u89e3\u91c8\u3055\u308c\u307e\u3059\u3002 \u3082\u3057\u6700\u7d42\u5c64\u306e keras.layers.Dense \u3092\u53ef\u8996\u5316\u3059\u308b\u306a\u3089\u3001\u3088\u308a\u826f\u3044\u7d50\u679c\u3092\u5f97\u308b\u305f\u3081\u306b\u3001 utils.apply_modifications \u3092\u4f7f\u3063\u3066\u3001'softmax'\u6d3b\u6027\u5316\u3092'linear'\u306b\u5909\u66f4\u3059\u308b\u3053\u3068\u3092\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002 wrt_tensor : \u640d\u5931\u306e\u52fe\u914d\u306f\u3001\u3053\u306e\u30c6\u30f3\u30bd\u30eb\u306b\u95a2\u3057\u3066\u8a08\u7b97\u3055\u308c\u307e\u3059\u3002 None\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001\u3053\u308c\u306f input_tensor \u3068\u540c\u3058\u3067\u3042\u308b\u3068\u60f3\u5b9a\u3055\u308c\u308b\u3002\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a None\uff09 seed_input : \u6700\u9069\u5316\u306e\u958b\u59cb\u753b\u50cf\u306b\u30b7\u30fc\u30c9\u3057\u307e\u3059\u3002None\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001\u30e9\u30f3\u30c0\u30e0\u5024\u3067\u521d\u671f\u5316\u3055\u308c\u307e\u3059\u3002\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1aNone\uff09 input_range : \u5165\u529b\u5024\u306e\u7bc4\u56f2\u3092 (min, max) \u306e\u30bf\u30d7\u30eb\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 \u3053\u308c\u306f\u6700\u7d42\u7684\u306b\u6700\u9069\u5316\u3055\u308c\u305f\u5165\u529b\u3092\u3001\u6307\u5b9a\u3055\u308c\u305f\u306e\u7bc4\u56f2\u306b\u30b9\u30b1\u30fc\u30eb\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a(0, 255)\uff09\u3002 backprop_modifier : \u8aa4\u5dee\u9006\u4f1d\u64ad\u4fee\u98fe\u5b50. backprop_modifiers \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3082\u3057\u4f55\u3082\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u3001\u8aa4\u5dee\u9006\u4f1d\u64ad\u4fee\u98fe\u306f\u4f55\u3082\u9069\u7528\u3055\u308c\u307e\u305b\u3093\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1aNone\uff09 grad_modifier : \u52fe\u914d\u4fee\u98fe\u5b50\u3002 grad_modifiers \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3082\u3057\u4f55\u3082\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u3001\u52fe\u914d\u306f\u7de8\u96c6\u3055\u308c\u307e\u305b\u3093(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1aNone) act_max_weight : ActivationMaximization \u640d\u5931\u306e\u91cd\u307f\u4fc2\u6570\u3002\u30bc\u30ed\u307e\u305f\u306fNone\u3092\u6307\u5b9a\u3059\u308b\u3068\u3053\u306e\u30ed\u30b9\u306f\u4f7f\u308f\u308c\u307e\u305b\u3093\u3002(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a1) lp_norm_weight : LPNorm \u6b63\u898f\u5316\u640d\u5931\u306e\u91cd\u307f\u4fc2\u6570\u3002\u30bc\u30ed\u307e\u305f\u306fNone\u3092\u6307\u5b9a\u3059\u308b\u3068\u3053\u306e\u30ed\u30b9\u306f\u4f7f\u308f\u308c\u307e\u305b\u3093\u3002(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a10) tv_weight : TotalVariation \u6b63\u898f\u5316\u640d\u5931\u306e\u91cd\u307f\u4fc2\u6570\u3002\u30bc\u30ed\u307e\u305f\u306fNone\u3092\u6307\u5b9a\u3059\u308b\u3068\u3053\u306e\u30ed\u30b9\u306f\u4f7f\u308f\u308c\u307e\u305b\u3093\u3002(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a10) optimizer_params : \u30aa\u30d7\u30c6\u30a3\u30de\u30a4\u30b6\u306e**kwargs\u5f15\u6570 . \u30aa\u30d7\u30c6\u30a3\u30de\u30a4\u30b6\u306e\u5fc5\u9808\u5f15\u6570\u304c\u306a\u3044\u5834\u5408\u3001\u9069\u5207\u306a\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u304c\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002 \u4f8b: \u6700\u7d42\u5c64\u304c keras.layers.Dense \u3067\u3001\u51fa\u529b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\uff12\uff12\u3092\u6700\u5927\u5316\u3059\u308b\u5165\u529b\u753b\u50cf\u3092\u53ef\u8996\u5316\u3057\u305f\u3044\u306e\u3067\u3042\u308c\u3070\u3001 filter_indices = [22] \u304b\u3064 layer_idx = dense_layer_idx \u3068\u306a\u308a\u307e\u3059\u3002 filter_indices = [22, 23] \u306b\u3059\u308b\u3068\u3001\u4e21\u65b9\u306e\u30af\u30e9\u30b9\u306e\u7279\u5fb4\u3092\u793a\u3059\u5165\u529b\u753b\u50cf\u304c\u751f\u6210\u3055\u308c\u308b\u306f\u305a\u3067\u3059\u3002 \u623b\u308a\u5024: \u4e0e\u3048\u3089\u308c\u305f layer_idx \u5185\u306e filter_indices \u306e\u51fa\u529b\u3092\u6700\u5927\u5316\u3059\u308b\u30e2\u30c7\u30eb\u5165\u529b","title":"visualize_activation"},{"location":"vis.visualization/#visualize_saliency","text":"visualize_saliency(model, layer_idx, filter_indices, seed_input, wrt_tensor=None, \\ backprop_modifier=None, grad_modifier=\"absolute\") \u6307\u5b9a\u3055\u308c\u305f layer_idx \u306e filter_indices \u306e\u51fa\u529b\u3092\u6700\u5927\u5316\u3059\u308b\u305f\u3081\u306e seed_input \u306b\u3001\u6ce8\u76ee\u30d2\u30fc\u30c8\u30de\u30c3\u30d7\u3092\u751f\u6210\u3057\u307e\u3059\u3002 \u5f15\u6570: model : keras.models.Model \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3002\u30e2\u30c7\u30eb\u5165\u529b\u306e\u5f62\u72b6\u306f\u3001 channels_first \u306e\u5834\u5408\u306f (samples, channels, image_dims...) \u3001 channels_last \u306e\u5834\u5408\u306f (samples, image_dims..., channels) \u3067\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002 layer_idx : \u53ef\u8996\u5316\u3055\u308c\u308b\u30d5\u30a3\u30eb\u30bf\u3092\u542b\u3080 model.layers \u5185\u306e\u30ec\u30a4\u30e4\u30a4\u30f3\u30c7\u30c3\u30af\u30b9 filter_indices : \u6700\u5927\u5316\u3055\u308c\u308b\u30ec\u30a4\u30e4\u5185\u306e\u30d5\u30a3\u30eb\u30bf\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3002 None\u304c\u6307\u5b9a\u3055\u308c\u305f\u5834\u5408\u3001\u5168\u3066\u306e\u30d5\u30a3\u30eb\u30bf\u304c\u53ef\u8996\u5316\u3055\u308c\u307e\u3059\u3002(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a None)\u3002 keras.layers.Dense \u306e\u5834\u5408\u3001 filter_idx \u306f\u51fa\u529b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3068\u3057\u3066\u89e3\u91c8\u3055\u308c\u307e\u3059\u3002 \u3082\u3057\u6700\u7d42\u5c64\u306e keras.layers.Dense \u3092\u53ef\u8996\u5316\u3059\u308b\u306a\u3089\u3001\u3088\u308a\u826f\u3044\u7d50\u679c\u3092\u5f97\u308b\u305f\u3081\u306b\u3001 utils.apply_modifications \u3092\u4f7f\u3063\u3066\u3001'softmax'\u6d3b\u6027\u5316\u3092'linear'\u306b\u5909\u66f4\u3059\u308b\u3053\u3068\u3092\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002 seed_input : \u6ce8\u76ee\u30de\u30c3\u30d7\u304c\u53ef\u8996\u5316\u3055\u308c\u308b\u306e\u306b\u5fc5\u8981\u306a\u30e2\u30c7\u30eb\u3078\u306e\u5165\u529b wrt_tensor : \u640d\u5931\u306e\u52fe\u914d\u306f\u3001\u3053\u306e\u30c6\u30f3\u30bd\u30eb\u306b\u95a2\u3057\u3066\u8a08\u7b97\u3055\u308c\u307e\u3059\u3002 None\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001\u3053\u308c\u306f input_tensor \u3068\u540c\u3058\u3067\u3042\u308b\u3068\u60f3\u5b9a\u3055\u308c\u308b\u3002\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a None\uff09 backprop_modifier : \u8aa4\u5dee\u9006\u4f1d\u64ad\u4fee\u98fe\u5b50. backprop_modifiers \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3082\u3057\u4f55\u3082\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u3001\u8aa4\u5dee\u9006\u4f1d\u64ad\u4fee\u98fe\u306f\u4f55\u3082\u9069\u7528\u3055\u308c\u307e\u305b\u3093\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1aNone\uff09 grad_modifier : \u52fe\u914d\u4fee\u98fe\u5b50\u3002 grad_modifiers \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3082\u3057\u4f55\u3082\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u3001\u52fe\u914d\u306f\u7de8\u96c6\u3055\u308c\u307e\u305b\u3093(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a'absolute') \u4f8b: \u3082\u3057'\u9ce5'\u30ab\u30c6\u30b4\u30ea\u3078\u306e\u6ce8\u76ee\u3092\u53ef\u8996\u5316\u3057\u305f\u3044\u306a\u3089\u3001\u6700\u7d42\u5c64\u306e keras.layers.Dense \u306e\u51fa\u529b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306f\uff12\uff12\u306a\u306e\u3067\u3001 filter_indices = [22] \u304b\u3064 layer = dense_layer \u3068\u306a\u308a\u307e\u3059\u3002 \u307e\u305f\u8907\u6570\u306e\u5024\u3092\u30d5\u30a3\u30eb\u30bf\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001 filter_indices = [22, 23] \u306f\uff08\u4e0a\u624b\u304f\u3044\u3051\u3070\uff09 \uff12\uff12\u3068\uff12\uff13\u306e\u30ab\u30c6\u30b4\u30ea\u4e21\u65b9\u306b\u95a2\u9023\u3059\u308b\u6ce8\u76ee\u30de\u30c3\u30d7\u3092\u5f97\u3089\u308c\u308b\u306f\u305a\u3067\u3059\u3002 \u623b\u308a\u5024: filter_indices \u306e\u51fa\u529b\u306e\u6700\u5927\u5316\u306b\u6700\u3082\u8ca2\u732e\u3059\u308b seed_input \u306e\u9818\u57df\u3092\u793a\u3057\u305f\u30d2\u30fc\u30c8\u30de\u30c3\u30d7\u753b\u50cf","title":"visualize_saliency"},{"location":"vis.visualization/#visualize_cam_with_losses","text":"visualize_cam_with_losses(input_tensor, losses, seed_input, penultimate_layer, grad_modifier=None) \u91cd\u307f\u4ed8\u304d\u640d\u5931\u306b\u95a2\u3059\u308b input_tensor \u306e\u6b63\u306e\u52fe\u914d\u3092\u4f7f\u3063\u3066\u3001CAM\u30d9\u30fc\u30b9\u306e\u52fe\u914d(grad-CAM)\u3092\u751f\u6210\u3057\u307e\u3059\u3002 grad-CAM\u306e\u8a73\u7d30\u306f\u8ad6\u6587\u3092\u53c2\u7167\u3057\u3066\u4e0b\u3055\u3044\uff1a Grad-CAM: Why did you say that? Visual Explanations from Deep Networks via Gradient-based Localization \u3044\u304f\u3064\u304b\u306e\u4f8b\u3067\u306f\u308f\u305a\u304b\u306a\u304c\u3089\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u69cb\u9020\u306b\u5909\u66f4\u304c\u5fc5\u8981\u3068\u306a\u308bCAM\u3068\u306f\u7570\u306a\u308a\u3001grad-CAM\u306f\u3088\u308a\u9069\u7528\u7bc4\u56f2\u304c\u5e83\u3044\u3067\u3059\u3002 Saliancy\u3068\u6bd4\u8f03\u3059\u308b\u3068\u3001grad-CAM\u306f\u30af\u30e9\u30b9\u3092\u533a\u5225\u3067\u304d\u307e\u3059\uff1b\u3000\u3059\u306a\u308f\u3061 \u732b \u306e\u8aac\u660e\u306b\u306f\u732b\u306e\u9818\u57df\u306e\u307f\u3092\u5f37\u8abf\u3057\u3001\u72ac\u306e\u9818\u57df\u306f\u5f37\u8abf\u3057\u307e\u305b\u3093\u3002\u305d\u3057\u3066\u305d\u306e\u9006\u3082\u307e\u305f\u540c\u69d8\u3067\u3059\u3002 \u5f15\u6570: input_tensor : \u5165\u529b\u30c6\u30f3\u30bd\u30eb\u3002\u5f62\u72b6\u306f\u3001 channels_first \u306e\u5834\u5408\u306f (samples, channels, image_dims...) \u3001 channels_last \u306e\u5834\u5408\u306f (samples, image_dims..., channels) \u3002 losses : ( Loss , weight)\u306e\u30bf\u30d7\u30eb\u306e\u30ea\u30b9\u30c8\u3002 seed_input : \u6ce8\u76ee\u30de\u30c3\u30d7\u304c\u53ef\u8996\u5316\u3055\u308c\u308b\u306e\u306b\u5fc5\u8981\u306a\u30e2\u30c7\u30eb\u3078\u306e\u5165\u529b penultimate_layer : \u30d5\u30a3\u30eb\u30bf\u51fa\u529b\u306b\u95a2\u3059\u308b\u52fe\u914d\u3092\u8a08\u7b97\u3059\u308b\u305f\u3081\u306b\u4f7f\u308f\u308c\u308b\u3079\u304d\u7279\u5fb4\u30de\u30c3\u30d7\u3092\u5f97\u308b\u305f\u3081\u306e layer_idx \u306e\uff11\u3064\u524d\u306e\u30ec\u30a4\u30e4\u3002 grad_modifier : \u52fe\u914d\u4fee\u98fe\u5b50\u3002 grad_modifiers \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u4f55\u3082\u6307\u5b9a\u3057\u306a\u3051\u308c\u3070\u52fe\u914d\u306f\u5909\u66f4\u3055\u308c\u307e\u305b\u3093\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a None\uff09 \u623b\u308a\u5024: \u91cd\u307f\u4ed8\u304d\u640d\u5931\u306b\u95a2\u3059\u308b seed_input \u306e\u6b63\u898f\u5316\u6e08\u307f\u52fe\u914d","title":"visualize_cam_with_losses"},{"location":"vis.visualization/#visualize_cam","text":"visualize_cam(model, layer_idx, filter_indices, seed_input, penultimate_layer_idx=None, \\ backprop_modifier=None, grad_modifier=None) \u6307\u5b9a\u3055\u308c\u305f layer_idx \u306e filter_indices \u306e\u51fa\u529b\u3092\u6700\u5927\u5316\u3059\u308b\u3001CAM\u30d9\u30fc\u30b9\u306e\u52fe\u914d\uff08grad-CAM\uff09\u3092\u751f\u6210\u3057\u307e\u3059\u3002 \u5f15\u6570: model : keras.models.Model \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3002\u30e2\u30c7\u30eb\u5165\u529b\u306e\u5f62\u72b6\u306f\u3001 channels_first \u306e\u5834\u5408\u306f (samples, channels, image_dims...) \u3001 channels_last \u306e\u5834\u5408\u306f (samples, image_dims..., channels) \u3067\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002 layer_idx : \u53ef\u8996\u5316\u3055\u308c\u308b\u30d5\u30a3\u30eb\u30bf\u3092\u542b\u3080 model.layers \u5185\u306e\u30ec\u30a4\u30e4\u30a4\u30f3\u30c7\u30c3\u30af\u30b9 filter_indices : \u6700\u5927\u5316\u3055\u308c\u308b\u30ec\u30a4\u30e4\u5185\u306e\u30d5\u30a3\u30eb\u30bf\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3002 None\u304c\u6307\u5b9a\u3055\u308c\u305f\u5834\u5408\u3001\u5168\u3066\u306e\u30d5\u30a3\u30eb\u30bf\u304c\u53ef\u8996\u5316\u3055\u308c\u307e\u3059\u3002(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1a None)\u3002 keras.layers.Dense \u306e\u5834\u5408\u3001 filter_idx \u306f\u51fa\u529b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3068\u3057\u3066\u89e3\u91c8\u3055\u308c\u307e\u3059\u3002 \u3082\u3057\u6700\u7d42\u5c64\u306e keras.layers.Dense \u3092\u53ef\u8996\u5316\u3059\u308b\u306a\u3089\u3001\u3088\u308a\u826f\u3044\u7d50\u679c\u3092\u5f97\u308b\u305f\u3081\u306b\u3001 utils.apply_modifications \u3092\u4f7f\u3063\u3066\u3001'softmax'\u6d3b\u6027\u5316\u3092'linear'\u306b\u5909\u66f4\u3059\u308b\u3053\u3068\u3092\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002 seed_input : \u6ce8\u76ee\u30de\u30c3\u30d7\u304c\u53ef\u8996\u5316\u3055\u308c\u308b\u306e\u306b\u5fc5\u8981\u306a\u30e2\u30c7\u30eb\u3078\u306e\u5165\u529b penultimate_layer_idx : \u30d5\u30a3\u30eb\u30bf\u51fa\u529b\u306b\u95a2\u3059\u308b\u52fe\u914d\u3092\u8a08\u7b97\u3059\u308b\u305f\u3081\u306b\u4f7f\u308f\u308c\u308b\u3079\u304d\u7279\u5fb4\u30de\u30c3\u30d7\u3092\u5f97\u308b\u305f\u3081\u306e layer_idx \u306e\uff11\u3064\u524d\u306e\u30ec\u30a4\u30e4\u3002\u3000\u4f55\u3082\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u3001 layer_idx \u306b\u6700\u3082\u8fd1\u3044 \u7573\u307f\u8fbc\u307f \u307e\u305f\u306f \u30d7\u30fc\u30ea\u30f3\u30b0 \u30ec\u30a4\u30e4\u304c\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002 backprop_modifier : \u8aa4\u5dee\u9006\u4f1d\u64ad\u4fee\u98fe\u5b50. backprop_modifiers \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3082\u3057\u4f55\u3082\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u3001\u8aa4\u5dee\u9006\u4f1d\u64ad\u4fee\u98fe\u306f\u4f55\u3082\u9069\u7528\u3055\u308c\u307e\u305b\u3093\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1aNone\uff09 grad_modifier : \u52fe\u914d\u4fee\u98fe\u5b50\u3002 grad_modifiers \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3082\u3057\u4f55\u3082\u6307\u5b9a\u3057\u306a\u3044\u5834\u5408\u3001\u52fe\u914d\u306f\u7de8\u96c6\u3055\u308c\u307e\u305b\u3093(\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\uff1aNone \u4f8b: \u3082\u3057 \u9ce5 \u30ab\u30c6\u30b4\u30ea\u3078\u306e\u6ce8\u76ee\u3092\u53ef\u8996\u5316\u3057\u305f\u3044\u306a\u3089\u3001\u6700\u7d42\u5c64\u306e keras.layers.Dense \u306e\u51fa\u529b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306f\uff12\uff12\u306a\u306e\u3067\u3001 filter_indices = [22] \u304b\u3064 layer = dense_layer \u3068\u306a\u308a\u307e\u3059\u3002 \u307e\u305f\u8907\u6570\u306e\u5024\u3092\u30d5\u30a3\u30eb\u30bf\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001 filter_indices = [22, 23] \u306f\uff08\u4e0a\u624b\u304f\u3044\u3051\u3070\uff09 \uff12\uff12\u3068\uff12\uff13\u306e\u30ab\u30c6\u30b4\u30ea\u4e21\u65b9\u306b\u95a2\u9023\u3059\u308b\u6ce8\u76ee\u30de\u30c3\u30d7\u3092\u5f97\u3089\u308c\u308b\u306f\u305a\u3067\u3059\u3002 \u623b\u308a\u5024: filter_indices \u306e\u51fa\u529b\u306e\u6700\u5927\u5316\u306b\u6700\u3082\u8ca2\u732e\u3059\u308b\u5165\u529b\u306e\u9818\u57df\u3092\u793a\u3059\u30d2\u30fc\u30c8\u30de\u30c3\u30d7\u753b\u50cf","title":"visualize_cam"},{"location":"visualizations/activation_maximization/","text":"Activation Maximization\u3068\u306f CNN\u306e\u305d\u308c\u305e\u308c\u306e\u7573\u307f\u8fbc\u307f\u5c64\u306f\u3001\u5165\u529b\u753b\u50cf\u5185\u306b\u3088\u304f\u4f3c\u305f\u30d1\u30bf\u30fc\u30f3\u3092\u898b\u3064\u3051\u308b\u3068\u51fa\u529b\u3092\u6700\u5927\u5316\u3059\u308b\u3044\u304f\u3064\u304b\u306e\u5b66\u7fd2\u6e08\u307f \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30de\u30c3\u30c1\u30f3\u30b0 \u30d5\u30a3\u30eb\u30bf\u3092\u6240\u6709\u3057\u3066\u3044\u307e\u3059\u3002 \u6700\u521d\u306e\u7573\u307f\u8fbc\u307f\u5c64\u306f\u7c21\u5358\u306b\u89e3\u91c8\u3067\u3001\u5358\u306b\u91cd\u307f\u3092\u753b\u50cf\u3068\u3057\u3066\u53ef\u8996\u5316\u3059\u308b\u3060\u3051\u3067\u3059\u3002 \u7573\u307f\u8fbc\u307f\u5c64\u304c\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u898b\u308b\u305f\u3081\u306b\u306f\u3001\u5165\u529b\u30d4\u30af\u30bb\u30eb\u306b\u30d5\u30a3\u30eb\u30bf\u3092\u9069\u7528\u3059\u308b\u306e\u304c\u30b7\u30f3\u30d7\u30eb\u306a\u65b9\u6cd5\u3067\u3059\u3002 \u5f8c\u7d9a\u306e\u7573\u307f\u8fbc\u307f\u30d5\u30a3\u30eb\u30bf\u304c\u524d\u306e\u7573\u307f\u8fbc\u307f\u30d5\u30a3\u30eb\u30bf\u306e\u51fa\u529b\u3092\u51e6\u7406\u3059\u308b\uff08\u3044\u304f\u3064\u304b\u306e\u30d1\u30bf\u30fc\u30f3\u306e\u5b58\u5728\u6709\u7121\u3092\u793a\u3059\uff09\u305f\u3081\u3001\u305d\u308c\u3089\u306e\u89e3\u91c8\u304c\u96e3\u3057\u304f\u306a\u308a\u307e\u3059\u3002 ActivationMaximization\u306e\u80cc\u666f\u306b\u3042\u308b\u30a2\u30a4\u30c7\u30a2\u306f\u4eca\u3068\u306a\u3063\u3066\u306f\u30b7\u30f3\u30d7\u30eb\u3067\u3001\u30d5\u30a3\u30eb\u30bf\u306e\u51fa\u529b\u6d3b\u6027\u5316\u3092\u6700\u5927\u306b\u3059\u308b\u5165\u529b\u753b\u50cf\u3092\u751f\u6210\u3059\u308b\u3053\u3068\u3067\u3059\u3002 \u3064\u307e\u308a\u4e0b\u8a18\u3092\u8a08\u7b97\u3059\u308b\u3053\u3068\u3002 \\frac{\\partial ActivationMaximizationLoss}{\\partial input} \u305d\u3057\u3066\u3001\u305d\u306e\u63a8\u5b9a\u5024\u3092\u4f7f\u3063\u3066\u5165\u529b\u3092\u66f4\u65b0\u3059\u308b\u3053\u3068\u3067\u3059\u3002 ActivationMaximization \u640d\u5931\u95a2\u6570\u306f\u30d5\u30a3\u30eb\u30bf\u306e\u6d3b\u6027\u5316\u3092\u5927\u304d\u304f\u3059\u308b\u305f\u3081\u306b\u3001\u305d\u306e\u51fa\u529b\u3092\u5c0f\u3055\u304f\u3057\u307e\u3059\uff08\u52fe\u914d\u964d\u4e0b\u306e\u53cd\u5fa9\u4e2d\u306b\u640d\u5931\u3092\u6700\u5c0f\u5316\u3057\u307e\u3059\uff09\u3002 \u3053\u308c\u306b\u3088\u308a\u7279\u5b9a\u306e\u5165\u529b\u30d1\u30bf\u30fc\u30f3\u306b\u5bfe\u3057\u3066\u6d3b\u6027\u5316\u3059\u308b\u30d5\u30a3\u30eb\u30bf\u3092\u7406\u89e3\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u4f8b\u3048\u3070\u3001\u5165\u529b\u753b\u50cf\u5185\u306b\u3042\u308b'\u773c'\u306b\u3088\u3063\u3066\u6d3b\u6027\u5316\u3059\u308bEye\u30d5\u30a3\u30eb\u30bf\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002 \u4f7f\u3044\u65b9 ActivationMaximization\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306e\uff12\u3064\u306eAPI\u304c\u3042\u308a\u307e\u3059\u3002 visualize_activation :\u6d3b\u6027\u5316\u3092\u53ef\u8996\u5316\u3059\u308b\u305f\u3081\u306e\u6c4e\u7528API\u3067\u3059\u3002 visualize_activation_with_losses :\u3044\u304f\u3064\u304b\u306e\u30ab\u30b9\u30bf\u30e0\u306a\u91cd\u307f\u4ed8\u304d\u640d\u5931\u306e\u6700\u5c0f\u5316\u3092\u6271\u3046\u3088\u3046\u306a\u7814\u7a76\u5229\u7528\u5411\u3051\u3067\u3059\u3002 examples/ \u306b\u3042\u308b\u30b3\u30fc\u30c9\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30b7\u30ca\u30ea\u30aa API\u306f\u3068\u3066\u3082\u4e00\u822c\u7684\u306a\u76ee\u7684\u3067\u3001\u5e45\u5e83\u304f\u69d8\u3005\u306a\u30b7\u30ca\u30ea\u30aa\u3067\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002 \u3082\u3063\u3068\u3082\u4e00\u822c\u7684\u306a\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3092\u4e0b\u8a18\u306b\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\u3057\u307e\u3059\uff1a \u5206\u985e\u51fa\u529b\u3092\u304a\u3053\u306a\u3046\u5168\u7d50\u5408\u5c64\u306e\u53ef\u8996\u5316 \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304c\u904e\u5b66\u7fd2\uff08\u307e\u305f\u306f\u672a\u5b66\u7fd2\uff09\u306a\u306e\u304b\u3001\u9069\u5207\u306b\u4e00\u822c\u5316\u3067\u304d\u3066\u3044\u308b\u306e\u304b\u3092\u3069\u306e\u3088\u3046\u306b\u8a55\u4fa1\u3067\u304d\u307e\u3059\u304b\uff1f \u5165\u529b\u753b\u50cf\u3092\u4e0e\u3048\u308b\u3068\u3001CNN\u306f\u305d\u308c\u304c\u732b\u306a\u306e\u304b\u9ce5\u306a\u306e\u304b\u306a\u3069\u3092\u5206\u985e\u3067\u304d\u307e\u3059\u3002 \u9ce5\u3067\u3042\u308b\u3053\u3068\u306e\u610f\u5473\u3092\u6b63\u3057\u3044\u6982\u5ff5\u3067\u6355\u3089\u3048\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u78ba\u8a8d\u3067\u304d\u307e\u3059\u304b\uff1f \u305d\u308c\u3089\u306e\u554f\u3044\u306b\u5bfe\u3059\u308b\uff11\u3064\u306e\u89e3\u306f\u3001\u9006\u306e\u554f\u3044\u304b\u3051\u3092\u3059\u308b\u3053\u3068\u3067\u3059\uff1a \u9ce5\u30af\u30e9\u30b9\u306b\u5bfe\u5fdc\u3059\u308b\u6700\u7d42\u5c64\u306e\u51fa\u529b\u3092\u6700\u5927\u5316\u3059\u308b\u5165\u529b\u753b\u50cf\u3092\u751f\u6210\u3059\u308b\u3002 \u3053\u308c\u306f\u6700\u7d42\u5c64\u3092 layer_idx \u3067\u6307\u3057\u3001 filter_indices \u306b\u671b\u3080\u51fa\u529b\u5206\u985e\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002 \u8907\u6570\u30af\u30e9\u30b9\u5206\u985e\u554f\u984c\u3067\u306f\u3001 filter_indices \u306f\uff11\u3064\u306e\u30af\u30e9\u30b9\u3092\u6307\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \"\u732b \u9b5a\"\u304c\u3069\u306e\u3088\u3046\u306b\u898b\u3048\u308b\u304b\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u8907\u6570\u306e\u5206\u985e\u3092\u6307\u3059\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002 \u8907\u6570\u30e9\u30d9\u30eb\u5206\u985e\u3067\u306f\u3001\u9069\u5207\u306a filter_indices \u3092\u6307\u5b9a\u3059\u308b\u3060\u3051\u3067\u3059\u3002 \u56de\u5e30\u51fa\u529b\u3092\u304a\u3053\u306a\u3046\u5168\u7d50\u5408\u5c64\u306e\u53ef\u8996\u5316 \u30af\u30e9\u30b9\u6d3b\u6027\u5316\u306e\u53ef\u8996\u5316\u3068\u306f\u7570\u306a\u308a\u3001\u56de\u5e30\u51fa\u529b\u3067\u306f\u3001 filter_indices \u306e\u51fa\u529b\u3092 \u5897\u52a0\u3055\u305b\u308b\u5165\u529b \u6e1b\u5c11\u3055\u305b\u308b\u5165\u529b \u306e\u53ef\u8996\u5316\u304c\u3067\u304d\u307e\u3059\u3002 \u4f8b\u3048\u3070\u30ea\u30f3\u30b4\u3092\u6570\u3048\u308b\u30e2\u30c7\u30eb\u3092\u5b66\u7fd2\u3057\u3066\u3001\u305d\u306e\u56de\u5e30\u51fa\u529b\u3092\u5897\u52a0\u3055\u305b\u308b\u3053\u3068\u306f\u5165\u529b\u753b\u50cf\u5185\u306e\u30ea\u30f3\u30b4\u3092\u5897\u3084\u3059\u3053\u3068\u3068\u4e00\u81f4\u3059\u308b\u306f\u305a\u3067\u3059\u3002 \u540c\u69d8\u306b\u56de\u5e30\u51fa\u529b\u3092\u6e1b\u3089\u3059\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 \u3053\u308c\u306f grad_modifier \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u3046\u3053\u3068\u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002 \u540d\u524d\u304b\u3089\u9023\u60f3\u3059\u308b\u3088\u3046\u306b\u3001\u5165\u529b\u306b\u95a2\u3059\u308b\u640d\u5931\u306e\u52fe\u914d\u3092\u5909\u66f4\u3059\u308b\u305f\u3081\u306b\u4f7f\u308f\u308c\u307e\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001 ActivationMaximization \u640d\u5931\u306f\u51fa\u529b\u3092\u5897\u52a0\u3055\u305b\u308b\u305f\u3081\u306b\u4f7f\u308f\u308c\u307e\u3059\u3002 grad_modifier='negate' \u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u52fe\u914d\u306e\u7b26\u53f7\u53cd\u8ee2\u304c\u3067\u304d\u3001\u3053\u308c\u306b\u3088\u308a\u51fa\u529b\u5024\u3092\u6e1b\u5c11\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 gradient_modifiers \u306f\u3068\u3066\u3082\u5f37\u529b\u3067\u3001\u4ed6\u306e\u53ef\u8996\u5316API\u3067\u3082\u3088\u304f\u4f7f\u308f\u308c\u307e\u3059\u3002 \u7573\u307f\u8fbc\u307f\u30d5\u30a3\u30eb\u30bf\u306e\u53ef\u8996\u5316 layer_idx \u304c \u7573\u307f\u8fbc\u307f \u5c64\u3092\u6307\u3059\u3053\u3068\u3067\u3001\u30d5\u30a3\u30eb\u30bf\u3092\u6d3b\u6027\u5316\u3059\u308b\u30d1\u30bf\u30fc\u30f3\u3092\u53ef\u8996\u5316\u3067\u304d\u307e\u3059\u3002 \u3053\u308c\u306f\u30d5\u30a3\u30eb\u30bf\u304c\u3069\u3046\u8a08\u7b97\u3055\u308c\u3066\u3044\u308b\u304b\u3092\u7406\u89e3\u3059\u308b\u306e\u306b\u5f79\u7acb\u3061\u307e\u3059\u3002 \u3053\u3053\u3067\u306f filter_indices \u306f\u30ec\u30a4\u30e4\u5185\u306e \u7573\u307f\u8fbc\u307f \u30d5\u30a3\u30eb\u30bf\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u53c2\u7167\u3057\u307e\u3059\u3002 \u9ad8\u5ea6\u306a\u4f7f\u3044\u65b9 backprop_modifiers \u3092\u4f7f\u3048\u3070\u3001\u8aa4\u5dee\u9006\u4f1d\u64ad\u306e\u632f\u308b\u821e\u3044\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u4f8b\u3048\u3070\u3001 backprop_modifier='relu' \u3092\u4f7f\u3046\u3053\u3068\u3067\u6b63\u306e\u52fe\u914d\u3060\u3051\u3092\u4f1d\u64ad\u3055\u305b\u308b\u3088\u3046\u5fae\u8abf\u6574\u3067\u304d\u307e\u3059\u3002 \u3053\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u95a2\u6570\u306b\u6e21\u3057\u3066\u3001\u30af\u30ec\u30a4\u30b8\u30fc\u306a\u7814\u7a76\u30a2\u30a4\u30c7\u30a2\u306e\u5b9f\u88c5\u306b\u4f7f\u3063\u3066\u4e0b\u3055\u3044\u3002 :-) Tips\u3068\u30c8\u30ea\u30c3\u30af \u3069\u3046\u3057\u3088\u3046\u3082\u306a\u3044\u53ef\u8996\u5316\u3092\u5f97\u3066\u3057\u307e\u3063\u305f\u3089\u3001\u52fe\u914d\u964d\u4e0b\u53cd\u5fa9\u4e2d\u306e\u69d8\u3005\u306a\u30ed\u30b9\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b verbose=True \u3092\u8a2d\u5b9a\u3057\u3066\u307f\u3066\u4e0b\u3055\u3044\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001 visualize_activation \u306f\u3088\u308a\u81ea\u7136\u306a\u753b\u50cf\u3092\u5f97\u308b\u305f\u3081\u306b TotalVariation \u3068 LpNorm \u306e\u6b63\u5247\u5316\u3092\u4f7f\u3044\u307e\u3059\u3002 ActivationMaximization Loss \u304c\u6b63\u5247\u5316\u640d\u5931\u306e\u91cd\u307f\u4fc2\u6570\u306b\u652f\u914d\u3055\u308c\u3001\u5024\u304c\u524d\u5f8c\u306b\u8df3\u306d\u308b\u69d8\u5b50\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3067\u3057\u3087\u3046\u3002 \u5168\u3066\u306e\u91cd\u307f\u4fc2\u6570\u3092\u30bc\u30ed\u306b\u8a2d\u5b9a\u3057\u3066\u3001\u5f90\u3005\u306bTV\u640d\u5931\u306e\u91cd\u307f\u4fc2\u6570\u3092\u5897\u3084\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002 \u3088\u308a\u30b7\u30e3\u30fc\u30d7\u306a\u753b\u50cf\u3092\u5f97\u308b\u305f\u3081\u306b\u3001 Jitter \u5165\u529b\u4fee\u98fe\u5b50\u3092\u4f7f\u3063\u3066\u4e0b\u3055\u3044\u3002 \u56de\u5e30\u30e2\u30c7\u30eb\u306f\u901a\u5e38\u3001\u610f\u5473\u3042\u308b\u5165\u529b\u753b\u50cf\u3092\u751f\u6210\u3059\u308b\u305f\u3081\u306b\u5341\u5206\u306a\u52fe\u914d\u60c5\u5831\u3092\u63d0\u4f9b\u3057\u307e\u305b\u3093\u3002 \u3082\u3057\u5165\u529b\u753b\u50cf\u304c\u610f\u5473\u3092\u306a\u3055\u3044\u5834\u5408\u306f\u3001 seed_input \u3092\u4f7f\u3063\u3066\u521d\u671f\u5024\u3092\u4e0e\u3048\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002 \u3042\u306a\u305f\u304c\u767a\u898b\u3057\u305f\u6709\u7528\u306aTips\u3084\u30c8\u30ea\u30c3\u30af\u3092\u3001PullRequest\u3067keras-vis\u306b\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3092\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002","title":"Activation Maximization"},{"location":"visualizations/activation_maximization/#activation-maximization","text":"CNN\u306e\u305d\u308c\u305e\u308c\u306e\u7573\u307f\u8fbc\u307f\u5c64\u306f\u3001\u5165\u529b\u753b\u50cf\u5185\u306b\u3088\u304f\u4f3c\u305f\u30d1\u30bf\u30fc\u30f3\u3092\u898b\u3064\u3051\u308b\u3068\u51fa\u529b\u3092\u6700\u5927\u5316\u3059\u308b\u3044\u304f\u3064\u304b\u306e\u5b66\u7fd2\u6e08\u307f \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30de\u30c3\u30c1\u30f3\u30b0 \u30d5\u30a3\u30eb\u30bf\u3092\u6240\u6709\u3057\u3066\u3044\u307e\u3059\u3002 \u6700\u521d\u306e\u7573\u307f\u8fbc\u307f\u5c64\u306f\u7c21\u5358\u306b\u89e3\u91c8\u3067\u3001\u5358\u306b\u91cd\u307f\u3092\u753b\u50cf\u3068\u3057\u3066\u53ef\u8996\u5316\u3059\u308b\u3060\u3051\u3067\u3059\u3002 \u7573\u307f\u8fbc\u307f\u5c64\u304c\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u898b\u308b\u305f\u3081\u306b\u306f\u3001\u5165\u529b\u30d4\u30af\u30bb\u30eb\u306b\u30d5\u30a3\u30eb\u30bf\u3092\u9069\u7528\u3059\u308b\u306e\u304c\u30b7\u30f3\u30d7\u30eb\u306a\u65b9\u6cd5\u3067\u3059\u3002 \u5f8c\u7d9a\u306e\u7573\u307f\u8fbc\u307f\u30d5\u30a3\u30eb\u30bf\u304c\u524d\u306e\u7573\u307f\u8fbc\u307f\u30d5\u30a3\u30eb\u30bf\u306e\u51fa\u529b\u3092\u51e6\u7406\u3059\u308b\uff08\u3044\u304f\u3064\u304b\u306e\u30d1\u30bf\u30fc\u30f3\u306e\u5b58\u5728\u6709\u7121\u3092\u793a\u3059\uff09\u305f\u3081\u3001\u305d\u308c\u3089\u306e\u89e3\u91c8\u304c\u96e3\u3057\u304f\u306a\u308a\u307e\u3059\u3002 ActivationMaximization\u306e\u80cc\u666f\u306b\u3042\u308b\u30a2\u30a4\u30c7\u30a2\u306f\u4eca\u3068\u306a\u3063\u3066\u306f\u30b7\u30f3\u30d7\u30eb\u3067\u3001\u30d5\u30a3\u30eb\u30bf\u306e\u51fa\u529b\u6d3b\u6027\u5316\u3092\u6700\u5927\u306b\u3059\u308b\u5165\u529b\u753b\u50cf\u3092\u751f\u6210\u3059\u308b\u3053\u3068\u3067\u3059\u3002 \u3064\u307e\u308a\u4e0b\u8a18\u3092\u8a08\u7b97\u3059\u308b\u3053\u3068\u3002 \\frac{\\partial ActivationMaximizationLoss}{\\partial input} \u305d\u3057\u3066\u3001\u305d\u306e\u63a8\u5b9a\u5024\u3092\u4f7f\u3063\u3066\u5165\u529b\u3092\u66f4\u65b0\u3059\u308b\u3053\u3068\u3067\u3059\u3002 ActivationMaximization \u640d\u5931\u95a2\u6570\u306f\u30d5\u30a3\u30eb\u30bf\u306e\u6d3b\u6027\u5316\u3092\u5927\u304d\u304f\u3059\u308b\u305f\u3081\u306b\u3001\u305d\u306e\u51fa\u529b\u3092\u5c0f\u3055\u304f\u3057\u307e\u3059\uff08\u52fe\u914d\u964d\u4e0b\u306e\u53cd\u5fa9\u4e2d\u306b\u640d\u5931\u3092\u6700\u5c0f\u5316\u3057\u307e\u3059\uff09\u3002 \u3053\u308c\u306b\u3088\u308a\u7279\u5b9a\u306e\u5165\u529b\u30d1\u30bf\u30fc\u30f3\u306b\u5bfe\u3057\u3066\u6d3b\u6027\u5316\u3059\u308b\u30d5\u30a3\u30eb\u30bf\u3092\u7406\u89e3\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u4f8b\u3048\u3070\u3001\u5165\u529b\u753b\u50cf\u5185\u306b\u3042\u308b'\u773c'\u306b\u3088\u3063\u3066\u6d3b\u6027\u5316\u3059\u308bEye\u30d5\u30a3\u30eb\u30bf\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002","title":"Activation Maximization\u3068\u306f"},{"location":"visualizations/activation_maximization/#_1","text":"ActivationMaximization\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306e\uff12\u3064\u306eAPI\u304c\u3042\u308a\u307e\u3059\u3002 visualize_activation :\u6d3b\u6027\u5316\u3092\u53ef\u8996\u5316\u3059\u308b\u305f\u3081\u306e\u6c4e\u7528API\u3067\u3059\u3002 visualize_activation_with_losses :\u3044\u304f\u3064\u304b\u306e\u30ab\u30b9\u30bf\u30e0\u306a\u91cd\u307f\u4ed8\u304d\u640d\u5931\u306e\u6700\u5c0f\u5316\u3092\u6271\u3046\u3088\u3046\u306a\u7814\u7a76\u5229\u7528\u5411\u3051\u3067\u3059\u3002 examples/ \u306b\u3042\u308b\u30b3\u30fc\u30c9\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002","title":"\u4f7f\u3044\u65b9"},{"location":"visualizations/activation_maximization/#_2","text":"API\u306f\u3068\u3066\u3082\u4e00\u822c\u7684\u306a\u76ee\u7684\u3067\u3001\u5e45\u5e83\u304f\u69d8\u3005\u306a\u30b7\u30ca\u30ea\u30aa\u3067\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002 \u3082\u3063\u3068\u3082\u4e00\u822c\u7684\u306a\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3092\u4e0b\u8a18\u306b\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\u3057\u307e\u3059\uff1a","title":"\u30b7\u30ca\u30ea\u30aa"},{"location":"visualizations/activation_maximization/#_3","text":"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304c\u904e\u5b66\u7fd2\uff08\u307e\u305f\u306f\u672a\u5b66\u7fd2\uff09\u306a\u306e\u304b\u3001\u9069\u5207\u306b\u4e00\u822c\u5316\u3067\u304d\u3066\u3044\u308b\u306e\u304b\u3092\u3069\u306e\u3088\u3046\u306b\u8a55\u4fa1\u3067\u304d\u307e\u3059\u304b\uff1f \u5165\u529b\u753b\u50cf\u3092\u4e0e\u3048\u308b\u3068\u3001CNN\u306f\u305d\u308c\u304c\u732b\u306a\u306e\u304b\u9ce5\u306a\u306e\u304b\u306a\u3069\u3092\u5206\u985e\u3067\u304d\u307e\u3059\u3002 \u9ce5\u3067\u3042\u308b\u3053\u3068\u306e\u610f\u5473\u3092\u6b63\u3057\u3044\u6982\u5ff5\u3067\u6355\u3089\u3048\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u78ba\u8a8d\u3067\u304d\u307e\u3059\u304b\uff1f \u305d\u308c\u3089\u306e\u554f\u3044\u306b\u5bfe\u3059\u308b\uff11\u3064\u306e\u89e3\u306f\u3001\u9006\u306e\u554f\u3044\u304b\u3051\u3092\u3059\u308b\u3053\u3068\u3067\u3059\uff1a \u9ce5\u30af\u30e9\u30b9\u306b\u5bfe\u5fdc\u3059\u308b\u6700\u7d42\u5c64\u306e\u51fa\u529b\u3092\u6700\u5927\u5316\u3059\u308b\u5165\u529b\u753b\u50cf\u3092\u751f\u6210\u3059\u308b\u3002 \u3053\u308c\u306f\u6700\u7d42\u5c64\u3092 layer_idx \u3067\u6307\u3057\u3001 filter_indices \u306b\u671b\u3080\u51fa\u529b\u5206\u985e\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002 \u8907\u6570\u30af\u30e9\u30b9\u5206\u985e\u554f\u984c\u3067\u306f\u3001 filter_indices \u306f\uff11\u3064\u306e\u30af\u30e9\u30b9\u3092\u6307\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \"\u732b \u9b5a\"\u304c\u3069\u306e\u3088\u3046\u306b\u898b\u3048\u308b\u304b\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u8907\u6570\u306e\u5206\u985e\u3092\u6307\u3059\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002 \u8907\u6570\u30e9\u30d9\u30eb\u5206\u985e\u3067\u306f\u3001\u9069\u5207\u306a filter_indices \u3092\u6307\u5b9a\u3059\u308b\u3060\u3051\u3067\u3059\u3002","title":"\u5206\u985e\u51fa\u529b\u3092\u304a\u3053\u306a\u3046\u5168\u7d50\u5408\u5c64\u306e\u53ef\u8996\u5316"},{"location":"visualizations/activation_maximization/#_4","text":"\u30af\u30e9\u30b9\u6d3b\u6027\u5316\u306e\u53ef\u8996\u5316\u3068\u306f\u7570\u306a\u308a\u3001\u56de\u5e30\u51fa\u529b\u3067\u306f\u3001 filter_indices \u306e\u51fa\u529b\u3092 \u5897\u52a0\u3055\u305b\u308b\u5165\u529b \u6e1b\u5c11\u3055\u305b\u308b\u5165\u529b \u306e\u53ef\u8996\u5316\u304c\u3067\u304d\u307e\u3059\u3002 \u4f8b\u3048\u3070\u30ea\u30f3\u30b4\u3092\u6570\u3048\u308b\u30e2\u30c7\u30eb\u3092\u5b66\u7fd2\u3057\u3066\u3001\u305d\u306e\u56de\u5e30\u51fa\u529b\u3092\u5897\u52a0\u3055\u305b\u308b\u3053\u3068\u306f\u5165\u529b\u753b\u50cf\u5185\u306e\u30ea\u30f3\u30b4\u3092\u5897\u3084\u3059\u3053\u3068\u3068\u4e00\u81f4\u3059\u308b\u306f\u305a\u3067\u3059\u3002 \u540c\u69d8\u306b\u56de\u5e30\u51fa\u529b\u3092\u6e1b\u3089\u3059\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 \u3053\u308c\u306f grad_modifier \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u3046\u3053\u3068\u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002 \u540d\u524d\u304b\u3089\u9023\u60f3\u3059\u308b\u3088\u3046\u306b\u3001\u5165\u529b\u306b\u95a2\u3059\u308b\u640d\u5931\u306e\u52fe\u914d\u3092\u5909\u66f4\u3059\u308b\u305f\u3081\u306b\u4f7f\u308f\u308c\u307e\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001 ActivationMaximization \u640d\u5931\u306f\u51fa\u529b\u3092\u5897\u52a0\u3055\u305b\u308b\u305f\u3081\u306b\u4f7f\u308f\u308c\u307e\u3059\u3002 grad_modifier='negate' \u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u52fe\u914d\u306e\u7b26\u53f7\u53cd\u8ee2\u304c\u3067\u304d\u3001\u3053\u308c\u306b\u3088\u308a\u51fa\u529b\u5024\u3092\u6e1b\u5c11\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 gradient_modifiers \u306f\u3068\u3066\u3082\u5f37\u529b\u3067\u3001\u4ed6\u306e\u53ef\u8996\u5316API\u3067\u3082\u3088\u304f\u4f7f\u308f\u308c\u307e\u3059\u3002","title":"\u56de\u5e30\u51fa\u529b\u3092\u304a\u3053\u306a\u3046\u5168\u7d50\u5408\u5c64\u306e\u53ef\u8996\u5316"},{"location":"visualizations/activation_maximization/#_5","text":"layer_idx \u304c \u7573\u307f\u8fbc\u307f \u5c64\u3092\u6307\u3059\u3053\u3068\u3067\u3001\u30d5\u30a3\u30eb\u30bf\u3092\u6d3b\u6027\u5316\u3059\u308b\u30d1\u30bf\u30fc\u30f3\u3092\u53ef\u8996\u5316\u3067\u304d\u307e\u3059\u3002 \u3053\u308c\u306f\u30d5\u30a3\u30eb\u30bf\u304c\u3069\u3046\u8a08\u7b97\u3055\u308c\u3066\u3044\u308b\u304b\u3092\u7406\u89e3\u3059\u308b\u306e\u306b\u5f79\u7acb\u3061\u307e\u3059\u3002 \u3053\u3053\u3067\u306f filter_indices \u306f\u30ec\u30a4\u30e4\u5185\u306e \u7573\u307f\u8fbc\u307f \u30d5\u30a3\u30eb\u30bf\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u53c2\u7167\u3057\u307e\u3059\u3002","title":"\u7573\u307f\u8fbc\u307f\u30d5\u30a3\u30eb\u30bf\u306e\u53ef\u8996\u5316"},{"location":"visualizations/activation_maximization/#_6","text":"backprop_modifiers \u3092\u4f7f\u3048\u3070\u3001\u8aa4\u5dee\u9006\u4f1d\u64ad\u306e\u632f\u308b\u821e\u3044\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u4f8b\u3048\u3070\u3001 backprop_modifier='relu' \u3092\u4f7f\u3046\u3053\u3068\u3067\u6b63\u306e\u52fe\u914d\u3060\u3051\u3092\u4f1d\u64ad\u3055\u305b\u308b\u3088\u3046\u5fae\u8abf\u6574\u3067\u304d\u307e\u3059\u3002 \u3053\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u95a2\u6570\u306b\u6e21\u3057\u3066\u3001\u30af\u30ec\u30a4\u30b8\u30fc\u306a\u7814\u7a76\u30a2\u30a4\u30c7\u30a2\u306e\u5b9f\u88c5\u306b\u4f7f\u3063\u3066\u4e0b\u3055\u3044\u3002 :-)","title":"\u9ad8\u5ea6\u306a\u4f7f\u3044\u65b9"},{"location":"visualizations/activation_maximization/#tips","text":"\u3069\u3046\u3057\u3088\u3046\u3082\u306a\u3044\u53ef\u8996\u5316\u3092\u5f97\u3066\u3057\u307e\u3063\u305f\u3089\u3001\u52fe\u914d\u964d\u4e0b\u53cd\u5fa9\u4e2d\u306e\u69d8\u3005\u306a\u30ed\u30b9\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b verbose=True \u3092\u8a2d\u5b9a\u3057\u3066\u307f\u3066\u4e0b\u3055\u3044\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001 visualize_activation \u306f\u3088\u308a\u81ea\u7136\u306a\u753b\u50cf\u3092\u5f97\u308b\u305f\u3081\u306b TotalVariation \u3068 LpNorm \u306e\u6b63\u5247\u5316\u3092\u4f7f\u3044\u307e\u3059\u3002 ActivationMaximization Loss \u304c\u6b63\u5247\u5316\u640d\u5931\u306e\u91cd\u307f\u4fc2\u6570\u306b\u652f\u914d\u3055\u308c\u3001\u5024\u304c\u524d\u5f8c\u306b\u8df3\u306d\u308b\u69d8\u5b50\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3067\u3057\u3087\u3046\u3002 \u5168\u3066\u306e\u91cd\u307f\u4fc2\u6570\u3092\u30bc\u30ed\u306b\u8a2d\u5b9a\u3057\u3066\u3001\u5f90\u3005\u306bTV\u640d\u5931\u306e\u91cd\u307f\u4fc2\u6570\u3092\u5897\u3084\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002 \u3088\u308a\u30b7\u30e3\u30fc\u30d7\u306a\u753b\u50cf\u3092\u5f97\u308b\u305f\u3081\u306b\u3001 Jitter \u5165\u529b\u4fee\u98fe\u5b50\u3092\u4f7f\u3063\u3066\u4e0b\u3055\u3044\u3002 \u56de\u5e30\u30e2\u30c7\u30eb\u306f\u901a\u5e38\u3001\u610f\u5473\u3042\u308b\u5165\u529b\u753b\u50cf\u3092\u751f\u6210\u3059\u308b\u305f\u3081\u306b\u5341\u5206\u306a\u52fe\u914d\u60c5\u5831\u3092\u63d0\u4f9b\u3057\u307e\u305b\u3093\u3002 \u3082\u3057\u5165\u529b\u753b\u50cf\u304c\u610f\u5473\u3092\u306a\u3055\u3044\u5834\u5408\u306f\u3001 seed_input \u3092\u4f7f\u3063\u3066\u521d\u671f\u5024\u3092\u4e0e\u3048\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002 \u3042\u306a\u305f\u304c\u767a\u898b\u3057\u305f\u6709\u7528\u306aTips\u3084\u30c8\u30ea\u30c3\u30af\u3092\u3001PullRequest\u3067keras-vis\u306b\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3092\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002","title":"Tips\u3068\u30c8\u30ea\u30c3\u30af"},{"location":"visualizations/class_activation_maps/","text":"Class Activation Map\u3068\u306f Class activation maps\u307e\u305f\u306fgrad-CAM\u306f\u3001\u5165\u529b\u306e\u6ce8\u76ee\u9818\u57df\u3092\u53ef\u8996\u5316\u3059\u308b\u3082\u3046\uff11\u3064\u306e\u65b9\u6cd5\u3067\u3059\u3002 \u30e2\u30c7\u30eb\u306e\u51fa\u529b\uff08 saliency \u3092\u53c2\u7167\uff09\u306b\u95a2\u3059\u308b\u52fe\u914d\u3092\u4f7f\u3046\u4ee3\u308f\u308a\u306b\u3001grad-CAM\u306f\u5f8c\u308d\u304b\u3089\uff12\u756a\u76ee\uff08 \u5168\u7d50\u5408 \u5c64\u306e\u524d\uff09\u306e \u7573\u307f\u8fbc\u307f \u5c64\u306e\u51fa\u529b\u3092\u4f7f\u3044\u307e\u3059\u3002 \u76f4\u611f\u7684\u306b\u306f\u3001 \u5168\u7d50\u5408 \u5c64\u3067\u5b8c\u5168\u306b\u5931\u308f\u308c\u308b\u7a7a\u9593\u60c5\u5831\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306b\u3001\u6700\u3082\u51fa\u529b\u306b\u8fd1\u3044 \u7573\u307f\u8fbc\u307f \u5c64\u3092\u4f7f\u3046\u3053\u3068\u3067\u3059\u3002 keras-vis\u3067\u306f\u3001 Class Activation maps \u3088\u308a\u3082\u6c4e\u7528\u7684\u3067\u719f\u8003\u3055\u308c\u305f grad-CAM \u3092\u4f7f\u3044\u307e\u3059\u3002 \u4f7f\u3044\u65b9 grad-CAM\u3067\u53ef\u8996\u5316\u3059\u308b\u305f\u3081\u306e\uff12\u3064\u306eAPI\u304c\u3042\u308a\u3001\u305d\u308c\u3089\u306f saliency\u306e\u4f7f\u3044\u65b9 \u3068\u307b\u3068\u3093\u3069\u540c\u3058\u3067\u3059\u3002 visualize_cam : grad-CAM\u3067\u53ef\u8996\u5316\u3059\u308b\u305f\u3081\u306e\u6c4e\u7528API\u3067\u3059\u3002 visualize_cam_with_losses : \u3044\u304f\u3064\u304b\u306e\u30ab\u30b9\u30bf\u30e0\u306a\u91cd\u307f\u4ed8\u304d\u4ed8\u304d\u640d\u5931\u3092\u6271\u3046\u3088\u3046\u306a\u7814\u7a76\u5229\u7528\u5411\u3051\u3067\u3059\u3002 \u6ce8\u76ee\u3059\u308b\u3079\u304d\u8ffd\u52a0\u306f penultimate_layer_idx \u30d1\u30e9\u30e1\u30fc\u30bf\u3060\u3051\u3067\u3059\u3002 \u3053\u308c\u306b\u3088\u308a\u7279\u5b9a\u306epre-layer\u306e\u51fa\u529b\u306e\u52fe\u914d\u304c\u4f7f\u308f\u308c\u308b\u3088\u3046\u306b\u3067\u304d\u307e\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001keras-vis\u306f\u6700\u3082\u8fd1\u3044\u30ec\u30a4\u30e4\u3092\u30d5\u30a3\u30eb\u30bf\u3067\u63a2\u3057\u307e\u3059\u3002 \u30b7\u30ca\u30ea\u30aa saliency\u306e\u30b7\u30ca\u30ea\u30aa \u3092\u53c2\u7167\u3057\u3066\u4e0b\u3055\u3044\u3002\u3059\u3079\u3066\u306f\u3001\u8ffd\u52a0\u3055\u308c\u305f penultimate_layer_idx \u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u671f\u5f85\u3057\u3066\u4e0b\u3055\u3044\u3002 \u4e86\u89e3 grad-CAM\u306f\u53ef\u8996\u5316\u3055\u308c\u308b\u30ec\u30a4\u30e4\u304c\u5f8c\u308d\u304b\u3089\uff12\u756a\u76ee\u306e\u30ec\u30a4\u30e4\u306b\u8fd1\u3044\u5834\u5408\u306e\u307f\u3001\u4e0a\u624b\u304f\u6a5f\u80fd\u3057\u307e\u3059\u3002 \u3053\u308c\u306f \u7573\u307f\u8fbc\u307f \u30d5\u30a3\u30eb\u30bf\u306e\u53ef\u8996\u5316\u306b\u3082\u8a00\u3048\u307e\u3059\u3002 \u3042\u306a\u305f\u306e\u30e2\u30c7\u30eb\u304c\u3053\u306e\u30b1\u30fc\u30b9\u306b\u8a72\u5f53\u3057\u306a\u3044\u5834\u5408\u306fsaliency\u3092\u4f7f\u3046\u307b\u3046\u304c\u826f\u3044\u3067\u3057\u3087\u3046\u3002","title":"Class Activation Maps"},{"location":"visualizations/class_activation_maps/#class-activation-map","text":"Class activation maps\u307e\u305f\u306fgrad-CAM\u306f\u3001\u5165\u529b\u306e\u6ce8\u76ee\u9818\u57df\u3092\u53ef\u8996\u5316\u3059\u308b\u3082\u3046\uff11\u3064\u306e\u65b9\u6cd5\u3067\u3059\u3002 \u30e2\u30c7\u30eb\u306e\u51fa\u529b\uff08 saliency \u3092\u53c2\u7167\uff09\u306b\u95a2\u3059\u308b\u52fe\u914d\u3092\u4f7f\u3046\u4ee3\u308f\u308a\u306b\u3001grad-CAM\u306f\u5f8c\u308d\u304b\u3089\uff12\u756a\u76ee\uff08 \u5168\u7d50\u5408 \u5c64\u306e\u524d\uff09\u306e \u7573\u307f\u8fbc\u307f \u5c64\u306e\u51fa\u529b\u3092\u4f7f\u3044\u307e\u3059\u3002 \u76f4\u611f\u7684\u306b\u306f\u3001 \u5168\u7d50\u5408 \u5c64\u3067\u5b8c\u5168\u306b\u5931\u308f\u308c\u308b\u7a7a\u9593\u60c5\u5831\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306b\u3001\u6700\u3082\u51fa\u529b\u306b\u8fd1\u3044 \u7573\u307f\u8fbc\u307f \u5c64\u3092\u4f7f\u3046\u3053\u3068\u3067\u3059\u3002 keras-vis\u3067\u306f\u3001 Class Activation maps \u3088\u308a\u3082\u6c4e\u7528\u7684\u3067\u719f\u8003\u3055\u308c\u305f grad-CAM \u3092\u4f7f\u3044\u307e\u3059\u3002","title":"Class Activation Map\u3068\u306f"},{"location":"visualizations/class_activation_maps/#_1","text":"grad-CAM\u3067\u53ef\u8996\u5316\u3059\u308b\u305f\u3081\u306e\uff12\u3064\u306eAPI\u304c\u3042\u308a\u3001\u305d\u308c\u3089\u306f saliency\u306e\u4f7f\u3044\u65b9 \u3068\u307b\u3068\u3093\u3069\u540c\u3058\u3067\u3059\u3002 visualize_cam : grad-CAM\u3067\u53ef\u8996\u5316\u3059\u308b\u305f\u3081\u306e\u6c4e\u7528API\u3067\u3059\u3002 visualize_cam_with_losses : \u3044\u304f\u3064\u304b\u306e\u30ab\u30b9\u30bf\u30e0\u306a\u91cd\u307f\u4ed8\u304d\u4ed8\u304d\u640d\u5931\u3092\u6271\u3046\u3088\u3046\u306a\u7814\u7a76\u5229\u7528\u5411\u3051\u3067\u3059\u3002 \u6ce8\u76ee\u3059\u308b\u3079\u304d\u8ffd\u52a0\u306f penultimate_layer_idx \u30d1\u30e9\u30e1\u30fc\u30bf\u3060\u3051\u3067\u3059\u3002 \u3053\u308c\u306b\u3088\u308a\u7279\u5b9a\u306epre-layer\u306e\u51fa\u529b\u306e\u52fe\u914d\u304c\u4f7f\u308f\u308c\u308b\u3088\u3046\u306b\u3067\u304d\u307e\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001keras-vis\u306f\u6700\u3082\u8fd1\u3044\u30ec\u30a4\u30e4\u3092\u30d5\u30a3\u30eb\u30bf\u3067\u63a2\u3057\u307e\u3059\u3002","title":"\u4f7f\u3044\u65b9"},{"location":"visualizations/class_activation_maps/#_2","text":"saliency\u306e\u30b7\u30ca\u30ea\u30aa \u3092\u53c2\u7167\u3057\u3066\u4e0b\u3055\u3044\u3002\u3059\u3079\u3066\u306f\u3001\u8ffd\u52a0\u3055\u308c\u305f penultimate_layer_idx \u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u671f\u5f85\u3057\u3066\u4e0b\u3055\u3044\u3002","title":"\u30b7\u30ca\u30ea\u30aa"},{"location":"visualizations/class_activation_maps/#_3","text":"grad-CAM\u306f\u53ef\u8996\u5316\u3055\u308c\u308b\u30ec\u30a4\u30e4\u304c\u5f8c\u308d\u304b\u3089\uff12\u756a\u76ee\u306e\u30ec\u30a4\u30e4\u306b\u8fd1\u3044\u5834\u5408\u306e\u307f\u3001\u4e0a\u624b\u304f\u6a5f\u80fd\u3057\u307e\u3059\u3002 \u3053\u308c\u306f \u7573\u307f\u8fbc\u307f \u30d5\u30a3\u30eb\u30bf\u306e\u53ef\u8996\u5316\u306b\u3082\u8a00\u3048\u307e\u3059\u3002 \u3042\u306a\u305f\u306e\u30e2\u30c7\u30eb\u304c\u3053\u306e\u30b1\u30fc\u30b9\u306b\u8a72\u5f53\u3057\u306a\u3044\u5834\u5408\u306fsaliency\u3092\u4f7f\u3046\u307b\u3046\u304c\u826f\u3044\u3067\u3057\u3087\u3046\u3002","title":"\u4e86\u89e3"},{"location":"visualizations/saliency/","text":"Saliency\u3068\u306f \u9ce5\u30af\u30e9\u30b9 \u306e\u5b66\u7fd2\u7528\u753b\u50cf\u306e\u5168\u3066\u306b\u6a39\u304c\u542b\u307e\u308c\u3066\u3044\u305f\u3068\u4eee\u5b9a\u3057\u307e\u3059\u3002 CNN\u304c\u753b\u50cf\u5185\u306e\u9ce5\u306b\u95a2\u9023\u3059\u308b\u30d4\u30af\u30bb\u30eb\u3092\u4f7f\u3063\u3066\u3044\u308b\u306e\u304b\u3001\u305d\u308c\u3068\u3082\u6a39\u3084\u8449\u306e\u3088\u3046\u306a\u9ce5\u4ee5\u5916\u306e\u7279\u5fb4\u3092\u4f7f\u3063\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u3001\u3069\u3046\u3084\u3063\u3066\u77e5\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304b\uff1f \u3053\u308c\u306f\u5b9f\u969b\u3001\u3042\u306a\u305f\u304c\u8003\u3048\u308b\u3088\u308a\u3082\u983b\u7e41\u306b\u8d77\u3053\u308a\u3001\u5c0f\u3055\u306a\u5b66\u7fd2\u30bb\u30c3\u30c8\u306e\u5834\u5408\u306f\u7279\u306b\u7591\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 Saliency\u30de\u30c3\u30d7\u306f\u3053\u306e\u8ad6\u6587\u3067\u6700\u521d\u306b\u6271\u308f\u308c\u307e\u3057\u305f\uff1a Deep Inside Convolutional Networks: Visualising Image Classification Models and Saliency Maps \u3002 Saliency\u306e\u80cc\u666f\u306b\u3042\u308b\u30a2\u30a4\u30c7\u30a2\u306f\u4eca\u3068\u306a\u3063\u3066\u306f \u304b\u306a\u308a\u30b7\u30f3\u30d7\u30eb\u3067\u3059\u3002 \u5165\u529b\u753b\u50cf\u306b\u95a2\u3059\u308b\u51fa\u529b\u30ab\u30c6\u30b4\u30ea\u306e\u52fe\u914d\u3092\u8a08\u7b97\u3057\u307e\u3059\u3002 \\frac{\\partial output}{\\partial input} \u3053\u308c\u306f\u5165\u529b\u306e\u5c0f\u3055\u306a\u5909\u5316\u306b\u95a2\u3057\u3066\u51fa\u529b\u5024\u304c\u3069\u306e\u3088\u3046\u306b\u5909\u5316\u3059\u308b\u304b\u3092\u6559\u3048\u3066\u304f\u308c\u307e\u3059\u3002 \u51fa\u529b\u306e\u6700\u3082\u5927\u304d\u306a\u5909\u5316\u306e\u8981\u56e0\u3068\u306a\u308b\u5165\u529b\u9818\u57df\u3092\u5f37\u8abf\u3059\u308b\u305f\u3081\u306b\u3001\u3053\u308c\u3089\u306e\u52fe\u914d\u3092\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u3053\u308c\u306f\u6700\u3082\u51fa\u529b\u3078\u306e\u8ca2\u732e\u304c\u9855\u8457\u306a(salient)\u5165\u529b\u9818\u57df\u3092\u76f4\u611f\u7684\u306b\u5f37\u8abf\u3059\u308b\u306f\u305a\u3067\u3059\u3002 \u4f7f\u3044\u65b9 Saliency\u3092\u53ef\u8996\u5316\u3059\u308b\u305f\u3081\u306e\uff12\u3064\u306eAPI\u304c\u3042\u308a\u307e\u3059\u3002 visualize_saliency : Saliency\u3092\u53ef\u8996\u5316\u3059\u308b\u305f\u3081\u306e\u6c4e\u7528API\u3067\u3059\u3002 visualize_saliency_with_losses : \u3044\u304f\u3064\u304b\u306e\u30ab\u30b9\u30bf\u30e0\u306a\u91cd\u307f\u4ed8\u304d\u4ed8\u304d\u640d\u5931\u3092\u6271\u3046\u3088\u3046\u306a\u7814\u7a76\u5229\u7528\u5411\u3051\u3067\u3059\u3002 examples/ \u306b\u3042\u308b\u30b3\u30fc\u30c9\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30b7\u30ca\u30ea\u30aa API\u306f\u3068\u3066\u3082\u4e00\u822c\u7684\u306a\u76ee\u7684\u3067\u3001\u5e45\u5e83\u304f\u69d8\u3005\u306a\u30b7\u30ca\u30ea\u30aa\u3067\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002 \u6700\u3082\u4e00\u822c\u7684\u306a\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3092\u4e0b\u8a18\u306b\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\u3057\u307e\u3059\uff1a \u5206\u985e\u51fa\u529b\u3092\u304a\u3053\u306a\u3046\u5168\u7d50\u5408\u5c64\u306e\u53ef\u8996\u5316 layer_idx \u306b\u6700\u5f8c\u306e \u5168\u7d50\u5408 \u5c64\u3092\u8a2d\u5b9a\u3057\u3001 filter_indices \u3067\u51fa\u529b\u3057\u305f\u3044\u30ab\u30c6\u30b4\u30ea\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001 \u51fa\u529b\u30ce\u30fc\u30c9\u306b\u5bfe\u3059\u308b\u6d3b\u6027\u5316\u306b\u6700\u3082\u8ca2\u732e\u3059\u308b seed_input \u306e\u4e00\u90e8\u3092\u53ef\u8996\u5316\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u8907\u6570\u30af\u30e9\u30b9\u5206\u985e\u3067\u306f\u3001filter_indices\u306f\uff11\u3064\u306e\u30af\u30e9\u30b9\u3092\u6307\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u8907\u6570\u30e9\u30d9\u30eb\u5206\u985e\u3067\u306f\u3001\u9069\u5207\u306afilter_indices\u3092\u6307\u5b9a\u3059\u308b\u3060\u3051\u3067\u3059\u3002 \u56de\u5e30\u51fa\u529b\u3092\u304a\u3053\u306a\u3046\u5168\u7d50\u5408\u5c64\u306e\u53ef\u8996\u5316 \u56de\u5e30\u51fa\u529b\u3067\u306f\u3001 filter_indices \u306e\u51fa\u529b\u3092 \u5897\u52a0\u3055\u305b\u308b\u5165\u529b \u6e1b\u5c11\u3055\u305b\u308b\u5165\u529b \u7dad\u6301\u3059\u308b\u5165\u529b \u306b\u5bfe\u3059\u308b\u6ce8\u76ee\u3092\u53ef\u8996\u5316\u3067\u304d\u307e\u3059\u3002 \u4f8b\u3048\u3070\u3001\u7d99\u7d9a\u7684\u306b\u64cd\u8235\u51fa\u529b\u3092\u56de\u5e30\u3059\u308b\u81ea\u52d5\u904b\u8ee2\u30e2\u30c7\u30eb\u3092\u8003\u3048\u307e\u3059\u3002 \u3053\u306e\u30e2\u30c7\u30eb\u306f\u56de\u5e30\u51fa\u529b\u306e\u5897\u52a0\u3001\u6e1b\u5c11\u307e\u305f\u306f\u7dad\u6301\u306b\u8ca2\u732e\u3059\u308b seed_input \u306e\u4e00\u90e8\u3092\u53ef\u8996\u5316\u3067\u304d\u307e\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001Saliency\u306f\u51fa\u529b\u6d3b\u6027\u5316\u3092\u3069\u3046\u3084\u3063\u3066\u5897\u52a0\u3055\u305b\u308b\u304b\u3092\u6559\u3048\u3066\u304f\u308c\u307e\u3059\u3002 \u81ea\u52d5\u904b\u8ee2\u306e\u30b1\u30fc\u30b9\u3067\u8a00\u3048\u3070\u3001\u64cd\u8235\u89d2\u5ea6\u306e\u5897\u52a0\u306b\u8ca2\u732e\u3059\u308b\u5165\u529b\u753b\u50cf\u306e\u4e00\u90e8\u306e\u307f\u3092\u4f1d\u3048\u3066\u304f\u308c\u307e\u3059\u3002 \u305d\u306e\u4ed6\u306f\u52fe\u914d\u4fee\u98fe\u5b50\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u53ef\u8996\u5316\u3067\u304d\u307e\u3059\u3002 \u305d\u306e\u540d\u524d\u304b\u3089\u9023\u60f3\u3059\u308b\u901a\u308a\u3001\u5165\u529b\u306b\u95a2\u3059\u308b\u640d\u5931\u306e\u52fe\u914d\u3092\u7de8\u96c6\u3059\u308b\u305f\u3081\u306b\u4f7f\u308f\u308c\u307e\u3059\u3002 \u51fa\u529b\u306e\u6e1b\u5c11\u3092\u53ef\u8996\u5316\u3059\u308b\u306b\u306f\u3001 grad_modifier='negate' \u3092\u4f7f\u3044\u307e\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001 ActivationMaximization \u640d\u5931\u306f\u51fa\u529b\u3092\u5897\u52a0\u3055\u305b\u308b\u5165\u529b\u9818\u57df\u306b\u6b63\u306e\u52fe\u914d\u3092\u751f\u3058\u3055\u305b\u307e\u3059\u3002 grad_modifier='negate' \u306e\u8a2d\u5b9a\u306b\u3088\u308a\u3001\uff08\u6e1b\u5c11\u3092\u793a\u3059\uff09\u8ca0\u306e\u52fe\u914d\u3092\u6b63\u3068\u3057\u3066\u6271\u3048\u308b\u306e\u3067\u3001\u6e1b\u5c11\u3059\u308b\u30b1\u30fc\u30b9\u3092\u53ef\u8996\u5316\u3067\u304d\u307e\u3059\u3002 \u51fa\u529b\u306b\u4f55\u304c\u8ca2\u732e\u3057\u305f\u304b\u3092\u53ef\u8996\u5316\u3059\u308b\u305f\u3081\u306b\u3001\u6b63\u307e\u305f\u306f\u8ca0\u306e\u3068\u3066\u3082\u5c0f\u3055\u306a\u5024\u306e\u52fe\u914d\u306b\u3064\u3044\u3066\u8003\u5bdf\u306e\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u3053\u308c\u306f\u5c0f\u3055\u306a\u52fe\u914d\u3092\u5897\u5e45\u3059\u308b\u305f\u3081\u306e grads = abs(1 / grads) \u3092\u5b9f\u884c\u3059\u308c\u3070\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002 \u540c\u7b49\u306e\u3053\u3068\u306f grad_modifier='small_values' \u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002 gradient_modifiers \u306f\u3068\u3066\u3082\u5f37\u529b\u3067\u3001\u4ed6\u306e\u53ef\u8996\u5316API\u3067\u3082\u3088\u304f\u4f7f\u308f\u308c\u307e\u3059\u3002 self diving car \u306e\u4f8b\u3067\u3001\u5b9f\u969b\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u30ac\u30a4\u30c9\u4ed8\u304d\uff08\u307e\u305f\u306f\u77ef\u6b63\u4ed8\u304d\uff09Saliency Zieler\u3089\u306f\u3001\u8aa4\u5dee\u9006\u4f1d\u64ad\u30b9\u30c6\u30c3\u30d7\u306e\u8ca0\u3067\u52fe\u914d\u3092\u30af\u30ea\u30c3\u30d7\u3059\u308b\u3053\u3068\u3092\u8003\u3048\u307e\u3057\u305f\u3002 \u3059\u306a\u308f\u3061\u3001\u51fa\u529b\u306e\u5897\u52a0\u3092\u4f1d\u3048\u308b\u6b63\u306e\u52fe\u914d\u60c5\u5831\u3060\u3051\u3092\u4f1d\u642c\u3057\u307e\u3059\u3002 \u3053\u308c\u3092\u77ef\u6b63\u3055\u308c\u305fSaliency\u307e\u305f\u306f\u9006\u7573\u307f\u8fbc\u307f\u306eSaliency\u3068\u547c\u3073\u307e\u3059\u3002 \u8a73\u7d30\u306f\u8ad6\u6587\u3067\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a Visualizing and Understanding Convolutional Networks \u3002 \u30ac\u30a4\u30c9\u4ed8\u304dSaliency\u3067\u306f\u3001\u8aa4\u5dee\u9006\u4f1d\u64ad\u30b9\u30c6\u30c3\u30d7\u306f\u6b63\u306e\u6d3b\u6027\u5316\u3092\u5f97\u308b\u6b63\u306e\u52fe\u914d\u3060\u3051\u3092\u4f1d\u64ad\u3059\u308b\u3088\u3046\u5909\u66f4\u3055\u308c\u307e\u3059\u3002 \u8a73\u3057\u304f\u306f\u8ad6\u6587\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\uff1a String For Simplicity: The All Convolutional Net \u3044\u305a\u308c\u306e\u30b1\u30fc\u30b9\u3082\u3001\u305d\u308c\u305e\u308c backprop_modifier='relu' \u3084 backprop_modifier='guided' \u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002 \u30af\u30ec\u30a4\u30b8\u30fc\u306a\u7814\u7a76\u306b\u6311\u6226\u3059\u308b\u305f\u3081\u3001\u81ea\u5206\u3060\u3051\u306e backprop_modifier \u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 \u7573\u307f\u8fbc\u307f\u30d5\u30a3\u30eb\u30bf\u306eSaliency layer_idx \u3067 \u7573\u307f\u8fbc\u307f \u5c64\u3092\u6307\u3057\u3066\u3001\u30d5\u30a3\u30eb\u30bf\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308b\u753b\u50cf\u306e\u4e00\u90e8\u3092\u53ef\u8996\u5316\u3067\u304d\u307e\u3059\u3002 \u3053\u308c\u306f\u30d5\u30a3\u30eb\u30bf\u304c\u5f71\u97ff\u3092\u53d7\u3051\u308b\u3082\u306e\u306b\u3064\u3044\u3066\u3001\u6c17\u4ed8\u304d\u3092\u5f97\u308b\u52a9\u3051\u306b\u306a\u308a\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001 filter_indices \u306f\u30ec\u30a4\u30e4\u5185\u306e \u7573\u307f\u8fbc\u307f \u30d5\u30a3\u30eb\u30bf\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u53c2\u7167\u3057\u3066\u3044\u307e\u3059\u3002","title":"Saliency Maps"},{"location":"visualizations/saliency/#saliency","text":"\u9ce5\u30af\u30e9\u30b9 \u306e\u5b66\u7fd2\u7528\u753b\u50cf\u306e\u5168\u3066\u306b\u6a39\u304c\u542b\u307e\u308c\u3066\u3044\u305f\u3068\u4eee\u5b9a\u3057\u307e\u3059\u3002 CNN\u304c\u753b\u50cf\u5185\u306e\u9ce5\u306b\u95a2\u9023\u3059\u308b\u30d4\u30af\u30bb\u30eb\u3092\u4f7f\u3063\u3066\u3044\u308b\u306e\u304b\u3001\u305d\u308c\u3068\u3082\u6a39\u3084\u8449\u306e\u3088\u3046\u306a\u9ce5\u4ee5\u5916\u306e\u7279\u5fb4\u3092\u4f7f\u3063\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u3001\u3069\u3046\u3084\u3063\u3066\u77e5\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304b\uff1f \u3053\u308c\u306f\u5b9f\u969b\u3001\u3042\u306a\u305f\u304c\u8003\u3048\u308b\u3088\u308a\u3082\u983b\u7e41\u306b\u8d77\u3053\u308a\u3001\u5c0f\u3055\u306a\u5b66\u7fd2\u30bb\u30c3\u30c8\u306e\u5834\u5408\u306f\u7279\u306b\u7591\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 Saliency\u30de\u30c3\u30d7\u306f\u3053\u306e\u8ad6\u6587\u3067\u6700\u521d\u306b\u6271\u308f\u308c\u307e\u3057\u305f\uff1a Deep Inside Convolutional Networks: Visualising Image Classification Models and Saliency Maps \u3002 Saliency\u306e\u80cc\u666f\u306b\u3042\u308b\u30a2\u30a4\u30c7\u30a2\u306f\u4eca\u3068\u306a\u3063\u3066\u306f \u304b\u306a\u308a\u30b7\u30f3\u30d7\u30eb\u3067\u3059\u3002 \u5165\u529b\u753b\u50cf\u306b\u95a2\u3059\u308b\u51fa\u529b\u30ab\u30c6\u30b4\u30ea\u306e\u52fe\u914d\u3092\u8a08\u7b97\u3057\u307e\u3059\u3002 \\frac{\\partial output}{\\partial input} \u3053\u308c\u306f\u5165\u529b\u306e\u5c0f\u3055\u306a\u5909\u5316\u306b\u95a2\u3057\u3066\u51fa\u529b\u5024\u304c\u3069\u306e\u3088\u3046\u306b\u5909\u5316\u3059\u308b\u304b\u3092\u6559\u3048\u3066\u304f\u308c\u307e\u3059\u3002 \u51fa\u529b\u306e\u6700\u3082\u5927\u304d\u306a\u5909\u5316\u306e\u8981\u56e0\u3068\u306a\u308b\u5165\u529b\u9818\u57df\u3092\u5f37\u8abf\u3059\u308b\u305f\u3081\u306b\u3001\u3053\u308c\u3089\u306e\u52fe\u914d\u3092\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u3053\u308c\u306f\u6700\u3082\u51fa\u529b\u3078\u306e\u8ca2\u732e\u304c\u9855\u8457\u306a(salient)\u5165\u529b\u9818\u57df\u3092\u76f4\u611f\u7684\u306b\u5f37\u8abf\u3059\u308b\u306f\u305a\u3067\u3059\u3002","title":"Saliency\u3068\u306f"},{"location":"visualizations/saliency/#_1","text":"Saliency\u3092\u53ef\u8996\u5316\u3059\u308b\u305f\u3081\u306e\uff12\u3064\u306eAPI\u304c\u3042\u308a\u307e\u3059\u3002 visualize_saliency : Saliency\u3092\u53ef\u8996\u5316\u3059\u308b\u305f\u3081\u306e\u6c4e\u7528API\u3067\u3059\u3002 visualize_saliency_with_losses : \u3044\u304f\u3064\u304b\u306e\u30ab\u30b9\u30bf\u30e0\u306a\u91cd\u307f\u4ed8\u304d\u4ed8\u304d\u640d\u5931\u3092\u6271\u3046\u3088\u3046\u306a\u7814\u7a76\u5229\u7528\u5411\u3051\u3067\u3059\u3002 examples/ \u306b\u3042\u308b\u30b3\u30fc\u30c9\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002","title":"\u4f7f\u3044\u65b9"},{"location":"visualizations/saliency/#_2","text":"API\u306f\u3068\u3066\u3082\u4e00\u822c\u7684\u306a\u76ee\u7684\u3067\u3001\u5e45\u5e83\u304f\u69d8\u3005\u306a\u30b7\u30ca\u30ea\u30aa\u3067\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002 \u6700\u3082\u4e00\u822c\u7684\u306a\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3092\u4e0b\u8a18\u306b\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\u3057\u307e\u3059\uff1a","title":"\u30b7\u30ca\u30ea\u30aa"},{"location":"visualizations/saliency/#_3","text":"layer_idx \u306b\u6700\u5f8c\u306e \u5168\u7d50\u5408 \u5c64\u3092\u8a2d\u5b9a\u3057\u3001 filter_indices \u3067\u51fa\u529b\u3057\u305f\u3044\u30ab\u30c6\u30b4\u30ea\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001 \u51fa\u529b\u30ce\u30fc\u30c9\u306b\u5bfe\u3059\u308b\u6d3b\u6027\u5316\u306b\u6700\u3082\u8ca2\u732e\u3059\u308b seed_input \u306e\u4e00\u90e8\u3092\u53ef\u8996\u5316\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u8907\u6570\u30af\u30e9\u30b9\u5206\u985e\u3067\u306f\u3001filter_indices\u306f\uff11\u3064\u306e\u30af\u30e9\u30b9\u3092\u6307\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u8907\u6570\u30e9\u30d9\u30eb\u5206\u985e\u3067\u306f\u3001\u9069\u5207\u306afilter_indices\u3092\u6307\u5b9a\u3059\u308b\u3060\u3051\u3067\u3059\u3002","title":"\u5206\u985e\u51fa\u529b\u3092\u304a\u3053\u306a\u3046\u5168\u7d50\u5408\u5c64\u306e\u53ef\u8996\u5316"},{"location":"visualizations/saliency/#_4","text":"\u56de\u5e30\u51fa\u529b\u3067\u306f\u3001 filter_indices \u306e\u51fa\u529b\u3092 \u5897\u52a0\u3055\u305b\u308b\u5165\u529b \u6e1b\u5c11\u3055\u305b\u308b\u5165\u529b \u7dad\u6301\u3059\u308b\u5165\u529b \u306b\u5bfe\u3059\u308b\u6ce8\u76ee\u3092\u53ef\u8996\u5316\u3067\u304d\u307e\u3059\u3002 \u4f8b\u3048\u3070\u3001\u7d99\u7d9a\u7684\u306b\u64cd\u8235\u51fa\u529b\u3092\u56de\u5e30\u3059\u308b\u81ea\u52d5\u904b\u8ee2\u30e2\u30c7\u30eb\u3092\u8003\u3048\u307e\u3059\u3002 \u3053\u306e\u30e2\u30c7\u30eb\u306f\u56de\u5e30\u51fa\u529b\u306e\u5897\u52a0\u3001\u6e1b\u5c11\u307e\u305f\u306f\u7dad\u6301\u306b\u8ca2\u732e\u3059\u308b seed_input \u306e\u4e00\u90e8\u3092\u53ef\u8996\u5316\u3067\u304d\u307e\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001Saliency\u306f\u51fa\u529b\u6d3b\u6027\u5316\u3092\u3069\u3046\u3084\u3063\u3066\u5897\u52a0\u3055\u305b\u308b\u304b\u3092\u6559\u3048\u3066\u304f\u308c\u307e\u3059\u3002 \u81ea\u52d5\u904b\u8ee2\u306e\u30b1\u30fc\u30b9\u3067\u8a00\u3048\u3070\u3001\u64cd\u8235\u89d2\u5ea6\u306e\u5897\u52a0\u306b\u8ca2\u732e\u3059\u308b\u5165\u529b\u753b\u50cf\u306e\u4e00\u90e8\u306e\u307f\u3092\u4f1d\u3048\u3066\u304f\u308c\u307e\u3059\u3002 \u305d\u306e\u4ed6\u306f\u52fe\u914d\u4fee\u98fe\u5b50\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u53ef\u8996\u5316\u3067\u304d\u307e\u3059\u3002 \u305d\u306e\u540d\u524d\u304b\u3089\u9023\u60f3\u3059\u308b\u901a\u308a\u3001\u5165\u529b\u306b\u95a2\u3059\u308b\u640d\u5931\u306e\u52fe\u914d\u3092\u7de8\u96c6\u3059\u308b\u305f\u3081\u306b\u4f7f\u308f\u308c\u307e\u3059\u3002 \u51fa\u529b\u306e\u6e1b\u5c11\u3092\u53ef\u8996\u5316\u3059\u308b\u306b\u306f\u3001 grad_modifier='negate' \u3092\u4f7f\u3044\u307e\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001 ActivationMaximization \u640d\u5931\u306f\u51fa\u529b\u3092\u5897\u52a0\u3055\u305b\u308b\u5165\u529b\u9818\u57df\u306b\u6b63\u306e\u52fe\u914d\u3092\u751f\u3058\u3055\u305b\u307e\u3059\u3002 grad_modifier='negate' \u306e\u8a2d\u5b9a\u306b\u3088\u308a\u3001\uff08\u6e1b\u5c11\u3092\u793a\u3059\uff09\u8ca0\u306e\u52fe\u914d\u3092\u6b63\u3068\u3057\u3066\u6271\u3048\u308b\u306e\u3067\u3001\u6e1b\u5c11\u3059\u308b\u30b1\u30fc\u30b9\u3092\u53ef\u8996\u5316\u3067\u304d\u307e\u3059\u3002 \u51fa\u529b\u306b\u4f55\u304c\u8ca2\u732e\u3057\u305f\u304b\u3092\u53ef\u8996\u5316\u3059\u308b\u305f\u3081\u306b\u3001\u6b63\u307e\u305f\u306f\u8ca0\u306e\u3068\u3066\u3082\u5c0f\u3055\u306a\u5024\u306e\u52fe\u914d\u306b\u3064\u3044\u3066\u8003\u5bdf\u306e\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u3053\u308c\u306f\u5c0f\u3055\u306a\u52fe\u914d\u3092\u5897\u5e45\u3059\u308b\u305f\u3081\u306e grads = abs(1 / grads) \u3092\u5b9f\u884c\u3059\u308c\u3070\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002 \u540c\u7b49\u306e\u3053\u3068\u306f grad_modifier='small_values' \u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002 gradient_modifiers \u306f\u3068\u3066\u3082\u5f37\u529b\u3067\u3001\u4ed6\u306e\u53ef\u8996\u5316API\u3067\u3082\u3088\u304f\u4f7f\u308f\u308c\u307e\u3059\u3002 self diving car \u306e\u4f8b\u3067\u3001\u5b9f\u969b\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002","title":"\u56de\u5e30\u51fa\u529b\u3092\u304a\u3053\u306a\u3046\u5168\u7d50\u5408\u5c64\u306e\u53ef\u8996\u5316"},{"location":"visualizations/saliency/#saliency_1","text":"Zieler\u3089\u306f\u3001\u8aa4\u5dee\u9006\u4f1d\u64ad\u30b9\u30c6\u30c3\u30d7\u306e\u8ca0\u3067\u52fe\u914d\u3092\u30af\u30ea\u30c3\u30d7\u3059\u308b\u3053\u3068\u3092\u8003\u3048\u307e\u3057\u305f\u3002 \u3059\u306a\u308f\u3061\u3001\u51fa\u529b\u306e\u5897\u52a0\u3092\u4f1d\u3048\u308b\u6b63\u306e\u52fe\u914d\u60c5\u5831\u3060\u3051\u3092\u4f1d\u642c\u3057\u307e\u3059\u3002 \u3053\u308c\u3092\u77ef\u6b63\u3055\u308c\u305fSaliency\u307e\u305f\u306f\u9006\u7573\u307f\u8fbc\u307f\u306eSaliency\u3068\u547c\u3073\u307e\u3059\u3002 \u8a73\u7d30\u306f\u8ad6\u6587\u3067\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a Visualizing and Understanding Convolutional Networks \u3002 \u30ac\u30a4\u30c9\u4ed8\u304dSaliency\u3067\u306f\u3001\u8aa4\u5dee\u9006\u4f1d\u64ad\u30b9\u30c6\u30c3\u30d7\u306f\u6b63\u306e\u6d3b\u6027\u5316\u3092\u5f97\u308b\u6b63\u306e\u52fe\u914d\u3060\u3051\u3092\u4f1d\u64ad\u3059\u308b\u3088\u3046\u5909\u66f4\u3055\u308c\u307e\u3059\u3002 \u8a73\u3057\u304f\u306f\u8ad6\u6587\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\uff1a String For Simplicity: The All Convolutional Net \u3044\u305a\u308c\u306e\u30b1\u30fc\u30b9\u3082\u3001\u305d\u308c\u305e\u308c backprop_modifier='relu' \u3084 backprop_modifier='guided' \u3067\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002 \u30af\u30ec\u30a4\u30b8\u30fc\u306a\u7814\u7a76\u306b\u6311\u6226\u3059\u308b\u305f\u3081\u3001\u81ea\u5206\u3060\u3051\u306e backprop_modifier \u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002","title":"\u30ac\u30a4\u30c9\u4ed8\u304d\uff08\u307e\u305f\u306f\u77ef\u6b63\u4ed8\u304d\uff09Saliency"},{"location":"visualizations/saliency/#saliency_2","text":"layer_idx \u3067 \u7573\u307f\u8fbc\u307f \u5c64\u3092\u6307\u3057\u3066\u3001\u30d5\u30a3\u30eb\u30bf\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308b\u753b\u50cf\u306e\u4e00\u90e8\u3092\u53ef\u8996\u5316\u3067\u304d\u307e\u3059\u3002 \u3053\u308c\u306f\u30d5\u30a3\u30eb\u30bf\u304c\u5f71\u97ff\u3092\u53d7\u3051\u308b\u3082\u306e\u306b\u3064\u3044\u3066\u3001\u6c17\u4ed8\u304d\u3092\u5f97\u308b\u52a9\u3051\u306b\u306a\u308a\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001 filter_indices \u306f\u30ec\u30a4\u30e4\u5185\u306e \u7573\u307f\u8fbc\u307f \u30d5\u30a3\u30eb\u30bf\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u53c2\u7167\u3057\u3066\u3044\u307e\u3059\u3002","title":"\u7573\u307f\u8fbc\u307f\u30d5\u30a3\u30eb\u30bf\u306eSaliency"}]}